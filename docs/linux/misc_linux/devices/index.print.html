<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.111.3">
    <meta name="generator" content="Relearn 5.17.1+tip">
    <meta name="description" content="Linux, Tech, Open Source Software, Privacy">
    <meta name="author" content="David">
    <title>Devices - Perfect Dark Mode</title>
    <link href="http://perfectdarkmode.com/linux/misc_linux/devices/index.html" rel="canonical" type="text/html" title="Devices - Perfect Dark Mode">
    <link href="/linux/misc_linux/devices/index.xml" rel="alternate" type="application/rss+xml" title="Devices - Perfect Dark Mode">
    <link href="/images/favicon.png?1700252831" rel="icon" type="image/png">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="/css/fontawesome-all.min.css?1700252831" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fontawesome-all.min.css?1700252831" rel="stylesheet"></noscript>
    <link href="/css/nucleus.css?1700252831" rel="stylesheet">
    <link href="/css/auto-complete.css?1700252831" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/auto-complete.css?1700252831" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar.min.css?1700252831" rel="stylesheet">
    <link href="/css/fonts.css?1700252831" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fonts.css?1700252831" rel="stylesheet"></noscript>
    <link href="/css/theme.css?1700252831" rel="stylesheet">
    <link href="/css/theme-city2.css?1700252831" rel="stylesheet" id="variant-style">
    <link href="/css/variant.css?1700252831" rel="stylesheet">
    <link href="/css/print.css?1700252831" rel="stylesheet" media="print">
    <link href="/css/format-print.css?1700252831" rel="stylesheet">
    <link href="/css/ie.css?1700252831" rel="stylesheet">
    <script src="/js/url.js?1700252831"></script>
    <script src="/js/variant.js?1700252831"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="/index.search.js";
      var root_url="/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='http:\/\/perfectdarkmode.com/';
      window.variants && variants.init( [ 'city2' ] );
    </script>
  </head>
  <body class="mobile-support print" data-url="/linux/misc_linux/devices/index.html">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" class="topbar-link" title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/index.html"><span itemprop="name">Perfect Dark Mode</span></a><meta itemprop="position" content="1"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Devices</span><meta itemprop="position" content="2"></li>
            </ol>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>
<h1 id="devices">Devices</h1>

<p>/dev directory</p>
<p>You can interact with device drivers through device files  or device nodes, these are special files that look like regular files. You can use ls,cat, etc to interact with them. Generally stored in /dev directory</p>
<p>$ ls /dev</p>
<p>When you send output to /dev/null, the kernal knows that this device takes all of our input and just discards it, so nothing gets returned.</p>
<p>Device Types</p>
<p>$ ls -l /dev</p>
<p>brw-rw&mdash;-  1 root disk  8,  0 Dec 20 20:13 sda</p>
<p>crw-rw-rw-  1 root root  1,  3 Dec 20 20:13 null</p>
<p>srw-rw-rw-  1 root root  0 Dec 20 20:13 log</p>
<p>prw-r&ndash;r&ndash;  1 root root  0 Dec 20 20:13 fdata</p>
<p>The columns are as follows from left to right:</p>
<p>Permissions</p>
<p>Owner</p>
<p>Group</p>
<p>Major Device Number</p>
<p>Minor Device Number</p>
<p>Timestamp</p>
<p>Device Name</p>
<p>Device files are denoted as the following:</p>
<p>c - character</p>
<p>b - block</p>
<p>p - pipe</p>
<p>s - socket</p>
<p>Character Device</p>
<p>These devices transfer data one character at a time. You&rsquo;ll see a lot of pseudo devices (/dev/null) as character devices, these devices aren&rsquo;t really physically connected to a machine, but they allow the operating system greater functionality.</p>
<p>Block Device</p>
<p>These devices transfer data in large fixed-sized blocks. You&rsquo;ll most commonly see devices that utilize data blocks as block devices, such as harddrives, filesystems, etc.</p>
<p>Pipe Device</p>
<p>Named pipes allow two or more processes to communicate with each other, these are similar to character devices, but instead of having output sent to a device, it&rsquo;s sent to another process.</p>
<p>Socket Device</p>
<p>Socket devices facilitate communication between processes, similar to pipe devices but they can communicate with many processes at once.</p>
<p>Device Characterization</p>
<p>Devices are characterized using two numbers, major device number and minor device number.</p>
<p>The major device number represents the device driver that is used. The minor number tells the kernal which unique device it is in this driver class.</p>
<p>Device Names</p>
<p>SCSI Devices</p>
<p>Protocol used to allow communication between disks, printers, scanners, and other peripherals to your system. Linux systems correspond SCSI disks with hard disk drives in /dev. They are represented by a prefix of sd (SCSI disk)</p>
<p>Common SCSI device files</p>
<p>- /dev/sda - first hard disk</p>
<p>- /dev/sdb - Second hard disk</p>
<p>- /dev/sda3 - Third partition on the first hard disk</p>
<p>Pseudo Devices</p>
<p>Pseudo devices aren&rsquo;t really connected to your system. Most common pseudo devices are character devices.</p>
<p>- /dev/zero - accepts and discards all input, produces a continuous stream of NULL (zero value) bytes.</p>
<p>- /dev/null - accepts and discards all input, produces no output</p>
<p>- /dev/random - produces random numbers</p>
<p>PATA Devices</p>
<p>Sometimes in older systems you may see hard drives being referred to with an hd prefix</p>
<p>/dev/hda - First hard disk</p>
<p>/dev/hdd2 - Second partition on 4th hard disk</p>
<p>sysfs</p>
<p>A virtual filesystem, most often mounted to the /sys directory. It gives us more detailed information than what we would be able to see in the /dev directory.</p>
<p>The /dev directory is simple, it allows other programs to access devices themselves. The /sys filesystem is used to view information and manage the device.</p>
<p>/sys filesystem contains all  the information for all devices on your system, such as the manufacturer, model, where the device is plugged in, the state of the device, the hierarchy of devices, and more.</p>
<p>You don&rsquo;t really interact with devices here, you just manage them.</p>
<p>udev</p>
<p>Dynamically creates and removes device files depending on whether or not they are connected. There is a udev daemon that is running on the system and it listens for messages from the kernel about devices connected to the system. Udevd will parse that information and it will match the data with the rules that are specified in /etc/udev/rules.d. Depending on those rules it will most likely created device nodes and symbolic links for the devices. You can write your own udev rules. But comes with it&rsquo;s on rules by default.</p>
<p>$ udevadm info &ndash;query=all &ndash;name=/dev/sda</p>
<p>To view the udev database and sysfs</p>
<p>lsusb, lspci, lssci</p>
<p>$ lsusb</p>
<p>List USB devices</p>
<p>$ lspci</p>
<p>List PCI devices</p>
<p>$ lsscsi</p>
<p>List scsi devices</p>
<p>dd</p>
<p>Useful tool for converting and copying data. It reads input from a file or data stream and writes it to a file or data stream.</p>
<p>$ dd if=/home/pete/backup.img of=/dev/sdb bs=1024</p>
<p>This command is copying the contents of backup.img to/dev/sdb. It will copy the data in blocks of 1024 bytes until there is no more data to be copied.</p>
<p>- if=file - input file, read from a file instead of standard input</p>
<p>- of=file - Output file, write to a file instead of standard output</p>
<p>- bs=bytes - Block size, it reads and writes this many bytes of data at a time. You can use different size metrics by denoting the size with a K for kilobyte, m for megabyte, etc, so 1024 bytes is 1k.</p>
<p>- count=number - number of blocks to copy.</p>
<p>Some dd commands use the count option.</p>
<p>You can use dd to backup whole disk drives, restoring disk images and more.</p>

            <footer class="footline">

            </footer>
          </article>

        </div>
      </main>
    </div>
    <script src="/js/clipboard.min.js?1700252831" defer></script>
    <script src="/js/perfect-scrollbar.min.js?1700252831" defer></script>
    <script>
      function useMathJax( config ){
        if( !Object.assign ){
          
          return;
        }
        window.MathJax = Object.assign( window.MathJax || {}, {
          loader: {
            load: ['[tex]/mhchem']
          },
          startup: {
            elements: [
              '.math'
            ]
          },
          tex: {
            inlineMath: [
              ['$', '$'], 
              ['\\(', '\\)']
            ]
          },
          options: {
            enableMenu: false 
          }
        }, config );
      }
      useMathJax( JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="/js/d3/d3-color.min.js?1700252831" defer></script>
    <script src="/js/d3/d3-dispatch.min.js?1700252831" defer></script>
    <script src="/js/d3/d3-drag.min.js?1700252831" defer></script>
    <script src="/js/d3/d3-ease.min.js?1700252831" defer></script>
    <script src="/js/d3/d3-interpolate.min.js?1700252831" defer></script>
    <script src="/js/d3/d3-selection.min.js?1700252831" defer></script>
    <script src="/js/d3/d3-timer.min.js?1700252831" defer></script>
    <script src="/js/d3/d3-transition.min.js?1700252831" defer></script>
    <script src="/js/d3/d3-zoom.min.js?1700252831" defer></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js" defer></script>
    <script>
      window.themeUseMermaid = JSON.parse("{ \"theme\": \"default\" }");
    </script>
    <script src="/js/theme.js?1700252831" defer></script>
  </body>
</html>
