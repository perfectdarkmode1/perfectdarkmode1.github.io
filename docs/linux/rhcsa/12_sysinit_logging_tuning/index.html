<!DOCTYPE html>
<html lang="en-us" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.124.1">
    <meta name="generator" content="Relearn 5.26.2+tip">
    <meta name="robots" content="noindex, nofollow, noarchive, noimageindex">
    <meta name="description" content="Linux, Tech, Open Source Software, Privacy">
    <meta name="author" content="David">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="">
    <meta name="twitter:description" content="Chapter 12 System Initialization, Message Logging, and System Tuning
This chapter describes the following major topics:
Understand systemd, units, and targets Analyze service and target unit configuration files List and view status of running units Manage service units and target units Display and configure default system boot target Switch into non-default targets Analyze system log configuration file Examine log file rotation settings Review boot and system log files Record custom messages in system log file Describe systemd journal service Retrieve and scrutinize messages from journal Store journal information persistently Know system tuning and apply tuning profile RHCSA Objectives:">
    <meta property="og:title" content="">
    <meta property="og:description" content="Chapter 12 System Initialization, Message Logging, and System Tuning
This chapter describes the following major topics:
Understand systemd, units, and targets Analyze service and target unit configuration files List and view status of running units Manage service units and target units Display and configure default system boot target Switch into non-default targets Analyze system log configuration file Examine log file rotation settings Review boot and system log files Record custom messages in system log file Describe systemd journal service Retrieve and scrutinize messages from journal Store journal information persistently Know system tuning and apply tuning profile RHCSA Objectives:">
    <meta property="og:type" content="article">
    <meta property="og:url" content="http://perfectdarkmode.com/linux/rhcsa/12_sysinit_logging_tuning/">
    <meta property="article:section" content="Linux - Perfect Dark Mode">
    <meta property="og:site_name" content="Perfect Dark Mode">
    <title></title>
    <link href="/images/favicon.png?1711973037" rel="icon" type="image/png">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="/css/fontawesome-all.min.css?1711973038" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fontawesome-all.min.css?1711973038" rel="stylesheet"></noscript>
    <link href="/css/nucleus.css?1711973038" rel="stylesheet">
    <link href="/css/auto-complete.css?1711973038" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/auto-complete.css?1711973038" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar.min.css?1711973038" rel="stylesheet">
    <link href="/css/fonts.css?1711973038" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fonts.css?1711973038" rel="stylesheet"></noscript>
    <link href="/css/theme.css?1711973038" rel="stylesheet">
    <link href="/css/theme-git.css?1711973038" rel="stylesheet" id="R-variant-style">
    <link href="/css/chroma-relearn-dark.css?1711973038" rel="stylesheet" id="R-variant-chroma-style">
    <link href="/css/variant.css?1711973038" rel="stylesheet">
    <link href="/css/print.css?1711973038" rel="stylesheet" media="print">
    <link href="/css/ie.css?1711973038" rel="stylesheet">
    <script src="/js/url.js?1711973038"></script>
    <script src="/js/variant.js?1711973038"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='http:\/\/perfectdarkmode.com';
      window.index_js_url="/index.search.js";
      // variant stuff
      window.relearn.themeVariantModifier='';
      window.variants && variants.init( [ 'git' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>
  </head>
  <body class="mobile-support html" data-url="/linux/rhcsa/12_sysinit_logging_tuning/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-back" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="history.back()" type="button" title=""><i class="fa-fw fas fa-chevron-left"></i></button>
            </div>

            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper"><nav class="TableOfContents">
  <ul>
    <li><a href="#chapter-12">Chapter 12</a>
      <ul>
        <li><a href="#logging-custom-messages">Logging Custom Messages</a></li>
        <li><a href="#the-systemd-journal">The systemd Journal</a></li>
        <li><a href="#retrieving-and-viewing-messages">Retrieving and Viewing Messages</a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>


          </div>
          <span class="topbar-breadcrumbs highlightable">
            
          </span>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-about" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="https://perfectdarkmode.com/about/" target="_blank" title=""><i class="fa-fw fas fa-address-card"></i> <span class="title">About</span></a>
            </div>
            <div class="topbar-button topbar-button-now" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="https://perfectdarkmode.com/now/" target="_blank" title=""><i class="fa-fw fas fa-play"></i> <span class="title">Now</span></a>
            </div>
            <div class="topbar-button topbar-button-recommended" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="https://perfectdarkmode.com/recommended/" target="_blank" title=""><i class="fa-fw fas fa-thumbs-up"></i> <span class="title">Recommended</span></a>
            </div>
            <div class="topbar-button topbar-button-booknotes" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="https://perfectdarkmode.com/booknotes/" target="_blank" title=""><i class="fa-fw fas fa-file"></i> <span class="title">Book Notes</span></a>
            </div>
            <div class="topbar-button topbar-button-contact" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="https://perfectdarkmode.com/contact/" target="_blank" title=""><i class="fa-fw fas fa-envelope"></i> <span class="title">Contact</span></a>
            </div>






          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>
<h1 id=""></h1>

<h2 id="chapter-12">Chapter 12</h2>
<p><strong>System Initialization, Message Logging, and System Tuning</strong></p>
<p>This chapter describes the following major topics:</p>
<ul>
<li>Understand systemd, units, and targets</li>
<li>Analyze service and target unit configuration files</li>
<li>List and view status of running units</li>
<li>Manage service units and target units</li>
<li>Display and configure default system boot target</li>
<li>Switch into non-default targets</li>
<li>Analyze system log configuration file</li>
<li>Examine log file rotation settings</li>
<li>Review boot and system log files</li>
<li>Record custom messages in system log file</li>
<li>Describe systemd journal service</li>
<li>Retrieve and scrutinize messages from journal</li>
<li>Store journal information persistently</li>
<li>Know system tuning and apply tuning profile</li>
</ul>
<p>RHCSA Objectives:</p>
<p>Boot, reboot, and shut down a system normally
Boot systems into different targets manually
Start, stop, and check the status of network services
Start and stop services and configure services to start automatically at boot
Configure systems to boot into a specific target automatically
Configure network services to start automatically at boot
Manage tuning profiles
Locate and interpret system log files and journals
Preserve system journals</p>
<p>Systemd</p>
<ul>
<li>default system initialization and service management scheme.</li>
<li>boots the system into one of several predefined targets</li>
<li>used to handle operational states of services.</li>
<li>employs the concepts of units and targets for initialization, service administration, and state changes.</li>
</ul>
<p>Log files need to be rotated periodically to prevent the file system
space from filling up.
configuration files that define the default and custom locations to direct the log messages to and to
configure rotation settings. The
system log file</p>
<ul>
<li>records custom messages sent to it. systemd includes a service for viewing and managing system logs in addition to the traditional logging service. This service
maintains a log of runtime activities for faster retrieval and can be
configured to store the information permanently.</li>
</ul>
<p>System tuning service is employed to monitor connected devices and to
tweak their parameters to improve performance or conserve power. A
recommended tuning profile may be identified and activated for optimal
performance and power saving.</p>
<p><strong>[System]{#part0024_split_001.html#id_329 .calibre10} Initialization
and Service Management</strong></p>
<p><em>systemd</em> (short for <em>system daemon</em>) is the system initialization and
service management mechanism. It has fast-tracked system initialization
and state transitioning by introducing features such as parallel
processing of startup scripts, improved handling of service
dependencies, and on-demand activation of services. Moreover, it
supports snapshotting of system states, tracks processes using control
groups, and automatically maintains mount points. systemd is the first
process with PID 1 that spawns at boot and it is the last process that
terminates at shutdown.</p>
<p>systemd</p>
<ul>
<li>spawns several processes during a service startup. It</li>
<li>places the processes in a private hierarchy composed of <em>control groups</em> (or <em>cgroups</em> for short) to organize processes for the purposes of monitoring and controlling system resources such as
<ul>
<li>processor,</li>
<li>memory,</li>
<li>network bandwidth, and</li>
<li>disk I/O. This
includes limiting, isolating, and prioritizing their usage of resources. This way
resources can be distributed among users, databases, and applications
based on need and priority, resulting in overall improved system
performance.</li>
</ul>
</li>
</ul>
<p>In order to benefit from parallelism, systemd initiates distinct
services concurrently, taking advantage of multiple CPU cores and other
compute resources. To that end, systemd creates sockets for all enabled
services that support socket-based activation instantaneously at the
very beginning of the initialization process. It passes them on to
service daemon processes as they attempt to start in parallel. This
approach lets systemd handle inter-service order dependencies and allows
services to start without any delays. With systemd, dependent daemons
need not be running; they only need the correct socket to be available.
systemd creates sockets first, starts daemons next, and caches any
client requests to daemons that have not yet started in the socket
buffer. It fills the pending client requests when the daemons they were
awaiting come online.</p>
<p>Socket is a communication method that
allows a single process to talk to another process on the same or remote
system.</p>
<p>During the operational state, systemd maintains the sockets and uses
them to reconnect other daemons and services that were interacting with
an old instance of a daemon before that daemon was terminated or
restarted. Likewise, services that use activation based on D-Bus
(<em>Desktop Bus</em>) are started when a client application attempts to
communicate with them for the first time. Additional methods used by
systemd for activation are device-based and path-based, with the former
starting the service when a specific hardware type such as USB is
plugged in, and the latter starting the service when a particular file
or directory alters its state.</p>
<p>D-Bus is another communication method
that allows multiple services running in parallel on a system to talk to
one another on the same or remote system.</p>
<p>With on-demand activation, systemd defers the startup of
services&mdash;Bluetooth and printing&mdash;until they are actually needed
during the boot process or during runtime. Together, parallelization and
on-demand activation save time and compute resources, and contribute to
expediting the boot process considerably.</p>
<p>Another major benefit of parallelism witnessed at system boot is when
systemd uses the autofs service to temporarily mount the configured file
systems. During the boot process, the file systems are checked that may
result in unnecessary delays. With autofs, the file systems are
temporarily mounted on their normal mount points, and as soon as the
checks on the file systems are finished, systemd remounts them using
their standard devices. Parallelism in file system mounts does not
affect the root and virtual file systems.</p>
<p>Units</p>
<p><em>Units</em> are systemd objects used for organizing boot and maintenance
tasks, such as hardware initialization, socket creation, file system
mounts, and service startups. Unit configuration is stored in their
respective configuration files, which are auto-generated from other
configurations, created dynamically from the system state, produced at
runtime, or user-developed. Units are in one of several operational
states, including active, inactive, in the process of being activated or
deactivated, and failed. Units can be enabled or disabled. An enabled
unit can be started to an active state; a disabled unit cannot be
started.</p>
<p>Units have a name and a type, and they are encoded in files with names
in the form unitname.type. Some examples are tmp.mount, sshd.service,
syslog.socket, and umount.target. There are two types of unit
configuration files: (1) system unit files that are distributed with
installed packages and located in the **usr<em>lib/systemd/system</em>
directory, and (2) user unit files that are user-defined and stored in
the **etc<em>systemd/user</em> directory (run <strong>ls -l</strong> on both directories to
list their contents). This information can be vetted with the
<em>pkg-config</em> command:</p>
<p><a href="#R-image-43526037a249764a4a5f7f86c18d184d" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00587.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-43526037a249764a4a5f7f86c18d184d"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00587.jpeg"></a></p>
<p>Furthermore, there are additional system units that are created at
runtime and destroyed when they are no longer needed. They are located
in the **run<em>systemd/system</em> directory. These runtime unit files take
precedence over the system unit files, and the user unit files take
priority over the runtime files.</p>
<p>Unit configuration files are a direct
replacement of the initialization scripts found in the
**etc<em>rc.d/init.d</em> directory in older RHEL releases.</p>
<p>systemd includes 11 unit types, which are described in <a href="/linux/rhcsa/12_sysinit_logging_tuning/#part0024_split_001.html#id_734">Table
12-1</a>{.calibre5}.</p>
<p>::: c49</p>
<hr>
<p><strong>Unit Type</strong>   <strong>Description</strong>
Automount       Offers automount capabilities for on-demand mounting of file systems
Device          Exposes kernel devices in systemd and may be used to implement device-based activation
Mount           Controls when and how to mount or unmount file systems
Path            Activates a service when monitored files or directories are accessed
Scope           Manages foreign processes instead of starting them
Service         Starts, stops, restarts, or reloads service daemons and the processes they are made up of
Slice           May be used to group units, which manage system processes in a tree-like structure for resource management
Socket          Encapsulates local inter-process communication or network sockets for use by matching service units
Swap            Encapsulates swap partitions
Target          Defines logical grouping of units
Timer           Useful for triggering activation of other units based on timers</p>
<hr>
<p>Tablesystemd Unit Types</p>
<p>Unit files contain common and specific configuration elements. Common
elements fall under the [Unit] and [Install] sections, and comprise
the description, documentation location, dependency information,
conflict information, and other options that are independent of the type
of unit. The unit-specific configuration data is located under the unit
type section: [Service] for the service unit type, [Socket] for the
socket unit type, and so forth. A sample unit file for <em>sshd.service</em> is
shown below from the **usr<em>lib/systemd/system</em> directory:</p>
<p><a href="#R-image-c421663f4b754acc85627393104b6912" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00588.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c421663f4b754acc85627393104b6912"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00588.jpeg"></a></p>
<p>Units can have dependency relationships among themselves based on a
sequence (ordering) or a requirement. A sequence outlines one or more
actions that need to be taken before or after the activation of a unit
(the Before and After directives). A requirement specifies what must
already be running (the Requires directive) or not running (the
Conflicts directive) in order for the successful launch of a unit. For
instance, the <em>graphical.target</em> unit file tells us that the system must
already be operating in the multi-user mode and not in rescue mode in
order for it to boot successfully into the graphical mode. Another
option, Wants, may be used instead of Requires in the [Unit] or
[Install] section so that the unit is not forced to fail activation if
a required unit fails to start. Run <strong>man systemd.unit</strong> for details on
systemd unit files.</p>
<p>There are a few other types of dependencies that you may see in other
unit configuration files. systemd generally sets and maintains
inter-service dependencies automatically; however, this can be done
manually if needed.</p>
<p>Targets</p>
<p><em>Targets</em> are simply logical collections of units. They are a special
systemd unit type with the .target file extension. They share the
directory locations with other unit configuration files. Targets are
used to execute a series of units. This is typically true for booting
the system to a desired operational run level with all the required
services up and running. Some targets inherit services from other
targets and add their own to them. systemd includes several predefined
targets that are described in Table
12-2</p>
<hr>
<p><strong>Target</strong>   <strong>Description</strong>
halt         Shuts down and halts the system
poweroff     Shuts down and powers off the system
shutdown     Shuts down the system
rescue       Single-user target for running administrative and recovery functions. All local file systems are mounted. Some essential services are started, but networking remains disabled.
emergency    Runs an emergency shell. The root file system is mounted in read-only mode; other file systems are not mounted. Networking and other services remain disabled.
multi-user   Multi-user target with full network support, but without GUI
graphical    Multi-user target with full network support and GUI
reboot       Shuts down and reboots the system
default      A special soft link that points to the default system boot target (multi-user.target or graphical.target)
hibernate    Puts the system into hibernation by saving the running state of the system on the hard disk and powering it off. When powered up, the system restores from its saved state rather than booting up.</p>
<hr>
<p>systemd Targets</p>
<p>Target unit files contain all information under the [Unit] section,
and it comprises the description, documentation location, and dependency
and conflict information. A sample file for the <em>graphical.target</em>
target is shown below from the **usr<em>lib/systemd/system</em> directory:</p>
<p><a href="#R-image-a206cb3a62440ab6128db3987ff862c7" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00589.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a206cb3a62440ab6128db3987ff862c7"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00589.jpeg"></a></p>
<p>The file shows four dependencies: Requires, Wants, Conflicts, and After.
It suggests that the system must have already accomplished the
rescue.service, rescue.target, multi-user.target, and
display-manager.service levels in order to be declared running in the
graphical target. Run <strong>man systemd.target</strong> for details on systemd
targets.</p>
<p>Thesystemctl Command**</p>
<p>systemd comes with a set of management tools for querying and
controlling operations. The primary tool for interaction in this command
suite is <em>systemctl</em>. The <em>systemctl</em> command performs administrative
functions and supports plentiful subcommands and flags. <a href="/linux/rhcsa/12_sysinit_logging_tuning/#part0024_split_001.html#id_736">Table
12-3</a>{.calibre5} lists and describes
some common operations.</p>
<hr>
<p><strong>Subcommand</strong>                <strong>Description</strong>
daemon-reload                 Re-reads and reloads all unit configuration files and recreates the entire user dependency tree.
enable (disable)              Activates (deactivates) a unit for autostart at system boot
get-default (set-default)     Shows (sets) the default boot target
get-property (set-property)   Returns (sets) the value of a property
is-active                     Checks whether a unit is running
is-enabled                    Displays whether a unit is set to autostart at system boot
is-failed                     Checks whether a unit is in the failed state
isolate                       Changes the running state of a system
kill                          Terminates all processes for a unit
list-dependencies             Lists dependency tree for a unit
list-sockets                  Lists units of type socket
list-unit-files               Lists installed unit files
list-units                    Lists known units. This is the default behavior when systemctl is executed without any arguments.
mask (unmask)                 Prohibits (permits) auto and manual activation of a unit to avoid potential conflict
reload                        Forces a running unit to re-read its configuration file. This action does not change the PID of the running unit.
restart                       Stops a running unit and restarts it
show                          Shows unit properties
start (stop)                  Starts (stops) a unit
status                        Presents the unit status information</p>
<hr>
<p>Tablesystemctl Subcommands**</p>
<p>You will use a majority of these subcommands with <em>systemctl</em> going
forward. Refer to the manual pages of the command for more details.</p>
<p>Listing and Viewing Units</p>
<p>The <em>systemctl</em> command is used to view and manage all types of units.
The following examples demonstrate common operations pertaining to
viewing and querying units.</p>
<p>To list all units that are currently loaded in memory along with their
status and description, run the <em>systemctl</em> command without any options
or subcommands. A long output is generated. The graphic below shows a
few starting and concluding lines followed by a brief explanation.</p>
<p><a href="#R-image-1aea1a5ad0f266373ec7e5415a193ca7" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00590.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1aea1a5ad0f266373ec7e5415a193ca7"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00590.jpeg"></a></p>
<p>Here is a breakdown of the graphic above: the UNIT column shows the name
of the unit and its location in the tree, the LOAD column reflects
whether the unit configuration file was properly loaded (other
possibilities are not found, bad setting, error, and masked), the ACTIVE
column returns the high-level activation state (other possible states
are active, reloading, inactive, failed, activating, and deactivating),
the SUB column depicts the low-level unit activation state (reports
unit-specific information), and the DESCRIPTION column illustrates the
unit&rsquo;s content and functionality.</p>
<p>By default, the <em>systemctl</em> command lists only the active units. You can
use the --all option to include the inactive units too.</p>
<p>To list all (--all) active and inactive units of type (-t) socket:</p>
<p><a href="#R-image-ea1bd04a0517e3fb209b8ef652dea222" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00591.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ea1bd04a0517e3fb209b8ef652dea222"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00591.jpeg"></a></p>
<p>To list all units of type socket (column 2) currently loaded in memory
and the service they activate (column 3), sorted by the listening
address (column 1):</p>
<p><a href="#R-image-72c60d9147604fcc0901143b3abce090" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00592.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-72c60d9147604fcc0901143b3abce090"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00592.jpeg"></a></p>
<p>To list all unit files (column 1) installed on the system and their
current state (column 2). This will generate a long list of units in the
output. The following only shows a selection.</p>
<p><a href="#R-image-1d1329bfd415aaf3eeb077c8d3fc69b1" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00593.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1d1329bfd415aaf3eeb077c8d3fc69b1"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00593.jpeg"></a></p>
<p>To list all units that failed (--failed) to start at the last system
boot:</p>
<p><a href="#R-image-a141c8f57079af992cd8539b89dd7232" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00594.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a141c8f57079af992cd8539b89dd7232"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00594.jpeg"></a></p>
<p>To list the hierarchy of all dependencies (required and wanted units)
for the current default target:</p>
<p><a href="#R-image-76daff3cded6fd99619e756eb8b28329" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00595.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-76daff3cded6fd99619e756eb8b28329"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00595.jpeg"></a></p>
<p>To list the hierarchy of all dependencies (required and wanted units)
for a specific unit such as <em>atd.service</em>:</p>
<p><a href="#R-image-e44a1f64bf2bc52ad55fa39c58c695c0" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00596.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e44a1f64bf2bc52ad55fa39c58c695c0"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00596.jpeg"></a></p>
<p>There are other listing subcommands and additional flags available that
can be used to produce a variety of reports.</p>
<p>Managing Service Units</p>
<p>The <em>systemctl</em> command offers several subcommands to manage service
units, including starting, stopping, restarting, and checking their
status. These and other management operations are summarized in <a href="/linux/rhcsa/12_sysinit_logging_tuning/#part0024_split_001.html#id_736">Table
12-3</a>{.calibre5}. The following
examples demonstrate their use on a service unit called <em>atd</em>.</p>
<p>To check the current operational status and other details for the <em>atd</em>
service:</p>
<p><a href="#R-image-1b697cbc2b360b4968051a91698c3658" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00597.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1b697cbc2b360b4968051a91698c3658"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00597.jpeg"></a></p>
<p>The above output reveals a lot of information about the <em>atd</em> service.
On line 1, it shows the service description (read from the
**usr<em>lib/systemd/system/atd.service</em> file). Line 2 illustrates the load
status, which reveals the current load status of the unit configuration
file in memory. Other possibilities for &ldquo;Loaded&rdquo; include &ldquo;error&rdquo; (if
there was a problem loading the file), &quot;not-found&quot; (if no file
associated with this unit was found), &quot;bad-setting&quot; (if a key setting
was missing), and &quot;masked&quot; (if the unit configuration file is masked).
Line 2 also tells us whether the service is set (enable or disable) for
autostart at system boot.</p>
<p>Line 3 exhibits the current activation status and the time the service
was started. An activation status designates the current state of the
service. Possible states include:</p>
<p><strong>Active (running)</strong>: The service is running with one or more processes</p>
<p><strong>Active (exited):</strong> Completed a one-time configuration</p>
<p><strong>Active (waiting)</strong>: Running but waiting for an event</p>
<p><strong>Inactive:</strong> Not running</p>
<p><strong>Activating:</strong> In the process of being activated</p>
<p><strong>Deactivating</strong>: In the process of being deactivated</p>
<p><strong>Failed:</strong> If the service crashed or could not be started</p>
<p>The output also depicts the PID of the service process and other
information.</p>
<p>To disable the <em>atd</em> service from autostarting at the next system
reboot:</p>
<p><a href="#R-image-b0fb2eab28b175e325c5f445906497e7" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00598.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b0fb2eab28b175e325c5f445906497e7"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00598.jpeg"></a></p>
<p>To re-enable <em>atd</em> to autostart at the next system reboot:</p>
<p><a href="#R-image-60c40ca286bfd69ecdc34b21716c9433" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00599.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-60c40ca286bfd69ecdc34b21716c9433"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00599.jpeg"></a></p>
<p>To check whether <em>atd</em> is set to autostart at the next system reboot:</p>
<p><a href="#R-image-e1072b709a77cbd6998245232eb9c25f" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00600.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e1072b709a77cbd6998245232eb9c25f"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00600.jpeg"></a></p>
<p>To check whether the <em>atd</em> service is running:</p>
<p><a href="#R-image-2fbc36448166d407142ca41ac1520c9c" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00601.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2fbc36448166d407142ca41ac1520c9c"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00601.jpeg"></a></p>
<p>To stop and restart <em>atd</em>, run either of the following:</p>
<p><a href="#R-image-883a4dce034a301c8e64d608305c6668" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00602.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-883a4dce034a301c8e64d608305c6668"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00602.jpeg"></a></p>
<p>To show the details of the <em>atd</em> service:</p>
<p><a href="#R-image-acc1389deaaf12cf4384fe0ee6b416c0" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00603.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-acc1389deaaf12cf4384fe0ee6b416c0"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00603.jpeg"></a></p>
<p>To prohibit <em>atd</em> from being enabled or disabled:</p>
<p><a href="#R-image-a9647b53db078f3e9c65ff052600c231" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00604.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a9647b53db078f3e9c65ff052600c231"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00604.jpeg"></a></p>
<p>Try disabling or enabling <em>atd</em> and observe the effect of the previous
command:</p>
<p><a href="#R-image-209893bc356f94c03eb43c8b75214807" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00605.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-209893bc356f94c03eb43c8b75214807"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00605.jpeg"></a></p>
<p>Reverse the effect of the <em>mask</em> subcommand and try disable and enable
operations:</p>
<p><a href="#R-image-5a05099f969691f5deb529066c2157d1" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00606.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5a05099f969691f5deb529066c2157d1"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00606.jpeg"></a></p>
<p>Notice that the <em>unmask</em> subcommand has removed the restriction that was
placed on the <em>atd</em> service.</p>
<p>ManagingTarget Units</p>
<p>The <em>systemctl</em> command is also used to manage the target units. It can
be used to view or change the default boot target, switch from one
running target into another, and so on. These operations are briefed in
<a href="/linux/rhcsa/12_sysinit_logging_tuning/#part0024_split_001.html#id_736">Table 12-3</a>{.calibre5}. Let&rsquo;s look at
some examples.</p>
<p>To view what units of type (-t) target are currently loaded and active:</p>
<p><a href="#R-image-619c25511ad3d2051affadd26ab89462" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00607.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-619c25511ad3d2051affadd26ab89462"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00607.jpeg"></a></p>
<p>For each target unit, the above output returns the target unit&rsquo;s name,
load state, high-level and low-level activation states, and a short
description. Add the --all option to the above to see all loaded
targets in either active or inactive state.</p>
<p><strong>Viewing and Setting Default Boot Target</strong></p>
<p>The <em>systemctl</em> command is used to view the current default boot target
and to set it. Let&rsquo;s use the <em>get-default</em> and <em>set-default</em> subcommands
with <em>systemctl</em> to perform these operations.</p>
<p>To check the current default boot target:</p>
<p><a href="#R-image-3832f6392852b0e297f06e5b134cd6d6" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00608.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3832f6392852b0e297f06e5b134cd6d6"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00608.jpeg"></a></p>
<p>You may have to modify the default boot target persistently for the exam.</p>
<p>To change the current default boot target from graphical.target to
multi-user.target:</p>
<p><a href="#R-image-a13d93462e3237ac851864ad33dbe9e9" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00609.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a13d93462e3237ac851864ad33dbe9e9"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00609.jpeg"></a></p>
<p>The command simply removes the existing symlink (<em>default.target</em>)
pointing to the old boot target and replaces it with the new target file
path.</p>
<p>Execute <strong>sudo systemctl set-default graphical</strong> to revert the default
boot target to graphical.</p>
<p><strong>Switching into Specific Targets</strong></p>
<p>The <em>systemctl</em> command can be used to transition the running system
from one target state into another. There are a variety of potential
targets available to switch into as listed in <a href="/linux/rhcsa/12_sysinit_logging_tuning/#part0024_split_001.html#id_735">Table
12-2</a>{.calibre5}; however, only a few
of them&mdash;graphical, multi-user, reboot, shutdown&mdash;are typically used.
The rescue and emergency targets are for troubleshooting and system
recovery purposes, poweroff and halt are similar to shutdown, and
hibernate is suitable for mobile devices. Consider the following
examples that demonstrate switching targets.</p>
<p>The current default target on <em>server1</em> is graphical. To switch into
multi-user, use the <em>isolate</em> subcommand with <em>systemctl</em>:</p>
<p><a href="#R-image-6f34c031f55d5996a42e4e81c0fedbcf" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00610.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6f34c031f55d5996a42e4e81c0fedbcf"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00610.jpeg"></a></p>
<p>This should stop the graphical service on the system and display the
text-based console login screen, as shown below:</p>
<p><a href="#R-image-57d72e8255c7be491f3a045884981e04" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00611.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-57d72e8255c7be491f3a045884981e04"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00611.jpeg"></a></p>
<p>Type in a username such as <em>user1</em> and enter the password to log in:</p>
<p><a href="#R-image-92c5de73d0e8cc7374f6b90d1e140731" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00612.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-92c5de73d0e8cc7374f6b90d1e140731"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00612.jpeg"></a></p>
<p>To return to the graphical target:</p>
<p><a href="#R-image-687428bfd14dff3b8a2b82e190b5837f" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00613.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-687428bfd14dff3b8a2b82e190b5837f"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00613.jpeg"></a></p>
<p>The graphical login screen should appear shortly and you should be able
to log back in.</p>
<p>To shut down the system and power it off, use the following or simply
run the <em>poweroff</em> command:</p>
<p><a href="#R-image-d37430bda9cc2766b5adaac7edf0d2f9" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00614.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d37430bda9cc2766b5adaac7edf0d2f9"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00614.jpeg"></a></p>
<p>To shut down and reboot the system, use the following or simply run the
<em>reboot</em> command:</p>
<p><a href="#R-image-a67ee4cb4e5ca086bf6a49245beff209" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00615.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a67ee4cb4e5ca086bf6a49245beff209"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00615.jpeg"></a></p>
<p>The <em>halt</em>, <em>poweroff</em>, and <em>reboot</em> commands are mere symbolic links to
the <em>systemctl</em> command, as the following long listing suggests:</p>
<p><a href="#R-image-6cdd91874f55bde45fc022e9a7e14d7c" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00616.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6cdd91874f55bde45fc022e9a7e14d7c"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00616.jpeg"></a></p>
<p>The <em>halt</em>, <em>poweroff</em>, and <em>reboot</em> commands are available in RHEL 8
for compatibility reasons only. It is recommended to use the <em>systemctl</em>
command instead when switching system states.</p>
<p>The three commands, without any arguments, perform the same action that
the <em>shutdown</em> command would with the &ldquo;-H now&rdquo;, &ldquo;-P now&rdquo;, and &ldquo;-r now&rdquo;
arguments, respectively. In addition, it also broadcasts a warning
message to all logged-in users, blocks new user login attempts, waits
for the specified amount of time for users to save their work and log
off, stops the services, and eventually shut the system down to the
specified target state.</p>
<p>System Logging</p>
<p><em>System logging</em> (<em>syslog</em> for short) is one of the most rudimentary
elements of an operating system. Its purpose is to capture messages
generated by the kernel, daemons, commands, user activities,
applications, and other events, and forwarded them to various log files,
which store them for security auditing, service malfunctioning, system
troubleshooting, or informational purposes.</p>
<p>The daemon that is responsible for system logging is called <em>rsyslogd</em>
(<em>rocket-fast system for log processing</em>). This service daemon is
multi-threaded, with support for enhanced filtering,
encryption-protected message relaying, and a variety of configuration
options. The <em>rsyslogd</em> daemon reads its configuration file
**etc<em>rsyslog.conf</em> and the configuration files located in the
**etc<em>rsyslog.d</em> directory at startup. The default depository for most
system log files is the **var<em>log</em> directory. Other services such as
audit, Apache, and GNOME desktop manager have subdirectories under
**var<em>log</em> for storing their respective log files.</p>
<p>The <em>rsyslog</em> service is modular, allowing the modules listed in its
configuration file to be dynamically loaded in the kernel as and when
needed. Each module brings a new functionality to the system upon
loading.</p>
<p>The <em>rsyslogd</em> daemon can be stopped manually using <strong>systemctl stop
rsyslog</strong>. Replace stop with start, restart, reload, and status as
appropriate.</p>
<p>A PID is assigned to the daemon at startup and a file by the name
<em>rsyslogd.pid</em> is created in the <em>/run</em> directory to save the PID. The
reason this file is created and stores the PID is to prevent the
initiation of multiple instances of this daemon.</p>
<p>TheSyslog Configuration File</p>
<p>The <em>rsyslog.conf</em> is the primary syslog configuration file located in
the <em>/etc</em> directory . The default uncommented line entries from the
file are shown below and explained thereafter. Section headings have
been added to separate the directives in each section.</p>
<p><a href="#R-image-b43364dab0db21a32390257482236052" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00617.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b43364dab0db21a32390257482236052"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00617.jpeg"></a></p>
<p>As depicted, the syslog configuration file contains three sections:
Modules, Global Directives, and Rules. The Modules section defines two
modules&mdash;<em>imuxsock</em> and <em>imjournal</em>&mdash;and they are loaded on demand.
The <em>imuxsock</em> module furnishes support for local system logging via the
<em>logger</em> command, and the <em>imjournal</em> module allows access to the
systemd journal.</p>
<p>The Global Directives section contains three active directives. The
definitions in this section influence the overall functionality of the
<em>rsyslog</em> service. The first directive sets the location for the storage
of auxiliary files (**var<em>lib/rsyslog</em>). The second directive instructs
the <em>rsyslog</em> service to save captured messages using traditional file
formatting. The third directive directs the service to load additional
configuration from files located in the **etc<em>rsyslogd.d/</em> directory.</p>
<p>The Rules section has many two-field line entries. The left field is
called <em>selector</em>, and the right field is referred to as <em>action</em>. The
selector field is further divided into two period-separated sub-fields
called <em>facility</em> (left) and <em>priority</em> (right), with the former
representing one or more system process categories that generate
messages, and the latter identifying the severity associated with the
messages. The semicolon (;) character is used as a distinction mark if
multiple facility.priority groups are present. The action field
determines the destination to send the messages to.</p>
<p>There are numerous supported facilities such as auth, authpriv, cron,
daemon, kern, lpr, mail, news, syslog, user, uucp, and local0 through
local7. The asterisk (*) character represents all of them.</p>
<p>Similarly, there are several supported priorities, and they include
emerg, alert, crit, error, warning, notice, info, debug, and none. This
sequence is in the descending criticality order. The asterisk (*)
represents all of them. If a lower priority is selected, the daemon logs
all messages of the service at that and higher levels.</p>
<p>Line 1 under the Rules section instructs the syslog daemon to catch and
store informational messages from all services to the
**var<em>log/messages</em> file and ignore all messages generated by mail,
authentication, and cron services. Lines 2, 3, and 4 command the daemon
to collect and log all messages produced by authentication, mail, and
cron to the <em>secure</em>, <em>maillog</em>, and <em>cron</em> files, respectively. Line 5
orders the daemon to display emergency messages (omusrmsg stands for
<em>user message output module</em>) on the terminals of all logged-in users.
Line 6 shows two comma-separated facilities that are set at a common
priority. These facilities tell the daemon to gather critical messages
from uucp and news facilities and log them to the **var<em>log/spooler</em>
file. Line 7 (the last line) is for recording the boot-time service
startup status to the **var<em>log/boot.log</em> file.</p>
<p>If you have made any modifications to the syslog configuration file, you
need to run the <em>rsyslogd</em> command with the -N switch and specify a
numeric verbosity level to inspect the file for any syntax or typing
issues:</p>
<p><a href="#R-image-38b05bdeb416fc2aa74f31ab6f6f63e1" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00618.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-38b05bdeb416fc2aa74f31ab6f6f63e1"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00618.jpeg"></a></p>
<p>The validation returns the version of the command, verbosity level used,
and the configuration file path. With no issues reported, the <em>rsyslog</em>
service can be restarted (or reloaded) in order for the changes to take
effect.</p>
<p>Rotating Log Files</p>
<p>RHEL records all system activities in log files that are stored in a
central location under the **var<em>log</em> directory, as defined in the
rsyslog configuration file. A long listing of this directory reveals the
files along with subdirectories that may have multiple service-specific
logs. Here is a listing from <em>server1</em>:</p>
<p><a href="#R-image-276eadae68604a32a9710c5082536dcb" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00619.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-276eadae68604a32a9710c5082536dcb"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00619.jpeg"></a></p>
<p>The output shows log files for various services. Depending on the usage
and the number of events generated and captured, log files may quickly
fill up the <em>/var</em> file system, resulting in unpredictable system
behavior. Also, they may grow to an extent that would make it difficult
to load, read, send, or analyze them. To avoid getting into any unwanted
situation, it&rsquo;s important to ensure that they&rsquo;re rotated on a regular
basis and their archives are removed automatically.</p>
<p>To that end, a script called <em>logrotate</em> under **etc<em>cron.daily/</em>
invokes the <em>logrotate</em> command on a daily basis. Via the Anacron
service, the command runs a rotation as per the schedule defined in the
**etc<em>logrotate.conf</em> file and the configuration files for various
services located in the **etc<em>logrotate.d</em> directory. The configuration
files may be modified to alter the schedule or include additional tasks
such as removing, compressing, and emailing selected log files.</p>
<p>Here is what the **etc<em>cron.daily/logrotate</em> script contains:</p>
<p><a href="#R-image-c542b239f9a03e93c2521eae2b42abb5" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00620.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c542b239f9a03e93c2521eae2b42abb5"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00620.jpeg"></a></p>
<p>The following returns the default content of the **etc<em>logrotate.conf</em>
file:</p>
<p><a href="#R-image-b68a0f2d02e68165a29c9dae92623874" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00621.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b68a0f2d02e68165a29c9dae92623874"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00621.jpeg"></a></p>
<p>The file content shows the default log rotation frequency (weekly). It
indicates the period of time (4 weeks) to retain the rotated logs before
deleting them. Each time a log file is rotated, an empty replacement
file is created with the date as a suffix to its name, and the <em>rsyslog</em>
service is restarted. The script presents the option of compressing the
rotated files using the <em>gzip</em> utility. During the script execution, the
<em>logrotate</em> command checks for the presence of additional log
configuration files in the **etc<em>logrotate.d</em> directory and includes
them as necessary. The directives defined in the <em>logrotate.conf</em> file
have a global effect on all log files. You can define custom settings
for a specific log file in <em>logrotate.conf</em> or create a separate file in
the **etc<em>logrotate.d</em> directory. Any settings defined in user-defined
files overrides the global settings.</p>
<p>The **etc<em>logrotate.d</em> directory includes additional configuration files
for other service logs, as shown below:</p>
<p><a href="#R-image-f91ec250d20098f283c6d650e5f304df" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00622.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f91ec250d20098f283c6d650e5f304df"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00622.jpeg"></a></p>
<p>Here there are log configuration files for a number of
services&mdash;<em>chrony</em>, <em>cups</em>, <em>dnf</em>, and <em>samba</em>&mdash;all with their own
rules defined. The following shows the file content for <em>btmp</em> (records
of failed user login attempts) that is used to control the rotation
behavior for the **var<em>log/btmp</em> file:</p>
<p><a href="#R-image-47f2a50ba0d16d4b31cff4b838eb0a02" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00623.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-47f2a50ba0d16d4b31cff4b838eb0a02"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00623.jpeg"></a></p>
<p>The rotation is once a month. The replacement file created will get
read/write permission bits for the owner (<em>root</em>), the owning group will
be set to <em>utmp</em>, and the <em>rsyslog</em> service will maintain one rotated
copy of the <em>btmp</em> log file.</p>
<p>The Boot Log File</p>
<p>Logs generated during the system startup display the service startup
sequence with a status showing whether the service was started
successfully. This information may help in any post-boot troubleshooting
if required. Boot logs are stored in the <em>boot.log</em> file under
**var<em>log</em>. Here are a few lines from the beginning of the file:</p>
<p><a href="#R-image-0e3a70d5eee72faea66a4bd71fb82cd6" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00624.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0e3a70d5eee72faea66a4bd71fb82cd6"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00624.jpeg"></a></p>
<p>OK or FAILED within the square brackets indicates if the service was
started successfully or not.</p>
<p>The System Log File</p>
<p>The default location for storing most system activities, as defined in
the <em>rsyslog.conf</em> file, is the **var<em>log/messages</em> file. This file
saves log information in plain text format and may be viewed with any
file display utility, such as <em>cat</em>, <em>more</em>, <em>pg</em>, <em>less</em>, <em>head</em>, or
<em>tail</em>. This file may be observed in real time using the <em>tail</em> command
with the -f switch. The <em>messages</em> file captures the date and time of
the activity, hostname of the system, name and PID of the service, and a
short description of the event being logged.</p>
<p>EXAM TIP: It is helpful to &ldquo;tail&rdquo; the messages file when
starting or restarting a system service or during testing to identify
any issues encountered.</p>
<p>The following illustrates some recent entries from this file:</p>
<p><a href="#R-image-f36546281392837cf53d6985b7abf2c3" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00625.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f36546281392837cf53d6985b7abf2c3"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00625.jpeg"></a></p>
<p>Each line entry represents the detail for one event.</p>
<h3 id="logging-custom-messages">Logging Custom Messages</h3>
<p>Many times it is worthwhile to add a manual note to the system log file
to mark the start or end of an activity for future reference. This is
especially important when you run a script to carry out certain tasks
and you want to record the status or add comments at various stages
throughout its execution. This is also beneficial in debugging the
startup of an application to know where exactly it is failing.</p>
<p>The Modules section in the <em>rsyslog.conf</em> file provides the support via
the imuxsock module to record custom messages to the <em>messages</em> file
using the <em>logger</em> command. This command may be run by normal users or
the <em>root</em> user. The following example shows how to add a note
indicating the calling user has rebooted the system:</p>
<p><a href="#R-image-175e498b55d26feb492ba0206accd0b3" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00626.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-175e498b55d26feb492ba0206accd0b3"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00626.jpeg"></a></p>
<p><em>tail</em> the last line from the <em>messages</em> file and you&rsquo;ll observe the
message recorded along with the timestamp, hostname, and PID:</p>
<p><a href="#R-image-991f06ec2d1d87cbdcd0cbf62261d89f" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00627.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-991f06ec2d1d87cbdcd0cbf62261d89f"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00627.jpeg"></a></p>
<p>You may add the -p option and specify a priority level either as a
numerical value or in the facility.priority format. The default priority
at which the events are recorded is user.notice. See the manual pages
for the <em>logger</em> command for more details.</p>
<h3 id="the-systemd-journal">The systemd Journal</h3>
<p>In addition to the <em>rsyslog</em> service, RHEL offers a systemd-based
logging service for the collection and storage of logging data. This
service is implemented via the <em>systemd-journald</em> daemon. The function
of this service is to gather, store, and display logging events from a
variety of sources such as the kernel, <em>rsyslog</em> and other services,
initial RAM disk, and alerts generated during the early boot stage. It
stores these messages in the binary format in files called <em>journals</em>
that are located in the **run<em>log/journal</em> directory. These files are
structured and indexed for faster and easier searches, and may be viewed
and managed using the <em>journalctl</em> command. As you know, <em>/run</em> is a
virtual file system that is created in memory at system boot, maintained
during system runtime, and destroyed at shutdown. Therefore, the data
stored therein is non-persistent, but you can enable persistent storage
for the logs if desired.</p>
<p>RHEL runs both <em>rsyslogd</em> and <em>systemd-journald</em> concurrently. In fact,
the data gathered by <em>systemd-journald</em> may be forwarded to <em>rsyslogd</em>
for further processing and persistent storage in text format.</p>
<p>The main configuration file for this service is
**etc<em>systemd/journald.conf</em>, which contains numerous default settings
that affect the overall functionality of the service. These settings may
be modified as required.</p>
<h3 id="retrieving-and-viewing-messages">Retrieving and Viewing Messages</h3>
<p>RHEL provides the <em>journalctl</em> command to retrieve messages from the
journal for viewing in a variety of ways using different options. One
common usage is to run the command without any options to see all the
messages generated since the last system reboot. The following shows a
few initial entries from the journal:</p>
<p><a href="#R-image-33c8dfc9425c45094f5e2e3826ab9c6d" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00628.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-33c8dfc9425c45094f5e2e3826ab9c6d"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00628.jpeg"></a></p>
<p>Notice that the format of the messages is similar to that of the events
logged to the **var<em>log/messages</em> file that you saw earlier. Each line
begins with a timestamp followed by the system hostname, process name
with or without a PID, and the actual message.</p>
<p>Let&rsquo;s run the <em>journalctl</em> command with different options to produce
various reports.</p>
<p>To display detailed output for each entry, use the -o verbose option:</p>
<p><a href="#R-image-96529bee7097f6db7159e4182f107dca" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00629.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-96529bee7097f6db7159e4182f107dca"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00629.jpeg"></a></p>
<p>To view all events since the last system reboot, use the -b options:</p>
<p><a href="#R-image-73a720f640c3d81c19b1c0ed3f1a70dc" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00630.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-73a720f640c3d81c19b1c0ed3f1a70dc"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00630.jpeg"></a></p>
<p>You may specify -0 (default, since the last system reboot), -1 (the
previous system reboot), -2 (two reboots before), and so on to view
messages from previous system reboots.</p>
<p>To view only kernel-generated alerts since the last system reboot:</p>
<p><a href="#R-image-4b4e92b096b504c5544fdb353a215c03" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00631.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4b4e92b096b504c5544fdb353a215c03"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00631.jpeg"></a></p>
<p>To limit the output to view a specific number of entries only (3 in the
example below), use the -n option:</p>
<p><a href="#R-image-97b8cb3c7dbc240dfd1f0b2a8b86e303" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00632.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-97b8cb3c7dbc240dfd1f0b2a8b86e303"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00632.jpeg"></a></p>
<p>To show all alerts generated by a particular service, such as <em>crond</em>:</p>
<p><a href="#R-image-db2ffe142cf01fafd547b3e18ee58203" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00633.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-db2ffe142cf01fafd547b3e18ee58203"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00633.jpeg"></a></p>
<p>To retrieve all messages logged for a certain process, such as the PID
associated with the <em>chronyd</em> service:</p>
<p><a href="#R-image-96c918926bde3e053eb6e2f278be05ef" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00634.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-96c918926bde3e053eb6e2f278be05ef"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00634.jpeg"></a></p>
<p>To reveal all messages for a particular system unit, such as
sshd.service:</p>
<p><a href="#R-image-b4f69df067baecc38b0dd0bc0145637b" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00635.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b4f69df067baecc38b0dd0bc0145637b"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00635.jpeg"></a></p>
<p>To view all error messages logged between a date range, such as October
10, 2019 and October 16, 2019:</p>
<p><a href="#R-image-9aa07bbe7485f2327ae5dcb5addfda7e" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00636.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9aa07bbe7485f2327ae5dcb5addfda7e"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00636.jpeg"></a></p>
<p>To get all warning messages that have appeared today and display them in
reverse chronological order:</p>
<p><a href="#R-image-ad273cc4807a5f0c82bd2cc859ba047c" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00637.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ad273cc4807a5f0c82bd2cc859ba047c"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00637.jpeg"></a></p>
<p>You can specify the time range in hh:mm:ss format, or yesterday, today,
or tomorrow instead.</p>
<p>Similar to the -f (follow) option that is used with the <em>tail</em> command
for real-time viewing of a log file, you can use the same switch with
<em>journalctl</em> as well. Press Ctrl+c to terminate.</p>
<p><a href="#R-image-7df3da5e870f18483e4ce4b7a5e6fe64" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00638.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7df3da5e870f18483e4ce4b7a5e6fe64"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00638.jpeg"></a></p>
<p>Check the manual pages of the <em>journalctl</em> command and the
<em>systemd-journald</em> service for more details.</p>
<p>Preserving Journal Information</p>
<p>By default, journals are stored in the **run<em>log/journal</em> directory for
the duration of system runtime. This data is transient and it does not
survive across reboots. The <em>journalctl</em> command examples demonstrated
earlier retrieve journal information from this temporary location. The
<em>rsyslogd</em> daemon, by default, reads the temporary journals and stores
messages in the **var<em>log/messages</em> file. You can enable a separate
storage location for the journal to save all its messages there
persistently. The default is under the **var<em>log/journal</em> directory.
This will make the journal information available for future reference.</p>
<p>The <em>systemd-journald</em> service supports four options with the Storage
directive in its configuration file <em>journald.conf</em> to control how the
logging data is handled. These options are described in</p>
<hr>
<p><strong>Option</strong>   <strong>Description</strong>
volatile     Stores data in memory only
persistent   Stores data permanently under <em>var</em>log/journal and falls back to memory-only option if this directory does not exist or has a permission or other issue. The service creates <em>var</em>log/journal in case of its non-existence.
auto         Similar to &ldquo;persistent&rdquo; but does not create <em>var</em>log/journal if it does not exist. This is the default option.
none         Disables both volatile and persistent storage options. Not recommended.</p>
<hr>
<p>Journal Data Storage Options</p>
<p>The default (auto) option appears more suitable as it stores data in
both volatile and on-disk storage; however, you need to create the
**var<em>log/journal</em> directory manually. This option provides two
fundamental benefits: faster query responses from in-memory storage and
access to historical log data from on-disk storage.</p>
<p><strong>Exercise 12-1: Configure Persistent Storage for Journal Information</strong></p>
<p>This exercise should be done on <em>server1</em> as <em>user1</em> with <em>sudo</em> where
required.</p>
<p>In this exercise, you will run the necessary steps to enable and confirm
persistent storage for the journals.</p>
<ol>
<li>Create a subdirectory called <em>journal</em> under the **var<em>log</em>
directory and confirm:</li>
</ol>
<p><a href="#R-image-12e7921cdf3de960e4edf9cd34205ad2" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00639.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-12e7921cdf3de960e4edf9cd34205ad2"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00639.jpeg"></a></p>
<ol start="2">
<li>Restart the <em>systemd-journald</em> service and confirm:</li>
</ol>
<p><a href="#R-image-c01fca6666b7a69da047c06c18cdbd8c" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00640.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c01fca6666b7a69da047c06c18cdbd8c"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00640.jpeg"></a></p>
<ol start="3">
<li>List the new directory and observe a subdirectory matching the
machine ID of the system as defined in the **etc<em>machine-id</em> file is
created:</li>
</ol>
<p><a href="#R-image-eff9020a7b5bdc1f9e4d6e9f66b8fb0a" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00641.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-eff9020a7b5bdc1f9e4d6e9f66b8fb0a"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00641.jpeg"></a></p>
<p>Compare the name of the subdirectory with the ID stored in the
**etc<em>machine-id</em> file. They are identical.</p>
<p>This log file is rotated automatically
once a month based on the settings in the <em>journald.conf</em> file. Check
the manual pages of the configuration file for details and relevant
directives.</p>
<p>This concludes the exercise.</p>
<p>System Tuning</p>
<p>RHEL uses a system tuning service called <em>tuned</em> to monitor storage,
networking, processor, audio, video, and a variety of other connected
devices, and adjusts their parameters for better performance or power
saving based on a chosen profile. There are several predefined tuning
profiles for common use cases shipped with RHEL that may be activated
either statically or dynamically.</p>
<p>The <em>tuned</em> service activates a selected profile at service startup and
continues to use it until it is switched to a different profile. This is
the static behavior and it is enabled by default.</p>
<p>The dynamic alternative adjusts the system settings based on the live
activity data received from monitored system components to ensure
optimal performance. In most cases, the utilization of system components
vary throughout the day. For example, a disk and processor&rsquo;s utilization
increases during a program startup and the network connection use goes
up during a large file transfer. A surge in a system component activity
results in heightened power consumption.</p>
<p>Tuning Profiles</p>
<p><em>tuned</em> includes nine predefined profiles to support a variety of use
cases. In addition, you can create custom profiles from nothing or by
using one of the existing profiles as a template. In either case, you
need to store the custom profile under the **etc<em>tuned</em> directory in
order to be recognized by the <em>tuned</em> service.</p>
<p>Tuning profiles may be separated into three groups: (1) optimized for
better performance, (2) geared more towards power consumption, and (3)
that offers a balance between the other two and the maximum
performance/power combination.</p>
<p>lists and describes these profiles.</p>
<hr>
<p><strong>Profile</strong>                                     <strong>Description</strong>
<strong>Profiles Optimized for Better Performance</strong><br>
Desktop                                         Based on the balanced profile for desktop systems. Offers improved throughput for interactive applications.
Latency-performance                             For low-latency requirements
Network-latency                                 Based on the latency-performance for faster network throughput
Network-throughput                              Based on the throughput-performance profile for maximum network throughput
Virtual-guest                                   Optimized for virtual machines
Virtual-host                                    Optimized for virtualized hosts
<strong>Profiles Optimized for Power Saving</strong>      <br>
Powersave                                       Saves maximum power at the cost of performance
<strong>Balanced/Max Profiles</strong>                    <br>
Balanced                                        Preferred choice for systems that require a balance between performance and power saving
Throughput-performance                          Provides maximum performance and consumes maximum power</p>
<hr>
<p>Tuning Profiles</p>
<p>Predefined profiles are located in the **usr<em>lib/tuned</em> directory in
subdirectories matching their names. The following shows a long listing
of the directory:</p>
<p><a href="#R-image-99608943d8642a626a25c95e3b7d361e" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00642.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-99608943d8642a626a25c95e3b7d361e"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00642.jpeg"></a></p>
<p>The default active profile set on <em>server1</em> and <em>server2</em> is the
<em>virtual-guest</em> profile, as the two systems are hosted in a VirtualBox
virtualized environment.</p>
<p>The tuned-adm Command</p>
<p><em>tuned</em> comes with a single profile management command called
<em>tuned-adm</em>. This tool can list active and available profiles, query
current settings, switch between profiles, and turn the tuning off. This
command can also recommend the best profile for the system based on many
system attributes. Refer to the manual pages of the command for more
details.</p>
<p>The following exercise demonstrates the use of most of the management
operations listed above.</p>
<p>Exercise 12-2: Manage Tuning Profiles</p>
<p>This exercise should be done on <em>server1</em> as <em>user1</em> with <em>sudo</em> where
required.</p>
<p>In this exercise, you will install the <em>tuned</em> service, start it now,
and enable it for auto-restart upon future system reboots. You will
display all available profiles and the current active profile. You will
switch to one of the available profiles and confirm. You will determine
the recommended profile for the system and switch to it. Finally, you
will deactivate tuning and reactivate it. You will confirm the
activation to conclude the exercise.</p>
<ol>
<li>Install the <em>tuned</em> package if it is not already installed:</li>
</ol>
<p><a href="#R-image-f6a93c11e9918e8e0f304a31642ca5ea" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00643.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f6a93c11e9918e8e0f304a31642ca5ea"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00643.jpeg"></a></p>
<p>The output indicates that the software is already installed.</p>
<ol start="2">
<li>Start the <em>tuned</em> service and set it to autostart at reboots:</li>
</ol>
<p><a href="#R-image-88d422801335c3f6a2d0a8aba41b9caa" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00644.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-88d422801335c3f6a2d0a8aba41b9caa"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00644.jpeg"></a></p>
<ol start="3">
<li>Confirm the startup:</li>
</ol>
<p><a href="#R-image-ddf71735df8aeed870f5fe09a70e2242" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00645.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ddf71735df8aeed870f5fe09a70e2242"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00645.jpeg"></a></p>
<ol start="4">
<li>Display the list of available tuning profiles:</li>
</ol>
<p><a href="#R-image-1c4b41b8b13203f77558da9ab99644c0" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00646.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1c4b41b8b13203f77558da9ab99644c0"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00646.jpeg"></a></p>
<p>The output shows the nine predefined profiles. It also exhibits the
current active profile.</p>
<ol start="5">
<li>List only the current active profile:</li>
</ol>
<p><a href="#R-image-2cd9b45b30099d9d001716e1c343b839" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00647.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2cd9b45b30099d9d001716e1c343b839"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00647.jpeg"></a></p>
<ol start="6">
<li>Switch to the <em>powersave</em> profile and confirm:</li>
</ol>
<p><a href="#R-image-c4f6582eac4a731726076fb25f908fbc" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00648.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c4f6582eac4a731726076fb25f908fbc"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00648.jpeg"></a></p>
<p>The active profile is now <em>powersave</em>.</p>
<ol start="7">
<li>Determine the recommended profile for <em>server1</em> and switch to
it:</li>
</ol>
<p><a href="#R-image-5883b84b2943defa180fada2432f94b7" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00649.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5883b84b2943defa180fada2432f94b7"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00649.jpeg"></a></p>
<p>The first instance of the command shows the best recommended profile for
<em>server1</em> based on its characteristics, the second command instance
switched to the recommended profile, and the third instance confirmed
the switching.</p>
<ol start="8">
<li>Turn off tuning:</li>
</ol>
<p><a href="#R-image-aef8b2cc83dbe7aafc48b803a0264bf3" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00650.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-aef8b2cc83dbe7aafc48b803a0264bf3"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00650.jpeg"></a></p>
<p>The service will not perform any tuning until it is reactivated.</p>
<ol start="9">
<li>Reactivate tuning and confirm:</li>
</ol>
<p><a href="#R-image-1450848997beff7438ec06fbad588673" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/00651.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1450848997beff7438ec06fbad588673"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/00651.jpeg"></a></p>
<p>The tuning is re-enabled and the <em>virtual-guest</em> profile is in effect.
This concludes the exercise.</p>
<p>Chapter Summary</p>
<p>This chapter started with a discussion of systemd, the default service
management and system initialization scheme used in RHEL. We explored
key components of systemd, its key directories, and examined unit and
target configuration files. We utilized the lone systemd administration
command to switch system operational states, identify and set default
boot targets, and manage service start, stop, and status checking.</p>
<p>Next, we looked at the traditional system logging and newer systemd
journaling services. Both mechanisms have similarities and differences
in how they capture log data and where they direct it for storage and
retrieval. We examined the system log configuration file and the
configuration file that controls the log file rotation settings. The log
subsystem proves valuable when records are needed for monitoring,
troubleshooting, auditing, or reporting purpose.</p>
<p>Finally, we explored preconfigured tuning profiles and analyzed pros and
cons associated with each one of them. We demonstrated how to determine
a recommended profile for the system and how to set and activate it.</p>
<p>Review Questions</p>
<ol>
<li>
<p>The <em>systemd</em> command may be used to rebuild a new kernel.
True or False?</p>
</li>
<li>
<p>False.</p>
</li>
<li>
<p>Which command is used to manage system services?</p>
</li>
<li>
<p>The <em>systemctl</em> command.</p>
</li>
<li>
<p>Which configuration file must be modified to ensure journal
log entries are stored persistently?</p>
</li>
<li>
<p>The <em>journald.conf</em> file under the **etc<em>systemd</em> directory.</p>
</li>
<li>
<p>What is the PID of the <em>systemd</em> process?</p>
</li>
<li>
<p>The PID of the <em>systemd</em> process is 1.</p>
</li>
<li>
<p>What is a target in <em>systemd</em>?</p>
</li>
<li>
<p>A target is a collection of units.</p>
</li>
<li>
<p>You need to append a text string &ldquo;Hello world&rdquo; to the system
log file. What would be the command to achieve this?</p>
</li>
<li>
<p>The command to accomplish the desired result would be <em>logger
-i &ldquo;Hello world&rdquo;</em>.</p>
</li>
<li>
<p>What is the recommended location to store custom log
configuration files?</p>
</li>
<li>
<p>The recommended location to store custom log configuration
files is **etc<em>rsyslog.d</em> directory.</p>
</li>
<li>
<p>What would the command <em>systemctl list-dependencies crond</em> do?</p>
</li>
<li>
<p>The command provided will display all dependent units
associated with the specified service.</p>
</li>
<li>
<p>Name the two directory paths where <em>systemd</em> unit files are
stored.</p>
</li>
<li>
<p>The directory locations are **etc<em>systemd/system</em> and
**usr<em>lib/systemd/system</em>.</p>
</li>
<li>
<p>What would you run to identify the recommended tuning profile
for the system?</p>
</li>
<li>
<p>The <em>tuned-adm recommend</em> command.</p>
</li>
<li>
<p>What would the command <em>systemctl get-default</em> do?</p>
</li>
<li>
<p>The command provided will reveal the current default boot
target.</p>
</li>
<li>
<p><em>systemd</em> starts multiple services concurrently during system
boot. True or False?</p>
</li>
<li>
<p>True.</p>
</li>
<li>
<p>What is the name of the boot log file?</p>
</li>
<li>
<p>The <em>boot.log</em> file in the **var<em>log</em> directory.</p>
</li>
<li>
<p>Which <em>systemctl</em> subcommand is executed after a unit
configuration file has been modified to apply the changes?</p>
</li>
<li>
<p>The <em>daemon-reload</em> subcommand.</p>
</li>
<li>
<p>Which other logging service complements the <em>rsyslog</em>
service?</p>
</li>
<li>
<p>The <em>systemd-journald</em> service.</p>
</li>
<li>
<p>A RHEL system is booted up. You want to view all messages
that were generated during the boot process. Which log file would you
look at?</p>
</li>
<li>
<p>The **var<em>log/boot.log</em> file.</p>
</li>
<li>
<p>What would the command <em>systemctl restart rsyslog</em> do?</p>
</li>
<li>
<p>The command provided will restart the <em>rsyslog</em> service.</p>
</li>
<li>
<p>What are the two common <em>systemd</em> targets production RHEL
servers are typically configured to run at?</p>
</li>
<li>
<p>The two common <em>systemd</em> boot targets are multi-user and
graphical.</p>
</li>
<li>
<p>By default, log files are rotated automatically every week.
True or False?</p>
</li>
<li>
<p>True.</p>
</li>
</ol>
<p>Do It-Yourself Challenge Labs</p>
<p>The following labs are useful to strengthen most of the concepts and
topics learned in this chapter. It is expected that you perform the labs
without external help. A step-by-step guide is not supplied, as the
knowledge and skill required to implement the lab has already been
disseminated in the chapter; however, hints to the relevant major
topic(s) are included.</p>
<p><strong>Lab 12-1: Modify Default Boot Target</strong></p>
<p>As <em>user1</em> with <em>sudo</em> on <em>server1</em>, modify the default boot target from
graphical to multi-user, and reboot the system to test it. Run the
<em>systemctl</em> and <em>who</em> commands after the reboot for validation. Restore
the default boot target back to graphical and reboot to verify. (Hint:
System Initialization and Service Management).</p>
<p>Lab Record Custom Alerts</p>
<p>As <em>user1</em> with <em>sudo</em> on <em>server1</em>, write the message &ldquo;This is
$LOGNAME adding this marker on $(date)&rdquo; to **var<em>log/messages</em> file.
Ensure that variable and command expansions work. Verify the entry in
the file. (Hint: System Logging).</p>
<p>Lab 12-3: Apply Tuning Profile</p>
<p>As <em>user1</em> with <em>sudo</em> on <em>server1</em>, identify the current system tuning
profile with the <em>tuned-adm</em> command. List all available profiles. List
the recommended profile for <em>server1</em>. Apply the &ldquo;balanced&rdquo; profile and
verify with <em>tuned-adm</em>. (Hint: System Tuning).</p>

            <footer class="footline">
            </footer>
          </article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation showVisitedLinks">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">

Perfect Dark Mode

        </div>
        <div class="searchbox default-animation">
          <i class="fas fa-search" title="Search (CTRL+ALT+f)"></i>
          <label class="a11y-only" for="R-search-by">Search</label>
          <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
          <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
        </div>
        <script>
          var contentLangs=['en'];
        </script>
        <script src="/js/auto-complete.js?1711973038" defer></script>
        <script src="/js/lunr/lunr.min.js?1711973038" defer></script>
        <script src="/js/lunr/lunr.stemmer.support.min.js?1711973038" defer></script>
        <script src="/js/lunr/lunr.multi.min.js?1711973038" defer></script>
        <script src="/js/lunr/lunr.en.min.js?1711973038" defer></script>
        <script src="/js/search.js?1711973038" defer></script>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <ul>
          <li><a class="padding" href="/"><i class="fa-fw fas fa-home"></i> Home</a></li>
        </ul>
        <hr class="padding">
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div id="R-topics">
          <ul class="enlarge morespace collapsible-menu">
          <li data-nav-id="/linux/" class="parent "><input type="checkbox" id="R-section-9e5aaccdf48687824ccd3b3097af8e41" aria-controls="R-subsections-9e5aaccdf48687824ccd3b3097af8e41" checked><label for="R-section-9e5aaccdf48687824ccd3b3097af8e41"><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu Linux</span></label><a class="padding" href="/linux/">Linux<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-9e5aaccdf48687824ccd3b3097af8e41" class="morespace collapsible-menu">
          <li data-nav-id="/linux/misc_linux/boot_the_system/" class=""><a class="padding" href="/linux/misc_linux/boot_the_system/">Boot<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/command_line/" class=""><a class="padding" href="/linux/misc_linux/command_line/">Command Line<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/consoling_in_on_linux/" class=""><a class="padding" href="/linux/misc_linux/consoling_in_on_linux/">Consoling in on Linux<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/devices/" class=""><a class="padding" href="/linux/misc_linux/devices/">Devices<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/dns/" class=""><a class="padding" href="/linux/misc_linux/dns/">DNS<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/fedora_setup/" class=""><a class="padding" href="/linux/fedora_setup/">Fedora Desktop Setup<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/file_permissions/" class=""><a class="padding" href="/linux/misc_linux/file_permissions/">File Permissions<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/getting_started/" class=""><a class="padding" href="/linux/misc_linux/getting_started/">General Linux and History<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/ubuntu_stuff/" class=""><a class="padding" href="/linux/misc_linux/ubuntu_stuff/">How to Get Putty to Work in Ubuntu<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/init/" class=""><a class="padding" href="/linux/misc_linux/init/">Init<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/i_o_monitoring/" class=""><a class="padding" href="/linux/misc_linux/i_o_monitoring/">IO Monitoring<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/keyboard_shortcuts/" class=""><a class="padding" href="/linux/misc_linux/keyboard_shortcuts/">Keyboard Shortcuts<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/kernel/" class=""><a class="padding" href="/linux/misc_linux/kernel/">Linux Kernel<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/logging/" class=""><a class="padding" href="/linux/misc_linux/logging/">Logging<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/ls/" class=""><a class="padding" href="/linux/misc_linux/ls/">ls<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/network_troubleshooting/" class=""><a class="padding" href="/linux/misc_linux/network_troubleshooting/">Network Troubleshooting<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/network_basics/" class=""><a class="padding" href="/linux/misc_linux/network_basics/">Networking in Linux<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/linux_community_and_a_career_in_open_source/" class=""><a class="padding" href="/linux/misc_linux/linux_community_and_a_career_in_open_source/">Open source and Linux Community<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/packages/" class=""><a class="padding" href="/linux/misc_linux/packages/">Packages and Their Management<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/process_utilization/" class=""><a class="padding" href="/linux/misc_linux/process_utilization/">Process Utilization<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/ps_processes/" class=""><a class="padding" href="/linux/misc_linux/ps_processes/">Processes<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/linux_resources/" class=""><a class="padding" href="/linux/misc_linux/linux_resources/">Resources for learning Linux<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/rhcsavagrantlabsetup/" class=""><a class="padding" href="/linux/rhcsavagrantlabsetup/">RHCSA Lab Using Vagrant<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/rhcsanotes/" class=""><a class="padding" href="/linux/rhcsanotes/">RHCSA Notes<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/scp_command/" class=""><a class="padding" href="/linux/misc_linux/scp_command/">scp<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/network_sharing/" class=""><a class="padding" href="/linux/misc_linux/network_sharing/">Sharing Resources<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/finding_your_way_on_a_linux_system/" class=""><a class="padding" href="/linux/misc_linux/finding_your_way_on_a_linux_system/">Shell<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/skills_that_go_with_bash_scripting/" class=""><a class="padding" href="/linux/misc_linux/skills_that_go_with_bash_scripting/">Skills that go with Bash Scripting<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/switching_to_linux/" class=""><a class="padding" href="/linux/misc_linux/switching_to_linux/">Switching to Linux<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/the_power_of_the_linux_command_line/" class=""><a class="padding" href="/linux/misc_linux/the_power_of_the_linux_command_line/">Symbols in Bash<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/tar/" class=""><a class="padding" href="/linux/misc_linux/tar/">Tar Stuff<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/text_fu/" class=""><a class="padding" href="/linux/misc_linux/text_fu/">Text Editors<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/the_filesystem/" class=""><a class="padding" href="/linux/misc_linux/the_filesystem/">The Linux Filesystem<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/user_management/" class=""><a class="padding" href="/linux/misc_linux/user_management/">User Management<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/wsl2/" class=""><a class="padding" href="/linux/misc_linux/wsl2/">Windows Subsystem for Linux<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/rhcsa/12_sysinit_logging_tuning/" class="active"><a class="padding" href="/linux/rhcsa/12_sysinit_logging_tuning/"><i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/chroot/" class=""><a class="padding" href="/linux/misc_linux/chroot/">chroot<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/containers/" class=""><a class="padding" href="/linux/containers/">Container Stuff<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/linux/misc_linux/run_command_as_another_user/" class=""><a class="padding" href="/linux/misc_linux/run_command_as_another_user/">Run Command as Another User<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/networking/" class=""><input type="checkbox" id="R-section-ec0ce2ce30f7ea4f73b681ec6981b84f" aria-controls="R-subsections-ec0ce2ce30f7ea4f73b681ec6981b84f"><label for="R-section-ec0ce2ce30f7ea4f73b681ec6981b84f"><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu Networking</span></label><a class="padding" href="/networking/">Networking<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-ec0ce2ce30f7ea4f73b681ec6981b84f" class="morespace collapsible-menu">
          <li data-nav-id="/networking/cisco/cli/" class=""><a class="padding" href="/networking/cisco/cli/">Cisco CLI Basics<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/cml_setup_in_vmware/" class=""><a class="padding" href="/networking/cisco/cml_setup_in_vmware/">Cisco CML VMWARE Guide<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/ccnp_devnet_sandbox_setup/" class=""><a class="padding" href="/networking/cisco/ccnp_devnet_sandbox_setup/">Cisco Devnet Sandbox Setup<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/juniper/cisco_to_junos_cheat_sheet/" class=""><a class="padding" href="/networking/juniper/cisco_to_junos_cheat_sheet/">Cisco to Juniper Cheat Sheet<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/cisco_vlan_lab/" class=""><a class="padding" href="/networking/cisco/cisco_vlan_lab/">Cisco VLAN Lab<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/classful_ipv4/" class=""><a class="padding" href="/networking/cisco/classful_ipv4/">Classfull IPv4<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/management/" class=""><a class="padding" href="/networking/cisco/management/">Device Management<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/device_management_protocols/" class=""><a class="padding" href="/networking/cisco/device_management_protocols/">Device Management Protocols<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/dhcp_config/" class=""><a class="padding" href="/networking/cisco/dhcp_config/">DHCP Configuration<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/dhcp_snooping_and_arp_inspection/" class=""><a class="padding" href="/networking/cisco/dhcp_snooping_and_arp_inspection/">DHCP Snooping and ARP Inspection<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/ethernet_lans/" class=""><a class="padding" href="/networking/cisco/ethernet_lans/">Ethernet LANs<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/extended_acls/" class=""><a class="padding" href="/networking/cisco/extended_acls/">Extended ACLs<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/ccna_spaced_repetition/" class=""><a class="padding" href="/networking/ccna_spaced_repetition/">How to Study for CCNA<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/ip_services/" class=""><a class="padding" href="/networking/cisco/ip_services/">IP Services<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/ipv6_addressing_and_subnetting/" class=""><a class="padding" href="/networking/cisco/ipv6_addressing_and_subnetting/">IPv6 Addressing and Subnetting<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/ipv6/" class=""><a class="padding" href="/networking/cisco/ipv6/">IPv6 Basics<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/ipv6_config/" class=""><a class="padding" href="/networking/cisco/ipv6_config/">IPv6 Configuration<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/ipv6_routing/" class=""><a class="padding" href="/networking/cisco/ipv6_routing/">IPv6 Routing<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/juniper/junos_fundementals/" class=""><a class="padding" href="/networking/juniper/junos_fundementals/">Junos Basics<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/lan_architecture/" class=""><a class="padding" href="/networking/cisco/lan_architecture/">LAN Architecture<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/l2-etherchannel/" class=""><a class="padding" href="/networking/cisco/l2-etherchannel/">Layer 2 Etherchannel<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/spanning_tree/" class=""><a class="padding" href="/networking/cisco/spanning_tree/">More Spanning Tree<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/nat/" class=""><a class="padding" href="/networking/cisco/nat/">Network Address Translation (NAT)<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/ospf_concepts/" class=""><a class="padding" href="/networking/cisco/ospf_concepts/">OSPF Basics<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/ospf_config/" class=""><a class="padding" href="/networking/cisco/ospf_config/">OSPF Configuration<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/ospf_lab/" class=""><a class="padding" href="/networking/cisco/ospf_lab/">OSPF Lab<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/ospf_network_types_and_neighbors/" class=""><a class="padding" href="/networking/cisco/ospf_network_types_and_neighbors/">OSPF Network Types and Neighbors<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/qos/" class=""><a class="padding" href="/networking/cisco/qos/">QoS<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/rstp/" class=""><a class="padding" href="/networking/cisco/rstp/">Rapid Spanning Tree (RSTP)<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/resources_for_passing_ccna/" class=""><a class="padding" href="/networking/resources_for_passing_ccna/">Resources I used to Pass CCNA<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/router_operation/" class=""><a class="padding" href="/networking/cisco/router_operation/">Router Operation<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/routing_in_the_lan/" class=""><a class="padding" href="/networking/cisco/routing_in_the_lan/">Routing in the LAN<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/securing_network_devices/" class=""><a class="padding" href="/networking/cisco/securing_network_devices/">Securing Network Devices<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/security_architectures/" class=""><a class="padding" href="/networking/cisco/security_architectures/">Security Architectures<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/spanning_tree_protocol_concepts/" class=""><a class="padding" href="/networking/cisco/spanning_tree_protocol_concepts/">Spanning Tree Protocol Basics<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/standard_acls/" class=""><a class="padding" href="/networking/cisco/standard_acls/">Standard ACLs<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/static_routes/" class=""><a class="padding" href="/networking/cisco/static_routes/">Static Routes<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/switch_interfaces/" class=""><a class="padding" href="/networking/cisco/switch_interfaces/">Switch Interfaces<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/switchport_security_config/" class=""><a class="padding" href="/networking/cisco/switchport_security_config/">Switchport Security Configuration<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/tcp_ip_transport_and_applications/" class=""><a class="padding" href="/networking/cisco/tcp_ip_transport_and_applications/">TCP/UDP<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/t-shoot_routing/" class=""><a class="padding" href="/networking/cisco/t-shoot_routing/">Troubleshooting Routing<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/vlans/" class=""><a class="padding" href="/networking/cisco/vlans/">VLANs<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/wan_architecture/" class=""><a class="padding" href="/networking/cisco/wan_architecture/">WAN Architecture<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/wans_and_ip_routing/" class=""><a class="padding" href="/networking/cisco/wans_and_ip_routing/">WANs and IP Routing<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/what_is_a_vlan_/" class=""><a class="padding" href="/networking/cisco/what_is_a_vlan_/">What is a VLAN?<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/things_to_learn_after_ccna/" class=""><a class="padding" href="/networking/things_to_learn_after_ccna/">What to Learn After CCNA<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/wireless_architectures/" class=""><a class="padding" href="/networking/cisco/wireless_architectures/">Wireless Architectures<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/wireless_lan/" class=""><a class="padding" href="/networking/cisco/wireless_lan/">Wireless LANs<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/wireless/" class=""><a class="padding" href="/networking/cisco/wireless/">Wireless Principles<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/cisco/wireless_security/" class=""><a class="padding" href="/networking/cisco/wireless_security/">Wireless Security<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/juniper/consoling_in_to_mx80_from_linux/" class=""><a class="padding" href="/networking/juniper/consoling_in_to_mx80_from_linux/">Console into a Juniper MX80 from Linux<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/juniper/junos_paste_config/" class=""><a class="padding" href="/networking/juniper/junos_paste_config/">How to Copy and Paste a Junos Config<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/juniper/toggle_poe/" class=""><a class="padding" href="/networking/juniper/toggle_poe/">How to Toggle POE on a Juniper Switch<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/juniper/juniper_cli_basics/" class=""><a class="padding" href="/networking/juniper/juniper_cli_basics/">Juniper CLI Basics<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/" class=""><input type="checkbox" id="R-section-36a3ed262b315ff04085d7b53a448994" aria-controls="R-subsections-36a3ed262b315ff04085d7b53a448994"><label for="R-section-36a3ed262b315ff04085d7b53a448994"><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu Python</span></label><a class="padding" href="/python/">Python<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-36a3ed262b315ff04085d7b53a448994" class="morespace collapsible-menu">
          <li data-nav-id="/python/basics/" class=""><a class="padding" href="/python/basics/">Python Basics<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/tools/" class=""><input type="checkbox" id="R-section-cff67d57e00d6d598d882def3568f700" aria-controls="R-subsections-cff67d57e00d6d598d882def3568f700"><label for="R-section-cff67d57e00d6d598d882def3568f700"><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu Tools</span></label><a class="padding" href="/tools/">Tools<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-cff67d57e00d6d598d882def3568f700" class="morespace collapsible-menu">
          <li data-nav-id="/tools/calibre_server/" class=""><a class="padding" href="/tools/calibre_server/">Calibre Server<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/distrobox/" class=""><a class="padding" href="/tools/distrobox/">Distrobox Guide<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/silverblue/" class=""><a class="padding" href="/tools/silverblue/">Fedora Silverblue<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/githubpageshugo/" class=""><a class="padding" href="/tools/githubpageshugo/">Github Pages with Hugo<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/iphonemigrate/" class=""><a class="padding" href="/tools/iphonemigrate/">Migrating Away from Iphone<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/nextcloud/" class=""><a class="padding" href="/tools/nextcloud/">Nextcloud Guide<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/scssandsassinhugo/" class=""><a class="padding" href="/tools/scssandsassinhugo/">SCSS &amp; SASS in Hugo<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/pandoc/" class=""><a class="padding" href="/tools/pandoc/">Pandoc Guide<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/rsync/" class=""><a class="padding" href="/tools/rsync/">Rsync Guide<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/gitguide/" class=""><a class="padding" href="/tools/gitguide/">Beginners Guide to Git<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/hugorelearn/" class=""><a class="padding" href="/tools/hugorelearn/">How to Set up Hugo Relearn Theme<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/buildawebsite/" class=""><a class="padding" href="/tools/buildawebsite/">Building a Minimalist Website with Hugo<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/obsidian/building-a-dashboard/" class=""><a class="padding" href="/tools/obsidian/building-a-dashboard/">Building a Dashboard in Obsidian<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/calibre-web-with-docker/" class=""><a class="padding" href="/tools/calibre-web-with-docker/">Calibre Web With Docker<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/emailserver/" class=""><a class="padding" href="/tools/emailserver/">Hosting Your Own Email Server<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/obsidian/setup/" class=""><a class="padding" href="/tools/obsidian/setup/">My Obsidian Setup<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/obsidian/how-to-use-the-dataview-plugin/" class=""><a class="padding" href="/tools/obsidian/how-to-use-the-dataview-plugin/">Obsidian Dataview Plugin<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/obsidian/image_to_text/" class=""><a class="padding" href="/tools/obsidian/image_to_text/">Obsidian Image to Text Extractor<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/obsidian/tracker-plugin/" class=""><a class="padding" href="/tools/obsidian/tracker-plugin/">Obsidian Tracker Plugin<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/proxmox_setup/" class=""><a class="padding" href="/tools/proxmox_setup/">Proxmox Setup<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/serial-in-on-linux/" class=""><a class="padding" href="/tools/serial-in-on-linux/">Serial In on Linux<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/obsidian/how-to-use-templates/" class=""><a class="padding" href="/tools/obsidian/how-to-use-templates/">Using Templates in Obsidian<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/obsidian/yaml-in-obsidian/" class=""><a class="padding" href="/tools/obsidian/yaml-in-obsidian/">YAML in Obsidian<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/writing/" class="alwaysopen"><input type="checkbox" id="R-section-e557a922d533a171e9a204b7e50265e2" aria-controls="R-subsections-e557a922d533a171e9a204b7e50265e2" checked><label for="R-section-e557a922d533a171e9a204b7e50265e2"><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu Writing</span></label><a class="padding" href="/writing/">Writing<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-e557a922d533a171e9a204b7e50265e2" class="morespace collapsible-menu">
          <li data-nav-id="/writing/writing-off-the-cuff/" class=""><a class="padding" href="/writing/writing-off-the-cuff/">Writing Off the Cuff<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/booknotes/" class="alwaysopen"><input type="checkbox" id="R-section-1cda010113b426a07bb6aec1adc15086" aria-controls="R-subsections-1cda010113b426a07bb6aec1adc15086" checked><label for="R-section-1cda010113b426a07bb6aec1adc15086"><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu Book Notes</span></label><a class="padding" href="/booknotes/">Book Notes<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-1cda010113b426a07bb6aec1adc15086" class="morespace collapsible-menu">
          <li data-nav-id="/booknotes/123magic/" class=""><a class="padding" href="/booknotes/123magic/">123 Magic Notes<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/booknotes/master_reading_list/" class=""><a class="padding" href="/booknotes/master_reading_list/">Master Reading List<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/booknotes/thepowerofpositivedogtraining/" class=""><a class="padding" href="/booknotes/thepowerofpositivedogtraining/">The Power of Positive Dog Training Notes<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
          </ul>
        </div>
        <div id="R-shortcuts">
          <div class="nav-title padding">More</div>
          <ul class="space">
            <li><a class="padding" href="https://github.com/perfectdarkmode1"><i class='fab fa-fw fa-github'></i> GitHub</a></li>
          </ul>
        </div>
        <div class="padding footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter"></div>
        <div id="R-menu-footer">
          <hr class="padding default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter">
          <div id="R-prefooter" class="footerLangSwitch footerVariantSwitch footerVisitedLinks showVisitedLinks">
            <ul>
              <li id="R-select-language-container" class="footerLangSwitch">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-language"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <label class="a11y-only" for="R-select-language">Language</label>
                    <select id="R-select-language" onchange="location = this.querySelector( this.value ).dataset.url;">
                      <option id="R-select-language-en" value="#R-select-language-en" data-url="/linux/rhcsa/12_sysinit_logging_tuning/" lang="en-us" selected></option>
                    </select>
                  </div>
                  <div class="clear"></div>
                </div>
              </li>
              <li id="R-select-variant-container" class="footerVariantSwitch">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-paint-brush"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <label class="a11y-only" for="R-select-variant">Theme</label>
                    <select id="R-select-variant" onchange="window.variants && variants.changeVariant( this.value );">
                      <option id="R-select-variant-git" value="git" selected>Git</option>
                    </select>
                  </div>
                  <div class="clear"></div>
                </div>
                <script>window.variants && variants.markSelectedVariant();</script>
              </li>
              <li class="footerVisitedLinks showVisitedLinks">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-history"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <button onclick="clearHistory();">Clear History</button>
                  </div>
                  <div class="clear"></div>
                </div>
              </li>
            </ul>
          </div>
          <div id="R-footer" class="footerFooter showFooter">
	    <p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn" title="love"><i class="fas fa-heart"></i></a> by <a href="https://gohugo.io/">Hugo</a></p>
          </div>
        </div>
      </div>
    </aside>
    <script src="/js/clipboard.min.js?1711973038" defer></script>
    <script src="/js/perfect-scrollbar.min.js?1711973038" defer></script>
    <script>
      function useMathJax( config ){
        if( !Object.assign ){
          
          return;
        }
        window.MathJax = Object.assign( window.MathJax || {}, {
          loader: {
            load: ['[tex]/mhchem']
          },
          startup: {
            elements: [
              '.math'
            ]
          },
          tex: {
            inlineMath: [
              ['$', '$'], 
              ['\\(', '\\)']
            ]
          },
          options: {
            enableMenu: false 
          }
        }, config );
      }
      useMathJax( JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="/js/d3/d3-color.min.js?1711973038" defer></script>
    <script src="/js/d3/d3-dispatch.min.js?1711973038" defer></script>
    <script src="/js/d3/d3-drag.min.js?1711973038" defer></script>
    <script src="/js/d3/d3-ease.min.js?1711973038" defer></script>
    <script src="/js/d3/d3-interpolate.min.js?1711973038" defer></script>
    <script src="/js/d3/d3-selection.min.js?1711973038" defer></script>
    <script src="/js/d3/d3-timer.min.js?1711973038" defer></script>
    <script src="/js/d3/d3-transition.min.js?1711973038" defer></script>
    <script src="/js/d3/d3-zoom.min.js?1711973038" defer></script>
    <script src="/js/js-yaml.min.js?1711973038" defer></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js" defer></script>
    <script>
      window.themeUseMermaid = JSON.parse("{ \"theme\": \"default\" }");
    </script>
    <script src="/js/theme.js?1711973038" defer></script>
  </body>
</html>
