<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.124.1">
    <meta name="generator" content="Relearn 6.0.0+tip">
    <meta name="robots" content="noindex, nofollow, noarchive, noimageindex">
    <meta name="description" content="Links: https://git.jharmison.com/james/dotfiles/src/branch/master/.tmux.conf https://www.youtube.com/watch?v=nTqu6w2wc68 https://www.youtube.com/watch?v=DzNmUNvnB04 https://www.youtube.com/watch?v=Yl7NFenTgIo https://github.com/alacritty/alacritty https://github.com/rothgar/awesome-tmux https://www.youtube.com/watch?v=GH3kpsbbERo https://git.jharmison.com/james/dotfiles/src/branch/master/.config/alacritty/alacritty.toml#L41
tmux 2 Productive Mouse-Free Development easily manage a text editor, a database console, and a local web server within a single environment.
split tmux windows into sections, so multiple apps can run side by side.
Quickly move between these windows and panes using only the keyboard.
keystrokes you use to manage your environment will become second nature to you, which will greatly increase both your concentration and your productivity.">
    <meta name="author" content="David">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:description" content="Links: https://git.jharmison.com/james/dotfiles/src/branch/master/.tmux.conf https://www.youtube.com/watch?v=nTqu6w2wc68 https://www.youtube.com/watch?v=DzNmUNvnB04 https://www.youtube.com/watch?v=Yl7NFenTgIo https://github.com/alacritty/alacritty https://github.com/rothgar/awesome-tmux https://www.youtube.com/watch?v=GH3kpsbbERo https://git.jharmison.com/james/dotfiles/src/branch/master/.config/alacritty/alacritty.toml#L41
tmux 2 Productive Mouse-Free Development easily manage a text editor, a database console, and a local web server within a single environment.
split tmux windows into sections, so multiple apps can run side by side.
Quickly move between these windows and panes using only the keyboard.
keystrokes you use to manage your environment will become second nature to you, which will greatly increase both your concentration and your productivity.">
    <meta property="og:url" content="http://perfectdarkmode.com/tools/tmuxbook/">
    <meta property="og:description" content="Links: https://git.jharmison.com/james/dotfiles/src/branch/master/.tmux.conf https://www.youtube.com/watch?v=nTqu6w2wc68 https://www.youtube.com/watch?v=DzNmUNvnB04 https://www.youtube.com/watch?v=Yl7NFenTgIo https://github.com/alacritty/alacritty https://github.com/rothgar/awesome-tmux https://www.youtube.com/watch?v=GH3kpsbbERo https://git.jharmison.com/james/dotfiles/src/branch/master/.config/alacritty/alacritty.toml#L41
tmux 2 Productive Mouse-Free Development easily manage a text editor, a database console, and a local web server within a single environment.
split tmux windows into sections, so multiple apps can run side by side.
Quickly move between these windows and panes using only the keyboard.
keystrokes you use to manage your environment will become second nature to you, which will greatly increase both your concentration and your productivity.">
    <meta property="og:locale" content="en-us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Tools">
    <meta itemprop="description" content="Links: https://git.jharmison.com/james/dotfiles/src/branch/master/.tmux.conf https://www.youtube.com/watch?v=nTqu6w2wc68 https://www.youtube.com/watch?v=DzNmUNvnB04 https://www.youtube.com/watch?v=Yl7NFenTgIo https://github.com/alacritty/alacritty https://github.com/rothgar/awesome-tmux https://www.youtube.com/watch?v=GH3kpsbbERo https://git.jharmison.com/james/dotfiles/src/branch/master/.config/alacritty/alacritty.toml#L41
tmux 2 Productive Mouse-Free Development easily manage a text editor, a database console, and a local web server within a single environment.
split tmux windows into sections, so multiple apps can run side by side.
Quickly move between these windows and panes using only the keyboard.
keystrokes you use to manage your environment will become second nature to you, which will greatly increase both your concentration and your productivity.">
    <meta itemprop="wordCount" content="20420">
    <title></title>
    <link href="/css/fontawesome-all.min.css?1718935575" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fontawesome-all.min.css?1718935575" rel="stylesheet"></noscript>
    <link href="/css/nucleus.css?1718935575" rel="stylesheet">
    <link href="/css/auto-complete.css?1718935575" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/auto-complete.css?1718935575" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar.min.css?1718935575" rel="stylesheet">
    <link href="/css/fonts.css?1718935575" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fonts.css?1718935575" rel="stylesheet"></noscript>
    <link href="/css/theme.css?1718935575" rel="stylesheet">
    <link href="/css/theme-amoled.css?1718935575" rel="stylesheet" id="R-variant-style">
    <link href="/css/chroma-relearn-dark.css?1718935575" rel="stylesheet" id="R-variant-chroma-style">
    <link href="/css/variant.css?1718935575" rel="stylesheet">
    <link href="/css/print.css?1718935575" rel="stylesheet" media="print">
    <script src="/js/variant.js?1718935575"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..';
      window.relearn.absBaseUri='http:\/\/perfectdarkmode.com';
      window.index_js_url="/index.search.js";
      // variant stuff
      window.variants && variants.init( [ 'amoled' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-23N4FSG0HM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-23N4FSG0HM');
</script>

  </head>
  <body class="mobile-support html" data-url="/tools/tmuxbook/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-back" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="history.back()" type="button" title=""><i class="fa-fw fas fa-chevron-left"></i></button>
            </div>

            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper"><nav class="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#productive-mouse-free-development">Productive Mouse-Free Development</a></li>
      </ul>
    </li>
    <li><a href="#who-should-read-this-book">Who Should Read This Book</a></li>
    <li><a href="#whats-in-this-book">What&rsquo;s in This Book</a></li>
    <li><a href="#changes-in-the-second-edition">Changes in the Second Edition</a></li>
    <li><a href="#conventions">Conventions</a></li>
    <li><a href="#chapter-1-learning-the-basics">Chapter 1 Learning the Basics</a>
      <ul>
        <li><a href="#installing-tmux">Installing tmux</a></li>
        <li><a href="#installing-on-linux">Installing on Linux</a></li>
        <li><a href="#starting-tmux">Starting tmux</a></li>
        <li><a href="#creating-named-sessions">Creating Named Sessions</a></li>
        <li><a href="#the-command-prefix">The Command Prefix</a></li>
        <li><a href="#detaching-and-attaching-sessions">Detaching and Attaching Sessions</a></li>
        <li><a href="#killing-sessions">Killing Sessions</a></li>
        <li><a href="#working-with-windows">Working with Windows</a></li>
        <li><a href="#creating-and-naming-windows">Creating and Naming Windows</a></li>
        <li><a href="#working-with-panes">Working with Panes</a></li>
        <li><a href="#pane-layouts">Pane Layouts</a></li>
        <li><a href="#closing-panes">Closing Panes</a></li>
        <li><a href="#working-with-command-mode">Working with Command Mode</a></li>
        <li><a href="#whats-next">What&rsquo;s Next?</a></li>
      </ul>
    </li>
    <li><a href="#for-future-reference">For Future Reference</a>
      <ul>
        <li><a href="#creating-sessions">Creating Sessions</a></li>
        <li><a href="#default-commands-for-sessions-windows-and-panes">Default Commands for Sessions, Windows, and Panes</a></li>
        <li><a href="#chapter-2-configuring-tmux">Chapter 2 Configuring tmux</a></li>
      </ul>
    </li>
    <li><a href="#tmuxconf">.tmux.conf</a>
      <ul>
        <li><a href="#defining-an-easier-prefix">Defining an Easier Prefix</a></li>
        <li><a href="#changing-the-default-delay">Changing the Default Delay</a></li>
        <li><a href="#setting-the-window-and-panes-index">Setting the Window and Panes Index</a></li>
        <li><a href="#customizing-keys-commands-and-user-input">Customizing Keys, Commands, and User Input</a></li>
        <li><a href="#creating-a-shortcut-to-reload-the-configuration">Creating a Shortcut to Reload the Configuration</a></li>
        <li><a href="#sending-the-prefix-to-other-applications">Sending the Prefix to Other Applications</a></li>
        <li><a href="#splitting-panes">Splitting Panes</a></li>
        <li><a href="#remapping-movement-keys">Remapping Movement Keys</a></li>
        <li><a href="#sec.Resizing.Panes">Resizing Panes</a></li>
        <li><a href="#sec.Supporting.the.Mouse">Handling the Mouse</a></li>
      </ul>
    </li>
    <li><a href="#sec.Visual.Styling">Visual Styling</a>
      <ul>
        <li><a href="#sec.Configuring.Colors">Configuring Colors</a></li>
        <li><a href="#changing-colors">Changing Colors</a></li>
      </ul>
    </li>
    <li><a href="#sec.Customizing.the.Status.Bar">Customizing the Status Line&rsquo;s Content</a>
      <ul>
        <li><a href="#sec.Configuring.Status.Bar.Items">Configuring Status Line Items</a></li>
        <li><a href="#sec.Staying.Up.To.Date">Keeping Status Line Info Up to Date</a></li>
        <li><a href="#sec.Centering.the.Window.list">Centering the Window List</a></li>
        <li><a href="#sec.Identifying.Activity">Identifying Activity in Other Windows</a></li>
      </ul>
    </li>
    <li><a href="#d24e3024">What&rsquo;s Next?</a></li>
    <li><a href="#d24e3049">For Future Reference</a>
      <ul>
        <li><a href="#keybindings-defined-in-this-chapter">Keybindings defined in this chapter</a></li>
        <li><a href="#commands-to-control-tmuxs-behavior">Commands to control tmux&rsquo;s behavior</a></li>
        <li><a href="#commands-to-control-tmuxs-appearance">Commands to control tmux&rsquo;s appearance</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#sec.Creating.a.Custom.Setup">Creating a Custom Setup with tmux Commands</a>
      <ul>
        <li><a href="#sec.Scripting.a.Project.Configuration">Scripting a Project Configuration</a></li>
      </ul>
    </li>
    <li><a href="#sec.Using.tmux.Configuration.For.Setup">Using tmux Configuration for Setup</a></li>
    <li><a href="#sec.Managing.Configuration.with.tmuxinator">Managing Configuration with tmuxinator</a></li>
    <li><a href="#d24e4656">What&rsquo;s Next?</a></li>
    <li><a href="#d24e4663">For Future Reference</a>
      <ul>
        <li><a href="#scriptable-tmux-commands">Scriptable tmux commands</a></li>
        <li><a href="#tmuxinator-commands">tmuxinator commands</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#sec.Scrolling.Through.Output">Scrolling Through Output with Copy Mode</a>
      <ul>
        <li><a href="#moving-quickly-through-the-buffer">Moving Quickly Through the Buffer</a></li>
        <li><a href="#sec.Searching.Through.the.Buffer">Searching Through the Buffer</a></li>
      </ul>
    </li>
    <li><a href="#d24e5079">Copying and Pasting Text</a>
      <ul>
        <li><a href="#sec.Capturing.a.Pane">Capturing a Pane</a></li>
        <li><a href="#showing-and-saving-the-buffer">Showing and Saving the Buffer</a></li>
        <li><a href="#sec.Using.Multiple.Paste.Buffers">Using Multiple Paste Buffers</a></li>
        <li><a href="#sec.Remapping.Keys">Remapping Copy and Paste Keys</a></li>
      </ul>
    </li>
    <li><a href="#sec.linux.clipboard">Working with the Clipboard on Linux</a></li>
    <li><a href="#sec.using.system.clipboards">Using OS X Clipboard Commands</a></li>
    <li><a href="#d24e5607">What&rsquo;s Next?</a></li>
    <li><a href="#d24e5614">For Future Reference</a>
      <ul>
        <li><a href="#shortcut-keys">Shortcut keys</a></li>
        <li><a href="#copy-mode-movement-keys-vi-mode">Copy mode movement keys (vi mode)</a></li>
        <li><a href="#commands">Commands</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#d24e5864">Pairing with a Shared Account</a></li>
    <li><a href="#sec.Using.a.Shared.Account.and.Grouped.Sessions">Using a Shared Account and Grouped Sessions</a></li>
    <li><a href="#d24e6171">Quickly Pairing with tmate</a></li>
    <li><a href="#sec.Pairing.With.Separate.Accounts.and.Sockets">Pairing with Separate Accounts and Sockets</a>
      <ul>
        <li><a href="#sec.Creating.and.Sharing.Sessions">Creating and Sharing Sessions</a></li>
      </ul>
    </li>
    <li><a href="#d24e6619">What&rsquo;s Next?</a></li>
    <li><a href="#d24e6628">For Future Reference</a>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#d24e6684">Working Effectively with Panes and Windows</a>
      <ul>
        <li><a href="#sec.Turning.a.Pane.into.a.Window">Turning a Pane into a Window</a></li>
        <li><a href="#sec.Turning.a.Window.Into.A.Pane">Turning a Window into a Pane</a></li>
        <li><a href="#maximizing-and-restoring-panes">Maximizing and Restoring Panes</a></li>
        <li><a href="#launching-commands-in-panes">Launching Commands in Panes</a></li>
        <li><a href="#opening-a-pane-in-the-current-directory">Opening a Pane in the Current Directory</a></li>
        <li><a href="#issuing-commands-in-many-panes-simultaneously">Issuing Commands in Many Panes Simultaneously</a></li>
      </ul>
    </li>
    <li><a href="#managing-sessions">Managing Sessions</a>
      <ul>
        <li><a href="#moving-between-sessions">Moving Between Sessions</a></li>
        <li><a href="#moving-windows-between-sessions">Moving Windows Between Sessions</a></li>
        <li><a href="#creating-or-attaching-to-existing-sessions">Creating or Attaching to Existing Sessions</a></li>
      </ul>
    </li>
    <li><a href="#tmux-and-your-operating-system">tmux and Your Operating System</a>
      <ul>
        <li><a href="#sec.Using.A.Different.Shell">Using a Different Shell</a></li>
        <li><a href="#launching-tmux-by-default">Launching tmux by Default</a></li>
        <li><a href="#keeping-specific-configuration-separate">Keeping Specific Configuration Separate</a></li>
        <li><a href="#recording-program-output-to-a-log">Recording Program Output to a Log</a></li>
        <li><a href="#adding-battery-life-to-the-status-line">Adding Battery Life to the Status Line</a></li>
        <li><a href="#integrating-seamlessly-with-vim">Integrating Seamlessly with Vim</a></li>
      </ul>
    </li>
    <li><a href="#extending-tmux-with-plugins">Extending tmux with Plugins</a></li>
    <li><a href="#whats-next-1">What&rsquo;s Next?</a></li>
    <li><a href="#for-future-reference-1">For Future Reference</a></li>
  </ul>
</nav>
                </div>
              </div>
            </div>


          </div>
          <span class="topbar-breadcrumbs highlightable">
            
          </span>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-about" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/about/" title=""><i class="fa-fw fas fa-address-card"></i> <span class="title">About</span></a>
            </div>

            <div class="topbar-button topbar-button-now" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/now/" title=""><i class="fa-fw fas fa-play"></i> <span class="title">Now</span></a>
            </div>

            <div class="topbar-button topbar-button-recommended" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/recommended/" title=""><i class="fa-fw fas fa-thumbs-up"></i> <span class="title">Recommended</span></a>
            </div>

            <div class="topbar-button topbar-button-booknotes" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/booknotes/" title=""><i class="fa-fw fas fa-file"></i> <span class="title">Book Notes</span></a>
            </div>

            <div class="topbar-button topbar-button-contact" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/contact/" title=""><i class="fa-fw fas fa-envelope"></i> <span class="title">Contact</span></a>
            </div>






          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>

<h1 id=""></h1>

<p>Links:
<a href="https://git.jharmison.com/james/dotfiles/src/branch/master/.tmux.conf" rel="external" target="_blank">https://git.jharmison.com/james/dotfiles/src/branch/master/.tmux.conf</a>
<a href="https://www.youtube.com/watch?v=nTqu6w2wc68" rel="external" target="_blank">https://www.youtube.com/watch?v=nTqu6w2wc68</a>
<a href="https://www.youtube.com/watch?v=DzNmUNvnB04" rel="external" target="_blank">https://www.youtube.com/watch?v=DzNmUNvnB04</a>
<a href="https://www.youtube.com/watch?v=Yl7NFenTgIo" rel="external" target="_blank">https://www.youtube.com/watch?v=Yl7NFenTgIo</a>
<a href="https://github.com/alacritty/alacritty" rel="external" target="_blank">https://github.com/alacritty/alacritty</a>
<a href="https://github.com/rothgar/awesome-tmux" rel="external" target="_blank">https://github.com/rothgar/awesome-tmux</a>
<a href="https://www.youtube.com/watch?v=GH3kpsbbERo" rel="external" target="_blank">https://www.youtube.com/watch?v=GH3kpsbbERo</a>
<a href="https://git.jharmison.com/james/dotfiles/src/branch/master/.config/alacritty/alacritty.toml#L41" rel="external" target="_blank">https://git.jharmison.com/james/dotfiles/src/branch/master/.config/alacritty/alacritty.toml#L41</a></p>
<h1 id="tmux-2">tmux 2</h1>
<h3 id="productive-mouse-free-development">Productive Mouse-Free Development</h3>
<ul>
<li>
<p>easily manage a text editor, a database console, and a local web server within a single environment.</p>
</li>
<li>
<p>split tmux windows into sections, so multiple apps can run side by side.</p>
</li>
<li>
<p>Quickly move between these windows and panes using only the keyboard.</p>
</li>
<li>
<p>keystrokes you use to manage your environment will become second nature to you, which will greatly increase both your concentration and your productivity.</p>
</li>
<li>
<p>configure, use, and customize tmux.</p>
</li>
<li>
<p>manage multiple programs simultaneously,</p>
</li>
<li>
<p>write scripts to create custom environments</p>
</li>
<li>
<p>use tmux to work remotely with others.</p>
</li>
<li>
<p>create a work environment that keeps almost everything you need at your fingertips.</p>
</li>
</ul>
<p>terminal multiplexer It</p>
<ul>
<li>
<p>lets you use a single environment to launch multiple terminals, or windows, each running its own process or program.</p>
</li>
<li>
<p>You can divide your terminal windows into horizontal or vertical panes, and run two or more programs on the same screen side by side.</p>
</li>
<li>
<p>detach from a session,</p>
<ul>
<li>leave your environment running in the background.</li>
<li>If you&rsquo;ve used</li>
</ul>
</li>
<li>
<p>uses a client-server model</p>
<ul>
<li>lets you control windows and panes from a central location, or even</li>
<li>jump between multiple sessions from a single terminal window.</li>
<li>lets you create scripts and interact with tmux from other windows or applications.</li>
</ul>
</li>
</ul>
<h2 id="who-should-read-this-book">Who Should Read This Book</h2>
<p>Whether you&rsquo;re a system administrator or a software developer who spends
a good part of your time using the terminal and command-line tools, this
book aims to help you work faster.</p>
<ul>
<li>
<p>use tmux to build a development environment that can make working with multiple terminal sessions a breeze.</p>
</li>
<li>
<p>if you&rsquo;re already comfortable using Vim or Emacs, you&rsquo;ll see how tmux can accelerate your workflow even more.</p>
</li>
<li>
<p>If you  spend some time working with remote servers, you&rsquo;ll be interested in how you can leverage tmux to create a persistent dashboard for managing or monitoring servers.</p>
</li>
</ul>
<h2 id="whats-in-this-book">What&rsquo;s in This Book</h2>
<ul>
<li>create sessions, panes, and windows and learn how to perform basic navigation.</li>
<li>redefine default keybindings and customize how tmux looks.</li>
<li>script your own development environment using the command-line interface, configuration files, and the tmuxinator program.</li>
<li>work with text and use the keyboard to move backwards through the buffer, select and copy text, and work with multiple paste buffers.</li>
<li>Set up tmux so that you and a coworker can work together on the same codebase from different computers using tmux.</li>
<li>Advanced ways to manage windows, panes, and sessions, and how to be even more productive with tmux.</li>
</ul>
<h2 id="changes-in-the-second-edition">Changes in the Second Edition</h2>
<p>This new edition has some notable changes from the first edition. tmux
2.1 and 2.2 introduced several backwards-incompatible changes that this
edition addresses; this edition also introduces some new options. And
tmux is now more popular than it was, so there are more tools and tricks
you can use to improve your workflow. Here&rsquo;s what&rsquo;s new:</p>
<h2 id="conventions">Conventions</h2>
<p>tmux is a tool that&rsquo;s driven by the keyboard. You&rsquo;ll encounter many
keyboard shortcuts throughout the book. Since tmux supports both
lowercase and uppercase keyboard shortcuts, it may sometimes be unclear
which key the book is referencing.</p>
<p>To keep it simple, these are the conventions I&rsquo;ve used.</p>
<ul>
<li>
<p><code>Ctrl</code>-<code>b</code>means &ldquo;press the <code>Ctrl``b</code> keys
simultaneously.&rdquo;</p>
</li>
<li>
<p><code>Ctrl</code>-<code>R</code> means you&rsquo;ll press the
<code>Ctrl</code>and <code>r</code>keys simultaneously, but you&rsquo;ll need to use the
<code>Shift</code> key to produce the capital &ldquo;R.&rdquo; I won&rsquo;t explicitly show the <code>Shift</code> key in any of these
keystrokes.</p>
</li>
<li>
<p><code>Ctrl</code>-<code>b</code> <code>d</code> means &ldquo;press the <code>Ctrl</code> and <code>b</code>
keys simultaneously, then release, and then press <code>d</code>
In Chapter 1, , you&rsquo;ll learn about the [command
prefix], which will use this notation, but
shortened to <code>Prefix</code> <code>d</code></p>
</li>
<li>
<p>I&rsquo;ll show some terminal commands throughout the book, like</p>
</li>
</ul>
<p><code>tmux ​​new-session</code></p>
<p>you can configure tmux with a configuration file called tmux.conf</p>
<p>config/tmux.conf</p>
<div class="highlight wrap-code"><pre tabindex="0"><code># Setting the prefix from C-b to C-a
​set -g prefix C-a</code></pre></div><p>To make it easy for you to find the file in the source code download, I&rsquo;ve named the example file [tmux.conf] ,
without the leading period. The headers above the code listing
reference that file.</p>
<h2 id="chapter-1-learning-the-basics">Chapter 1 Learning the Basics</h2>
<ul>
<li>incredible productivity booster</li>
<li>manage applications within sessions, windows, and panes.</li>
</ul>
<h3 id="installing-tmux">Installing tmux</h3>
<p>You can install tmux in one of two ways: using a package manager for
your operating system, or building tmux from source.</p>
<ul>
<li>you install tmux version 2.2 or higher.</li>
</ul>
<p>View tmux version:
<code>tmux -V</code></p>
<h3 id="installing-on-linux">Installing on Linux</h3>
<p><code>sudo dnf install tmux</code></p>
<h3 id="starting-tmux">Starting tmux</h3>
<p>Start tmux:
<code>​tmux</code>​</p>
<p>from a terminal window. You&rsquo;ll see something that looks like the
following image appear on your screen.</p>
<p><a href="#R-image-1e2d235a445f689415a4e4aec23fc6ea" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="Pasted%20image%2020240403103153.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1e2d235a445f689415a4e4aec23fc6ea"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="Pasted%20image%2020240403103153.png"></a></p>
<p>This is a tmux &ldquo;session,&rdquo; and it works just like your normal terminal session.</p>
<p>You can issue any terminal command you&rsquo;d like, and everything will work as expected.</p>
<p>To close the tmux session:
<code>exit</code>​</p>
<p>You can instead create &ldquo;named sessions&rdquo; that you can then identify and work with later.</p>
<h3 id="creating-named-sessions">Creating Named Sessions</h3>
<p>You can have multiple sessions on a single computer, and you&rsquo;ll want to be able to keep them organized. For example, you might have</p>
<ul>
<li>one session for each application you&rsquo;re developing, or a</li>
<li>session for work and a</li>
<li>session for your cool side project. You can</li>
<li>keep these sessions organized by giving each session you create its own unique name.</li>
</ul>
<p>Create a named session called &ldquo;basic&rdquo;:
<code>tmux​​ new-session -s ​​basic</code>​</p>
<p>Shortened version:
<code>tmux new -s basic​</code></p>
<p>Named sessions come in handy when you want to leave tmux running in the background</p>
<h3 id="the-command-prefix">The Command Prefix</h3>
<ul>
<li>use a command prefix to tell tmux that the command we&rsquo;re typing is for tmux and not for the underlying application.</li>
<li><code>Ctrl-b</code> is the default command prefix.</li>
<li>Prefix tmux commands with the command prefix</li>
<li>Hit the prefix keys, release, then press the command key.</li>
</ul>
<p>Open the tmux clock: (press enter to dismiss the clock)
<code>prefix-t</code></p>
<p><a href="#R-image-94e4aee1e7a3c9233ec84825f518c63e" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="Pasted%20image%2020240403135641.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-94e4aee1e7a3c9233ec84825f518c63e"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="Pasted%20image%2020240403135641.png"></a></p>
<p>Detach from a session:
<code>Prefix-d</code></p>
<ul>
<li>you can remap the prefix to an easier combination</li>
</ul>
<h3 id="detaching-and-attaching-sessions">Detaching and Attaching Sessions</h3>
<ul>
<li>you can run programs then detach and the programs will run in the background.</li>
<li>when you detach from a tmux session, you&rsquo;re not actually closing tmux.</li>
<li>You can then &ldquo;attach&rdquo; to the session and pick up where you left off.</li>
</ul>
<p>Within a tmux session, start top:
<code>top</code>​</p>
<p><a href="#R-image-e055d05db391a505591ac8b402daf03d" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="Pasted%20image%2020240403141320.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e055d05db391a505591ac8b402daf03d"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="Pasted%20image%2020240403141320.png"></a></p>
<p>Detach from the tmux session:
<code>prefix-d</code></p>
<p>Close your terminal window.</p>
<h4 id="reattaching-to-existing-sessions">Reattaching to Existing Sessions</h4>
<p>Open a terminal window.</p>
<p>List existing tmux sessions:
<code>tmux list-sessions</code>​</p>
<p>Shortened version of above:
<code>tmux​​ ​​ls</code>​</p>
<p>Attach to the session:
<code>tmux attach</code>​</p>
<p>Detach from the session again (prefix-d) and create a new session in the background:</p>
<p><code>tmux​​ ​​new ​​-s​​ ​​second_session​​ ​​-d</code></p>
<p>List sections again and you will see both:
<code>tmux ​​ls</code></p>
<p>Attach to a specific section (-t)
<code>tmux ​​attach ​​-t ​​second_session</code></p>
<ul>
<li>you can detach then attach the other session this way. Or switch between sessions using a faster way described later.</li>
</ul>
<h3 id="killing-sessions">Killing Sessions</h3>
<ul>
<li>type exit or use the kill-session command</li>
</ul>
<p><code>tmux ​​kill-session​ ​​-t ​​basic​ ​​</code>kill-session​​ -t​​ ​second_session​`</p>
<h3 id="working-with-windows">Working with Windows</h3>
<ul>
<li>run multiple, simultaneous commands within a tmux session.</li>
<li>keep these organized with windows</li>
<li>Can create many windows and they will persist when session is detached</li>
</ul>
<p>Create a new session that has two windows. one with a normal prompt and the other with top.</p>
<p>Create a named session called &ldquo;windows,&rdquo; like this: (-n names the first window)</p>
<p><code>tmux ​​new ​​-s ​​windows ​​-n ​​shell</code></p>
<p>Add a window to this session.</p>
<h3 id="creating-and-naming-windows">Creating and Naming Windows</h3>
<p>Create a window in a current session:
<code>Prefix</code> <code>c</code></p>
<p>Creating a window like this automatically brings the new window into focus. From here, you
can start up another application. Let&rsquo;s</p>
<p>start top in this new window:
<code>top</code></p>
<ul>
<li>second window now appears to have the name &ldquo;top.&rdquo;</li>
<li>window name defaults to program running if a name wasn&rsquo;t specified.</li>
</ul>
<p>To rename a window, press <code>Prefix</code> <code>,</code>, type the name and press enter. Rename the window to &ldquo;Processes.&rdquo;</p>
<h4 id="moving-between-windows">Moving Between Windows</h4>
<ul>
<li>
<p><code>Prefix</code> <code>n</code> (next window) cycles through the windows you have open.</p>
</li>
<li>
<p><code>Prefix</code> <code>p</code> (previous) go to the previous window.</p>
</li>
<li>
<p>Window numbers start at 0 by default (You can change this)</p>
</li>
<li>
<p><code>Prefix</code> <code>0</code> Jump to a specific window. &lsquo;0&rsquo; in this case</p>
</li>
<li>
<p><code>Prefix</code> <code>w</code> display a visual menu of windows to select one.</p>
</li>
<li>
<p><code>Prefix</code> <code>f</code> find a window that contains a string of text.</p>
</li>
<li>
<p>close a window with exit or <code>Prefix</code> <code>&amp;</code> (previous windows becomes active)</p>
</li>
<li>
<p>close all the windows in the session to completely kill the session.</p>
</li>
</ul>
<h3 id="working-with-panes">Working with Panes</h3>
<ul>
<li>divide a single session into panes.</li>
</ul>
<p>Create a new tmux session called &ldquo;panes&rdquo;:
​​<code>tmux​​ ​​new​​ ​​-s​ ​​panes</code>​</p>
<ul>
<li>
<p>can split windows vertically or horizontally.</p>
</li>
<li>
<p><code>Prefix</code> <code>%</code> window will divide down the middle and start up a second terminal session in the new pane.</p>
</li>
<li>
<p>the focus will move to this new pane</p>
</li>
<li>
<p><code>Prefix</code> <code>&quot;</code> split this new pane in half horizontally.</p>
</li>
<li>
<p>By default, new panes split the existing pane in half evenly.</p>
</li>
<li>
<p><code>Prefix</code> <code>o</code> Cycle through panes.</p>
</li>
<li>
<p><code>Prefix</code> <code>Up</code> <code>down</code> <code>left</code> or <code>right</code> Move around panes using arrow keys</p>
</li>
</ul>
<p>Split the window in half vertically first, and then horizontally, creating one large pane on the left and two smaller panes on the right:
<code>Prefix</code> <code>%</code> <code>Prefix</code> <code>&quot;</code></p>
<p><a href="#R-image-785b8586023e7527b2a199be5d5ab4aa" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="Pasted%20image%2020240403150606.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-785b8586023e7527b2a199be5d5ab4aa"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="Pasted%20image%2020240403150606.png"></a></p>
<h3 id="pane-layouts">Pane Layouts</h3>
<ul>
<li>resize a pane using incremental resizing or templates.</li>
<li>Resizing panes incrementally using the default keybindings is quite awkward.</li>
<li>Later we&rsquo;ll define some shortcuts to make resizing panes easier.</li>
</ul>
<p>For now, we&rsquo;ll use one of tmux&rsquo;s several default pane layouts:</p>
<p>even-horizontal</p>
<ul>
<li>stacks all panes horizontally, left to right.</li>
</ul>
<p>even-vertical</p>
<ul>
<li>stacks all panes vertically, top to bottom.</li>
</ul>
<p>main-horizontal</p>
<ul>
<li>creates one larger pane on the top and smaller panes underneath.</li>
</ul>
<p>main-vertical</p>
<ul>
<li>creates one large pane on the left side of the screen, and stacks the rest of the panes vertically on the right.</li>
</ul>
<p>tiled a
- arranges all panes evenly on the screen.</p>
<p><code>Prefix</code> <code>Spacebar</code> cycle through the layouts</p>
<h3 id="closing-panes">Closing Panes</h3>
<ul>
<li>Type exit while in a pane to close it</li>
<li><code>Prefix</code> <code>x</code> Kill a pane and closes the window if there&rsquo;s only one pane in that window.</li>
</ul>
<h3 id="working-with-command-mode">Working with Command Mode</h3>
<p>execute tmux commands two ways:
from the terminal itself
from the command area in the tmux status line.</p>
<p>tmux&rsquo;s Command mode</p>
<p><code>Prefix</code> <code>:</code> enter command mode from within a running tmux
session.</p>
<p>Create a new window with the name &ldquo;console&rdquo; while in command mode:
<code>new-window -n console</code></p>
<p>launch a new window named &ldquo;processes&rdquo; that starts top while in command mode:
<code>new-window -n processes &quot;top&quot;</code></p>
<ul>
<li>
<p>if you exit the top by pressing <code>q</code> the tmux window you
created will also close.</p>
</li>
<li>
<p>You can use configuration settings to get around this</p>
</li>
<li>
<p>if you want the window to persist,  create it without specifying an initial command, and then execute your  command in the new window.</p>
</li>
<li>
<p>You can use Command mode to create new windows, new panes, or new sessions, or even set other environmental options.</p>
</li>
</ul>
<h3 id="whats-next">What&rsquo;s Next?</h3>
<p><code>Prefix</code> <code>?</code> get a list of predefined tmux keybindings and  associated commands.</p>
<ul>
<li>think about how you can create different environments for your work. If you&rsquo;re monitoring servers, you could use tmux panes to create a dashboard that shows your various monitoring scripts and log files.</li>
</ul>
<h2 id="for-future-reference">For Future Reference</h2>
<h3 id="creating-sessions">Creating Sessions</h3>
<p>Command                                        Description</p>
<hr>
<p>tmux new-session
Creates a new session without a name. Can be shortened to tmux new or simply tmux
tmux new -s development         <br>
Creates a new session called &ldquo;development.&rdquo;
tmux new -s development -n editor<br>
Creates a session named &ldquo;development&rdquo; and names the first window &ldquo;editor.&rdquo;
tmux attach -t development    <br>
Attaches to a session named &ldquo;development.&rdquo;</p>
<h3 id="default-commands-for-sessions-windows-and-panes">Default Commands for Sessions, Windows, and Panes</h3>
<p>Command                                                                                                                                                              Description</p>
<hr>
<p><code>Prefix</code>  <code>d</code> Detaches from the session, leaving the session running in the background.
<code>Prefix</code>  <code>:</code> Enters Command mode.
<code>Prefix</code>  <code>c</code> Creates a new window from within an existing tmux session. Shortcut for [new-window].
<code>Prefix</code>  <code>n</code> Moves to the next window.
<code>Prefix</code>  <code>p</code> Moves to the previous window.
<code>Prefix</code>  <code>0</code> &hellip;<code>9</code>   Selects windows by number.
<code>Prefix</code>  <code>w</code> Displays a selectable list of windows in the current session.
<code>Prefix</code>  <code>f</code> Searches for a window that contains the text you specify. Displays a selectable list of windows containing that text in the current session.
<code>Prefix</code>  <code>,</code>  Displays a prompt to rename a window.
<code>Prefix</code>  <code>&amp;</code>  Closes the current window after prompting for confirmation.
<code>Prefix</code>  <code>%</code> Divides the current window in half vertically.
<code>Prefix</code>  <code>&quot;</code> Divides the current window in half horizontally.
<code>Prefix</code>  <code>o</code> Cycles through open panes.
<code>Prefix</code>  <code>q</code> Momentarily displays pane numbers in each pane.
<code>Prefix</code>  <code>x</code>  Closes the current pane after prompting for confirmation.
<code>Prefix</code>  <code>Space</code> Cycles through the various pane layouts.</p>
<h3 id="chapter-2-configuring-tmux">Chapter 2 Configuring tmux</h3>
<ul>
<li>build a basic configuration file for your environment</li>
<li>customizing how you navigate around the screen and how you create and resize panes,</li>
<li>and more advanced settings.</li>
<li>learn how to make sure your terminal is properly configured so that some of the settings you&rsquo;ll make to tmux&rsquo;s appearance look good on your screen.</li>
</ul>
<h2 id="tmuxconf">.tmux.conf</h2>
<ul>
<li>tmux looks for configuration settings in two places.
<ul>
<li>/etc/tmux.conf for a system-wide configuration. It</li>
<li>then ~/.tmux.conf (current user&rsquo;s home directory).</li>
<li>If these files don&rsquo;t exist, tmux uses its default settings.</li>
</ul>
</li>
</ul>
<p><code>touch​​ ​​~/.tmux.conf​</code></p>
<ul>
<li>define new key shortcuts to</li>
<li>setting up a default environment with multiple windows, panes, and running programs.</li>
</ul>
<h3 id="defining-an-easier-prefix">Defining an Easier Prefix</h3>
<ul>
<li><code>Ctrl</code> -<code>a</code>  is an excellent choice for a prefix because it&rsquo;s easier to trigger, especially if you remap your computer&rsquo;s <code>Caps Lock</code>  key to <code>Ctrl</code></li>
<li>This keeps your hands on the home row of your keyboard.</li>
</ul>
<p>Remapping the Caps Lock Key</p>
<ul>
<li>
<p>Can do this in the keyboard section of gnome-tweaks. Or Google it fool!</p>
</li>
<li>
<p><code>set-option</code> Set options in the .tmux.conf  file,</p>
</li>
<li>
<p><code>set</code> Same as above but shortened.</p>
</li>
</ul>
<p>You define the tmux prefix by adding this to the .tmux.conf file:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code># Setting the prefix from C-b to C-a
set -g prefix C-a</code></pre></div><p>-g (global) sets the option for all tmux sessions we create.</p>
<p>unbind-key, or unbind command, to remove a defined keybinding for later use</p>
<p>Free up ctrl-b by unbinding it in the configuration file:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>​# Free the original Ctrl-b prefix keybinding
unbind C-b</code></pre></div><p>Must restart tmux for changes to take effect or enter command mode in tmux and run the source-file command:
<code>source-file ~/.tmux.conf</code></p>
<h3 id="changing-the-default-delay">Changing the Default Delay</h3>
<ul>
<li>tmux adds a very small delay when sending commands, and this delay can interfere with other programs such as the Vim text editor.</li>
<li>Set this delay so it&rsquo;s much more responsive by adding this line to your configuration file:</li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0"><code>#setting the delay between prefix and command*​
set -s escape-time 1</code></pre></div><h3 id="setting-the-window-and-panes-index">Setting the Window and Panes Index</h3>
<p>Set window index numbers to start at 1 instead of 0:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code># Set the base index for windows to 1 instead of 0
set -g base-index 1</code></pre></div><p><code>set-window-option</code> or <code>setw</code></p>
<ul>
<li>configure options that affect how you interact with windows</li>
</ul>
<p><code>pane-base-index</code> Set the starting index number for panes:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code># Set the base index for panes to 1 instead of 0*​
setw -g pane-base-index 1</code></pre></div><h3 id="customizing-keys-commands-and-user-input">Customizing Keys, Commands, and User Input</h3>
<h3 id="creating-a-shortcut-to-reload-the-configuration">Creating a Shortcut to Reload the Configuration</h3>
<p>create a custom keybinding to reload the
configuration file.</p>
<p><code>bind</code></p>
<ul>
<li>Defines a new keybinding. Specify the key you want to use, followed by the command you want to perform.</li>
</ul>
<p>Set <code>Prefix</code> <code>r</code>  so it reloads <code>.tmux.conf</code> (Add too config file):</p>
<div class="highlight wrap-code"><pre tabindex="0"><code># Remap reloading of config file to prefix + r
bind r source-file ~/.tmux.conf</code></pre></div><p>Reload the config file in command mode with the with <code>Prefix</code> <code>:</code> and type <code>source-file \~/.tmux.conf</code></p>
<p>Then you can use <code>Prefix</code>  <code>r</code> to reload the config file.</p>
<p><code>display</code></p>
<ul>
<li>put a message in the status line.
<code>\;</code></li>
<li>Combine a series of commands</li>
</ul>
<p>Modify your reload command to display the text &ldquo;Reloaded!&rdquo; when the configuration file loads:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code># Reload the file with Prefix r
bind r source-file ~/.tmux.conf \; display &#34;Reloaded!&#34;</code></pre></div><h4 id="defining-keybindings-that-dont-require-a-prefix">Defining Keybindings That Don&rsquo;t Require a Prefix</h4>
<p>bind -n</p>
<ul>
<li>tells tmux that the keybinding doesn&rsquo;t require pressing the prefix.</li>
<li>Use this with care. This will mess up this key combo for any application running within a tmux session.</li>
</ul>
<p>Make <code>ctrl</code>-<code>r</code> reload the tmux session: (Comment out the previous bind for <code>source-file</code> this to work)</p>
<div class="highlight wrap-code"><pre tabindex="0"><code># Make is so ctrl+r reloads tmux instead of having to press prefix first
bind-key -n C-r source-file ~/.tmux.conf</code></pre></div><p>With this keybinding in place, you can make additional changes to the
configuration file and then immediately activate them by pressing
<code>Prefix</code>  <code>r</code>
.</p>
<h3 id="sending-the-prefix-to-other-applications">Sending the Prefix to Other Applications</h3>
<p><code>send-prefix</code></p>
<ul>
<li>Send tmux bound prefix keys to another app.</li>
</ul>
<p>Make it so you can use ctrl-a in other apps like vim: (Then you would just press ctrl-a twice)</p>
<div class="highlight wrap-code"><pre tabindex="0"><code># Ensure that we can send Ctrl-A to other apps
bind C-a send-prefix</code></pre></div><h3 id="splitting-panes">Splitting Panes</h3>
<p>set the horizontal split to <code>Prefix</code> <code>|</code> and the vertical split to <code>Prefix</code> <code>-</code>:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code># splitting panes with | and -
bind | split-window -h
bind - split-window -v</code></pre></div><p>At first glance, this may look backwards. The [-v] and [-h]
.ic} flags on [split-window] stand for &ldquo;vertical&rdquo; and
&ldquo;horizontal&rdquo; splits, but to tmux, a vertical split means creating a new
pane below the existing pane so the panes are stacked vertically on top
of each other. A horizontal split means creating a new pane
[next]{.emph} to the existing one so the panes are stacked horizontally
across the screen. So, in order to divide the window vertically, we use
a &ldquo;horizontal&rdquo; split, and to divide it horizontally, we use a &ldquo;vertical&rdquo;
split.</p>
<p>These new shortcuts give us a nice visual association. If we want our
windows split, we simply press the key that looks like the split we want
to create.</p>
<h3 id="remapping-movement-keys">Remapping Movement Keys</h3>
<p>Moving from pane to pane with <code>Prefix</code>
<code>o</code>  is cumbersome, and
using the arrow keys means you have to take your fingers off the home
row. If you use the Vim text editor, you&rsquo;re probably familiar with its
use of <code>h</code> , <code>j</code> , <code>k</code> ,
and <code>l</code>  for movement keys. You can remap the movement
keys in tmux to these same keys.</p>
<hr>
<p>​[ ]   ​*# moving between panes with Prefix h,j,k,l*​
​[ ]   bind h ​select​-pane -L
​[ ]   bind j ​select​-pane -D
​[ ]   bind k ​select​-pane -U
​[ ]   bind l ​select​-pane -R</p>
<hr>
<p>In addition, you can use <code>Prefix</code>
<code>Ctrl</code>
-<code>h</code>  and <code>Prefix</code>
.keystroke  <code>Ctrl</code>
-<code>l</code>  to cycle through
the windows by binding those keystrokes to the respective commands:</p>
<hr>
<p>​[ ]   ​*# Quick window selection*​
​[ ]   bind -r C-h ​select​-window -t :-
​[ ]   bind -r C-l ​select​-window -t :+</p>
<hr>
<p>Provided you&rsquo;ve mapped your <code>Caps Lock</code>
key to the <code>Ctrl</code>
key, you can now move between panes
without moving your hands off the home row.</p>
<h3 id="sec.Resizing.Panes">Resizing Panes</h3>
<p>To resize a pane, you can enter Command mode and type [resize-pane
-D] to resize a pane downward one row at a time. You can
increase the resizing increment by passing a number after the direction,
such as [resize-pane -D 5]. The command itself is pretty
verbose, but you can make some keybindings to make resizing panes
easier.</p>
<p>Let&rsquo;s use a variation of the Vim movement keys to resize windows. We&rsquo;ll
use <code>Prefix</code>  <code>H</code>
.keystroke , <code>Prefix</code>
<code>J</code>
, <code>Prefix</code>
<code>K</code>
, and <code>Prefix</code>
<code>L</code>
to change the size of the panes. Add
these lines to your configuration file:</p>
<hr>
<p>​[ ]   bind H resize-pane -L 5
​[ ]   bind J resize-pane -D 5
​[ ]   bind K resize-pane -U 5
​[ ]   bind L resize-pane -R 5</p>
<hr>
<p>Notice that we&rsquo;re using uppercase letters in the configuration file.
tmux allows both lowercase and uppercase letters for keystrokes. You&rsquo;ll
need to use the <code>Shift</code>
key to trigger the uppercase keystroke.</p>
<p>Using these movement keys will help us keep track of which way we want
the window size to change. For example, if we have a window divided into
two panes stacked vertically, like this</p>
<hr>
<p>​[ ]   -------------------
​[ ]   | |
​[ ]   | Pane 1 |
​[ ]   | |
​[ ]   -------------------
​[ ]   | |
​[ ]   | Pane 2 |
​[ ]   | |
​[ ]   -------------------</p>
<hr>
<p>and we want to increase the size of Pane 1, then we&rsquo;d place our cursor
inside Pane 1 and then press <code>Prefix</code>
<code>J</code>
, which moves the horizontal divider
[downward]{.emph}. If we pressed <code>Prefix</code>
<code>K</code>
, we would move the horizontal divider
up.</p>
<p>With the configuration we just used, you have to use the <code>Prefix</code>
.keystroke  each time you want to resize
the pane. But if you use the [-r] flag with the [bind]
command, you can specify that you want the key to be
[repeatable]{.emph}, meaning you can press the prefix key only once and
then continuously press the defined key within a given window of time,
called the repeat limit.</p>
<p>Redefine the window resizing commands by adding the [-r]
option:</p>
<hr>
<p>​[ ]   ​*# Pane resizing panes with Prefix H,J,K,L*​
​[ ]   bind -r H resize-pane -L 5
​[ ]   bind -r J resize-pane -D 5
​[ ]   bind -r K resize-pane -U 5
​[ ]   bind -r L resize-pane -R 5</p>
<hr>
<p>Now you can resize the panes by pressing <code>Prefix</code>
<code>J</code>
once, and then press <code>J</code>
until the window is the size you want.
The default repeat limit is 500 milliseconds, and can be changed by
setting the [repeat-time] option to a higher value.</p>
<p>Now let&rsquo;s turn our attention to how tmux can work with the mouse.</p>
<h3 id="sec.Supporting.the.Mouse">Handling the Mouse</h3>
<p>While tmux is meant to be completely keyboard-driven, there are times
when you may find it easier to use the mouse. If your terminal is set up
to forward mouse clicks and movement through to programs in the
terminal, then you can tell tmux how to handle certain mouse events.</p>
<p>Sometimes it&rsquo;s nice to be able to scroll up through the terminal buffer
with the mouse wheel, or to select windows and panes, especially when
you&rsquo;re just getting started with tmux. To configure tmux so we can use
the mouse, we need to enable mouse mode.</p>
<hr>
<p>​[ ]   set -g mouse on</p>
<hr>
<p>This setting configures tmux so it will let us use the mouse to select a
pane or resize a pane, let us click the window list to select a window,
or even let us use the mouse to scroll backwards through the buffer if
your terminal supports it.</p>
<p>This can be a handy addition to your configuration, but remember that
using the mouse with tmux will slow you down. Even though being able to
scroll and click might seem like a neat idea, you should learn the
keyboard equivalents for switching panes and moving forward and backward
through the buffers. So, for our configuration file, we&rsquo;re going to
disable the mouse.</p>
<p>::: livecodelozenge
<a href="http://media.pragprog.com/titles/bhtmux2/code/config/tmux.conf" rel="external" target="_blank">config/tmux.conf</a>
:::</p>
<hr>
<p>​[ ]   ​*# mouse support - set to on if you want to use the mouse*​
​[ ]   set -g mouse off</p>
<hr>
<p>Setting this option prevents us from accidentally doing things when we
select the terminal window with our mouse, and it forces us to get more
comfortable with the keyboard.</p>
<p>The flexible configuration system tmux provides lets you customize the
way you interact with the interface, but you can also configure its
appearance to make its interface easier to see, and in some cases, more
informative.</p>
<p>[]{#part0026.xhtml}</p>
<h2 id="sec.Visual.Styling">Visual Styling</h2>
<p>tmux provides quite a few ways to customize your environment&rsquo;s
appearance. In this section, we&rsquo;ll walk through configuring some of
these options, as we customize the status line and other components.
We&rsquo;ll start by configuring the colors for various elements, then we&rsquo;ll
turn our bland status line into something that will provide us with some
vital information about our environment.</p>
<h3 id="sec.Configuring.Colors">Configuring Colors</h3>
<p>To get the best visual experience out of tmux, make sure that both your
terminal and tmux are configured for 256 colors.</p>
<p>Using the [tput] command, you can quickly determine the number
of colors supported by your terminal session. Enter the command</p>
<hr>
<p>​[ ]   ​[$ ]​​tput​​ ​​colors​
​[ ]   256</p>
<hr>
<p>into your terminal. If you don&rsquo;t see [256] as the result,
you&rsquo;ll need to do a little configuration.</p>
<p>You may need to configure your terminal to use [xterm]&rsquo;s 256
mode. On the Mac, you can configure this in the Terminal app by editing
the profile as shown in the following figure:</p>
<p>::: ss
<a href="#R-image-4774f4b2b3b5dbfdeb230480472645c0" class="lightbox-link"><img alt="images/config/iterm2.png" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/image00120.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4774f4b2b3b5dbfdeb230480472645c0"><img alt="images/config/iterm2.png" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/image00120.jpeg"></a>{#d24e2463
style=&ldquo;width: 90%&rdquo;}
:::</p>
<p>If you&rsquo;re using
iTerm2,^<a href="/tools/tmuxbook/#part0029.xhtml#FOOTNOTE-5">[5]</a>{#part0026.xhtml#FNPTR-5
.footnote}^ you can find this by editing the default profile and
changing the terminal mode to [xterm-256color], as shown in the
following figure:</p>
<p>::: ss
<a href="#R-image-ff9affda9a8b82f7b46b9a30e00bdea5" class="lightbox-link"><img alt="images/config/iterm2.png" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/image00120.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ff9affda9a8b82f7b46b9a30e00bdea5"><img alt="images/config/iterm2.png" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/image00120.jpeg"></a>{#d24e2474
style=&ldquo;width: 90%&rdquo;}
:::</p>
<p>If you&rsquo;re using Linux, you might need to add</p>
<hr>
<p>​[ ]   [ -z ​*&quot;<em>​$TMUX​</em>&quot;*​ ] &amp;&amp; export TERM=xterm-256color</p>
<hr>
<p>to your [.bashrc]  file to enable a 256-color terminal.
This conditional statement ensures that the [TERM] variable is
only set outside of tmux, since tmux sets its own terminal.</p>
<p>Also, ensure that your terminal emulator supports displaying UTF-8
characters so that visual elements such as the pane dividers appear as
dashed lines.</p>
<p>To make tmux display things in 256 colors, add this line to our
[.tmux.conf]  file:</p>
<p>::: livecodelozenge
<a href="http://media.pragprog.com/titles/bhtmux2/code/config/tmux.conf" rel="external" target="_blank">config/tmux.conf</a>
:::</p>
<hr>
<p>​[ ]   ​*# Set the default terminal mode to 256color mode<em>​
​[ ]   set -g default-terminal ​</em>&quot;screen-256color&quot;*​</p>
<hr>
<p>Once the right color mode is set, you&rsquo;ll find it much easier to use
programs such as Vim, Emacs, and other full-color programs from within
tmux, especially when you are using more complex color schemes for
syntax highlighting. Just take a look at this figure to see the
difference.</p>
<p>::: ss
<a href="#R-image-69f20de48e477176adaf86ef7ef4ac6a" class="lightbox-link"><img alt="images/config/16vs256.png" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/image00121.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-69f20de48e477176adaf86ef7ef4ac6a"><img alt="images/config/16vs256.png" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/image00121.jpeg"></a>{#d24e2514}
:::</p>
<p>Now let&rsquo;s configure the appearance of tmux&rsquo;s components, starting with
colors.</p>
<h3 id="changing-colors">Changing Colors</h3>
<p>You can change the colors of several parts of the tmux interface,
including the status line, window list, message area, and even the pane
borders.</p>
<p>tmux provides variables you can use to specify colors, including
[black] .variable}, [red] .variable}, [green] .variable},
[yellow] .variable}, [blue] .variable}, [magenta]
.variable}, [cyan] .variable}, or [white] .variable}. You can
also use [colour0] .variable} to [colour255] .variable} to
reference more specific colors on the 256 color palette.</p>
<p>To find the numbers for those colors, you can run this simple shell
script to get the color variable you&rsquo;d like to
use:^<a href="/tools/tmuxbook/#part0029.xhtml#FOOTNOTE-6">[6]</a>{#part0026.xhtml#FNPTR-6
.footnote}^</p>
<hr>
<p>​[ ]   ​for ​i ​in​ {0..255} ; ​do​
​[ ]   ​​printf ​*&quot;<em>​​</em>\x<em>​​</em>1b[38;5;<em>​​${​i​}​​</em>m*​​${​i​}​​ *&quot;*​
​[ ]   ​done​</p>
<hr>
<p>When you execute this command, you&rsquo;ll see the following output in your
terminal, displaying the colors:</p>
<p>::: ss
<a href="#R-image-a9f177cf5d6de792c3d2ae069a400289" class="lightbox-link"><img alt="images/config/colors.png" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/image00122.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a9f177cf5d6de792c3d2ae069a400289"><img alt="images/config/colors.png" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/image00122.jpeg"></a>{#d24e2605
style=&ldquo;width: 65%&rdquo;}
:::</p>
<p>tmux has specific configuration options to change foreground and
background colors for each of its components. Let&rsquo;s start exploring
these by customizing the colors of the status line.</p>
<h4 id="changing-the-status-line-colors">Changing the Status Line Colors</h4>
<p>The default status line has black text on a bright green background.
It&rsquo;s pretty bland, and depending on your terminal configuration, it can
be hard to read. Let&rsquo;s make it have white text on a black background by
default, so it looks like this:</p>
<p>::: ss
<a href="#R-image-02e1289123c8e53e603cab6df34678de" class="lightbox-link"><img alt="images/config/statusline1.png" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/image00123.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-02e1289123c8e53e603cab6df34678de"><img alt="images/config/statusline1.png" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/image00123.jpeg"></a>{#d24e2613}
:::</p>
<p>The [status-style] option sets the foreground and background
colors of the status line, as well as the style. Add the following line
to your configuration to set the status line colors:</p>
<p>::: livecodelozenge
<a href="http://media.pragprog.com/titles/bhtmux2/code/config/tmux.conf" rel="external" target="_blank">config/tmux.conf</a>
:::</p>
<hr>
<p>​[ ]   ​*# set the status line's colors*​
​[ ]   set -g status-style fg=white,bg=black</p>
<hr>
<p>You can set the foreground color and the background color, and you can
control the appearance of the text, depending on whether or not your
terminal supports it. As you can probably guess, the [fg]
option sets the foreground color, and the [bg] option sets the
background color.</p>
<p>This command supports the options [dim], [bright] (or
[bold]), [reverse], and [blink] in addition
to colors. For example, to make the status line&rsquo;s text white and bold,
you&rsquo;d use the following configuration:</p>
<hr>
<p>​[ ]   set -g status-style fg=white,bold,bg=black</p>
<hr>
<p>You can also customize the colors of the items within the status line.
Let&rsquo;s start by customizing the window list.</p>
<h4 id="changing-the-window-list-colors">Changing the Window List Colors</h4>
<p>tmux displays a list of windows in the status line. Let&rsquo;s make it more
apparent which window is active by styling the active window red and the
inactive windows cyan. The option [window-status-style]
controls how regular windows look, and the
[window-status-current-style] option controls how the active
window looks. To configure the colors, you use the same syntax you used
for the [status-style] option.</p>
<p>Let&rsquo;s make the names of the windows cyan, like this:</p>
<p>::: ss
<a href="#R-image-679a67ddbde91ba3e82f446d8e0c3b13" class="lightbox-link"><img alt="images/config/statusline2.png" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/image00124.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-679a67ddbde91ba3e82f446d8e0c3b13"><img alt="images/config/statusline2.png" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/image00124.jpeg"></a>{#d24e2674}
:::</p>
<p>Add this to your configuration file:</p>
<p>::: livecodelozenge
<a href="http://media.pragprog.com/titles/bhtmux2/code/config/tmux.conf" rel="external" target="_blank">config/tmux.conf</a>
:::</p>
<hr>
<p>​[ ]   ​*# set the color of the window list*​
​[ ]   setw -g window-status-style fg=cyan,bg=black</p>
<hr>
<p>You can use [default] for a value so it inherits from the color
of the status line.</p>
<p>To style the active window with a red background and bold white text,
add this to your configuration:</p>
<hr>
<p>​[ ]   ​*# set colors for the active window*​
​[ ]   setw -g window-status-current-style fg=white,bold,bg=red</p>
<hr>
<p>Now inactive windows are cyan, and the active window is easily
identifiable:</p>
<p>::: ss
<a href="#R-image-a47c2d1c62961e345cea0ee4a8289294" class="lightbox-link"><img alt="images/config/statusline3.png" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/image00125.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a47c2d1c62961e345cea0ee4a8289294"><img alt="images/config/statusline3.png" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/image00125.jpeg"></a>{#d24e2701}
:::</p>
<p>This takes care of the window list. Let&rsquo;s look at how we can customize
how panes within a window appear.</p>
<h4 id="sec.Changing.Pane.styles">Changing the Appearance of Panes</h4>
<p>We have a few options to control how panes look. We can control the
color of the pane dividers, we can define colors to make the active pane
more apparent, and we can even &ldquo;dim out&rdquo; the inactive panes.</p>
<p>Panes have both foreground and background colors. The foreground color
of a pane is the actual dashed line that makes up the border. The
background color, by default, is black, but if we color it when the pane
is active, we can make the active pane extremely noticeable, as shown in
the following figure:</p>
<p>::: ss
<a href="#R-image-136b71e9fb6b68032a26374bc40646e9" class="lightbox-link"><img alt="images/config/activepane.png" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/image00126.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-136b71e9fb6b68032a26374bc40646e9"><img alt="images/config/activepane.png" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/image00126.jpeg"></a>{#d24e2713}
:::</p>
<p>Add this to your configuration file to add this effect to your
environment:</p>
<p>::: livecodelozenge
<a href="http://media.pragprog.com/titles/bhtmux2/code/config/tmux.conf" rel="external" target="_blank">config/tmux.conf</a>
:::</p>
<hr>
<p>​[ ]   ​*# colors for pane borders*​
​[ ]   setw -g pane-border-style fg=green,bg=black
​[ ]   setw -g pane-active-border-style fg=white,bg=yellow</p>
<hr>
<p>Finally, you may want to be able to more easily determine what the
active pane is by changing the color of the foreground or background of
the current pane. Or, you might want to fade out panes that are not in
use. The [set-window-style] and [set-window-active-style]
.ic} options let you control the foreground and background colors,
although you have to specify both the foreground and background colors
as part of the value you set for the option.</p>
<p>Let&rsquo;s dim out any pane that&rsquo;s not active. We&rsquo;ll achieve this by actually
dimming all of the panes, and then making the active pane look normal.
Add these lines to your configuration:</p>
<hr>
<p>​[ ]   ​*# active pane normal, other shaded out*​
​[ ]   setw -g window-style fg=colour240,bg=colour235
​[ ]   setw -g window-active-style fg=white,bg=black</p>
<hr>
<p>To create the dimming effect, we set the foreground text color to a
lighter grey, and then use a darker grey for the background color. Then
for the active window, we use black and white.</p>
<p>With this change and the active pane borders, it should be pretty clear
which pane is active. Now let&rsquo;s touch up the area of tmux where we issue
commands.</p>
<h4 id="sec.Customizing.the.Command.Line">Customizing the tmux Command Line</h4>
<p>We can also customize the command line, where we enter tmux commands and
see alert messages. The approach is almost identical to the way we
styled the status line itself. Let&rsquo;s change the background color to
black and the text color to white. We&rsquo;ll use a bright white so the
message stands out in more detail. Add this to your configuration:</p>
<p>::: livecodelozenge
<a href="http://media.pragprog.com/titles/bhtmux2/code/config/tmux.conf" rel="external" target="_blank">config/tmux.conf</a>
:::</p>
<hr>
<p>​[ ]   ​*# Command / message line*​
​[ ]   set -g message-style fg=white,bold,bg=black</p>
<hr>
<p>That was easy. Now let&rsquo;s change the areas of the status line on both
sides of the window list.</p>
<p>[]{#part0027.xhtml}</p>
<h2 id="sec.Customizing.the.Status.Bar">Customizing the Status Line&rsquo;s Content</h2>
<p>The tmux status line can display nearly any information we want. We can
use some predefined components or create our own by executing shell
commands.</p>
<p>The status line consists of three components: a left panel, the window
list, and a right panel. By default, it looks like this:</p>
<hr>
<p>​[ ]   [development] 0:bash* &quot;example.local&quot; 13:37 31-Oct-16</p>
<hr>
<p>On the left side, we have the name of the tmux session followed by the
list of windows. The list of windows shows the numerical index of the
current window and its name. On the right side, we have the hostname of
our server followed by the date and time. Let&rsquo;s customize the content of
our status line.</p>
<h3 id="sec.Configuring.Status.Bar.Items">Configuring Status Line Items</h3>
<p>You can change the content in the left or right panels of the status bar
using a combination of text and variables. The following table shows the
possible variables we can use in our status line.</p>
<hr>
<p>::: figurecaption
Table 1. Status Line Variables
:::</p>
<p>Variable                      Description</p>
<hr>
<p>[#H]                 Hostname of local host
[#h]                 Hostname of local host without the domain name
[#F]                 Current window flag
[#I]                 Current window index
[#P]                 Current pane index
[#S]                 Current session name
[#T]                 Current window title
[#W]                 Current window name
[##]                A literal #
[#(shell-command)]   First line of the shell command&rsquo;s output
[#[attributes]]    Color or attribute change</p>
<hr>
<p>For example, if you wanted to show just the name of the current tmux
session on the left, you&rsquo;d use the [set-option -g status-left]
option with the [#S] value, like this:</p>
<hr>
<p>​[ ]   set -g status-left ​*&quot;#S&quot;*​</p>
<hr>
<p>But you can also make it stand out more by using an attribute to set the
foreground color, like this:</p>
<hr>
<p>​[ ]   set -g status-left ​*&quot;#[fg=green]#S&quot;*​</p>
<hr>
<p>You can add as many attributes and items to the status line as you want.
To demonstrate, let&rsquo;s alter the left side of the status line so it shows
the session name in green, the current window number in yellow, and the
current pane in cyan. Add this line to your configuration file:</p>
<hr>
<p>​[ ]   set -g status-left ​*&quot;#[fg=green]#S #[fg=yellow]#I #[fg=cyan]#P&quot;*​</p>
<hr>
<p>You can add any arbitrary text into the status line, too. Let&rsquo;s add text
to make the session, window, and pane more noticeable, like this:</p>
<p>::: livecodelozenge
<a href="http://media.pragprog.com/titles/bhtmux2/code/config/tmux.conf" rel="external" target="_blank">config/tmux.conf</a>
:::</p>
<hr>
<p>​[ ]   ​*# Status line left side to show Session:window:pane<em>​
​[ ]   set -g status-left-length 40
​[ ]   set -g status-left ​</em>&quot;#[fg=green]Session: #S #[fg=yellow]#I #[fg=cyan]#P&quot;*​</p>
<hr>
<p>We set the [status-left-length] option because the output we&rsquo;ve
specified is too long for the default length, so we have to make that
region wider.</p>
<p>You can configure the right side of the status line too. Add the current
date and time, like this:</p>
<p>::: livecodelozenge
<a href="http://media.pragprog.com/titles/bhtmux2/code/config/tmux.conf" rel="external" target="_blank">config/tmux.conf</a>
:::</p>
<hr>
<p>​[ ]   ​*# Status line right side - 31-Oct 13:37<em>​
​[ ]   set -g status-right ​</em>&quot;#[fg=cyan]%d %b %R&quot;*​</p>
<hr>
<p>This formats the date as &ldquo;31-Oct 13:37,&rdquo; but you can format it however
you&rsquo;d like, using the standard [strftime] .methodname} time
formatting mechanism used in many programming
languages.^<a href="/tools/tmuxbook/#part0029.xhtml#FOOTNOTE-7">[7]</a>{#part0027.xhtml#FNPTR-7
.footnote}^ Your status line should now look like this:</p>
<p>::: ss
<a href="#R-image-b13401e70387e4fe446dd0cd14acd806" class="lightbox-link"><img alt="images/config/statusline4.png" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/image00127.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b13401e70387e4fe446dd0cd14acd806"><img alt="images/config/statusline4.png" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/image00127.jpeg"></a>{#d24e2944}
:::</p>
<p>You can take things a step further by incorporating shell commands into
the mix by using the [#(shell-command)] variable to return the
result of any external command-line program into the status line. We&rsquo;ll
go into this in detail in <a href="/tools/tmuxbook/#part0053.xhtml#sec.Showing.Battery.Life">​<em>Adding Battery Life to the Status
Line</em>​</a>.</p>
<h3 id="sec.Staying.Up.To.Date">Keeping Status Line Info Up to Date</h3>
<p>We&rsquo;ve added the current time and some other dynamic information to our
status line, but we need to tell tmux how often to refresh that
information periodically. By default, tmux refreshes the status line
every 15 seconds. We can specify exactly how quickly tmux refreshes its
status line with [set-option] [-g status-interval]
followed by the refresh interval in seconds, like this:</p>
<hr>
<p>​[ ]   ​*# Update the status line every sixty seconds*​
​[ ]   set -g status-interval 60</p>
<hr>
<p>This would refresh the status line every 60 seconds. Keep in mind that
if you&rsquo;re firing off shell commands, those will be executed once per
interval, so be careful not to load too many resource-intensive scripts.</p>
<h3 id="sec.Centering.the.Window.list">Centering the Window List</h3>
<p>We can also control the placement of the window list. By default, the
window list is left-aligned, but we can center the window list in
between the left and right status areas with a single configuration
change:</p>
<p>::: livecodelozenge
<a href="http://media.pragprog.com/titles/bhtmux2/code/config/tmux.conf" rel="external" target="_blank">config/tmux.conf</a>
:::</p>
<hr>
<p>​[ ]   ​*# Center the window list in the status line*​
​[ ]   set -g status-justify centre</p>
<hr>
<p>With this in place, the window list appears centered:</p>
<p>::: ss
<a href="#R-image-792e2a77b193407d0a2148aa69885b97" class="lightbox-link"><img alt="images/config/statusline5.png" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/image00128.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-792e2a77b193407d0a2148aa69885b97"><img alt="images/config/statusline5.png" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/image00128.jpeg"></a>{#d24e2987}
:::</p>
<p>As you create new windows, the window list will shift accordingly,
staying in the center of the status line.</p>
<h3 id="sec.Identifying.Activity">Identifying Activity in Other Windows</h3>
<p>When you&rsquo;re working with more than one window, you&rsquo;ll want to be
notified when something happens in one of the other windows in your
session so you can react to it. You can do that by adding a visual
notification, like this:</p>
<p>::: livecodelozenge
<a href="http://media.pragprog.com/titles/bhtmux2/code/config/tmux.conf" rel="external" target="_blank">config/tmux.conf</a>
:::</p>
<hr>
<p>​[ ]   ​*# enable activity alerts*​
​[ ]   setw -g monitor-activity on
​[ ]   set -g visual-activity on</p>
<hr>
<p>The [monitor-activity on] command highlights the window name in
the status line when there&rsquo;s activity in that window. The
[visual-activity on] line tells tmux to show a message in the
status line as well.</p>
<p>Now when one of the other windows has some activity, it&rsquo;ll stand out
with a cyan background, like the &ldquo;top&rdquo; window shown here:</p>
<p>::: ss
<a href="#R-image-e78c66095151c101fff506329e468404" class="lightbox-link"><img alt="images/config/customstatusbar.png" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/image00129.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e78c66095151c101fff506329e468404"><img alt="images/config/customstatusbar.png" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/image00129.jpeg"></a>{#d24e3017}
:::</p>
<p>Once you switch to that window, the colors will revert back to normal.
If you want to configure different colors, you can do so with [setw -g
window-status-activity-style] and the colors of your choice.</p>
<p>[]{#part0028.xhtml}</p>
<h2 id="d24e3024">What&rsquo;s Next?</h2>
<p>We&rsquo;ve built up a pretty solid configuration file throughout this
chapter. Look at Appendix 1, <a href="/tools/tmuxbook/#part0057.xhtml#ap.config">​<em>Our
Configuration</em>​</a> to see the whole
[.tmux.conf]  file.</p>
<p>You can define additional options in your [.tmux.conf]
file. For example, in Chapter 3, <a href="/tools/tmuxbook/#part0030.xhtml#ch.scripting">​<em>Scripting Customized tmux
Environments</em>​</a>, you&rsquo;ll set up a custom
default work environment using project-specific configuration files.</p>
<p>In addition, you can configure a default configuration for your system
in [/etc/tmux.conf] . This is great for situations where
you&rsquo;ve set up a shared server so members of your team can collaborate,
or if you just want to ensure that every user on the system has some
sensible defaults.</p>
<p>Now that you have a configuration defined, let&rsquo;s look at creating your
own custom development environments with scripts so you can take
advantage of tmux&rsquo;s panes and windows without having to set them up
every day.</p>
<p>[]{#part0029.xhtml}</p>
<h2 id="d24e3049">For Future Reference</h2>
<h3 id="keybindings-defined-in-this-chapter">Keybindings defined in this chapter</h3>
<p>Command                                                                                                                                                                                                                                                                                                                                                                                                                                                      Description</p>
<hr>
<p><code>Ctrl</code> -<code>a</code>                                                                                                                                                                                                                                                                                                                                                                                    The new <code>Prefix</code> .
<code>Prefix</code>  <code>a</code>                                                                                                                                                                                                                                                                                                                                                                                  Sends <code>Ctrl</code> -<code>a</code>  to the program running in a tmux window or pane.
<code>Prefix</code>  <code>r</code>                                                                                                                                                                                                                                                                                                                                                                                  Reloads the tmux configuration file.
<code>Prefix</code>  <code>|</code>                                                                                                                                                                                                                                                                                                                                                  Splits the window horizontally.
<code>Prefix</code>  <code>-</code>                                                                                                                                                                                                                                                                                                                                                  Splits the window vertically.
<code>Prefix</code>  <code>h</code> , <code>Prefix</code>  <code>j</code> , <code>Prefix</code>  <code>k</code> , and <code>Prefix</code>  <code>l</code>                                                                                                                                    Moves between panes.
<code>Prefix</code>  <code>H</code> , <code>Prefix</code>  <code>J</code> , <code>Prefix</code>  <code>K</code> , and <code>Prefix</code>  <code>L</code>    Resizes the current pane.
<code>Prefix</code>  <code>Ctrl</code> -<code>h</code>  and <code>Prefix</code>  <code>Ctrl</code> -<code>l</code>                                                                                                                                                                                   Moves forward and backward through windows.</p>
<h3 id="commands-to-control-tmuxs-behavior">Commands to control tmux&rsquo;s behavior</h3>
<p>Command                                                             Description</p>
<hr>
<p>[set -g prefix C-a]                                        Sets the key combination for the Prefix key.
[set -sg escape-time n]                                    Sets the amount of time (in milliseconds) tmux waits for a keystroke after pressing <code>Prefix</code> .
[set -g base-index 1]                                      Sets the base index for windows to 1 instead of 0.
[setw -g pane-base-index 1]                                Sets the base index for panes to 1 instead of 0.
[source-file [file]]                                     Loads a configuration file. Use this to reload the existing configuration or bring in additional configuration options later.
[bind C-a send-prefix]                                     Configures tmux to send the prefix when pressing the <code>Prefix</code>  combination twice consecutively.
[bind-key [key] [command]]                             Creates a keybinding that executes the specified command. Can be shortened to [bind].
[bind-key -r [key] [command]]                          Creates a keybinding that is repeatable, meaning you only need to press the <code>Prefix</code>  key once, and you can press the assigned key repeatedly afterwards. This is useful for commands where you want to cycle through elements or resize panes. Can be shortened to [bind].
[unbind-key [key]]                                       Removes a defined keybinding so it can be bound to a different command. Can be shortened to [unbind].
[display-message] or [display]                    Displays the given text in the status message.
[set-option [flags] [option] [value]]                Sets options for sessions. Using the [-g] flag sets the option for all sessions.
[set-window-option [option] [value]]                   Sets options for windows, such as activity notifications, cursor movement, or other elements related to windows and panes.
[set -a]                                                   Appends values onto existing options rather than replacing the option&rsquo;s value.
[set -g mouse off]                                         Disables mouse support in tmux. Set to [on] if you wish to use the mouse.
[set -g default-terminal] [&quot;screen-256color&quot;]   Defines the terminal type for windows. Sets the value of [TERM], which other programs will use. [screen-256color] ensures the widest compatibility with programs originally written for the [screen] program.</p>
<h3 id="commands-to-control-tmuxs-appearance">Commands to control tmux&rsquo;s appearance</h3>
<p>+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| Command                           | Description                       |
+===================================+===================================+
| [set -g status-style]    | Sets the foreground and           |
|                                   | background color for the status   |
|                                   | line. Supports the options        |
|                                   | [dim], [bright] |
|                                   | (or [bold]),             |
|                                   | [reverse], and           |
|                                   | [blink] in addition to   |
|                                   | colors.                           |
|                                   |                                   |
|                                   | Example: [set -g status-style     |
|                                   | fg=white,bold,bg=black]  |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| [setw -g window-status-style] | Sets the foreground and           |
| .ic}                              | background color of the window    |
|                                   | list in the status line. Uses the |
|                                   | same options as                   |
|                                   | [status-style].          |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| [setw -g                          | Sets the foreground and           |
| window-status-current-style]  | background color of the active    |
| .ic}                              | window in the window list in the  |
|                                   | status line. Uses the same        |
|                                   | options as [status-style]     |
|                                   | .ic}.                             |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| [setw -g                          | Sets the foreground and           |
| window-status-activity-style] | background color of any window    |
| .ic}                              | with background activity. Uses    |
|                                   | the same options as               |
|                                   | [status-style].          |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| [setw -g pane-border-style]   | Sets the foreground and           |
| .ic}                              | background color of the pane      |
|                                   | borders. Uses the same options as |
|                                   | [status-style].          |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| [setw -g                          | Sets the foreground and           |
| pane-active-border-style]     | background color of the active    |
| .ic}                              | pane&rsquo;s border. Uses the same      |
|                                   | options as [status-style]     |
|                                   | .ic}.                             |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| [setw -g window-style]   | Sets the foreground and           |
|                                   | background color of the window.   |
|                                   | Uses the same options as          |
|                                   | [status-style].          |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| [setw -g window-active-style] | Sets the foreground and           |
| .ic}                              | background color of the active    |
|                                   | window. Uses the same options as  |
|                                   | [status-style].          |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| [setw -g message-style]  | Sets the foreground and           |
|                                   | background color of the message   |
|                                   | area and tmux command line. Uses  |
|                                   | the same options as               |
|                                   | [status-style].          |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| [set -g status-length-left]   | Controls the number of visible    |
| .ic} and [set -g                  | characters in the left and right  |
| status-length-right]     | sides of the status line.         |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| [set -g status-left ]    | Configures the items that appear  |
| and [set -g status-right]     | in the left and right sides of    |
| .ic}                              | the status line.                  |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| [set -g status-interval n]    | Defines the refresh interval for  |
| .ic}                              | the status line, where [n]{.emph} |
|                                   | is the number of seconds between  |
|                                   | refreshes.                        |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| [set -g status-justify centre     | Centers the window list in the    |
| ]                        | status line.                      |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| [setw -g monitor-activity on      | Looks for activity in other       |
| ]                        | windows and highlights the name   |
|                                   | of the window with background     |
|                                   | activity.                         |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| [set -g visual-activity on ]  | Displays a message in the message |
| .ic}                              | area when there is activity in    |
|                                   | another window.                   |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+</p>
<p>::: footnotes</p>
<h4 id="footnotes">Footnotes</h4>
<dl>
<dt><a href="/tools/tmuxbook/#part0024.xhtml#FNPTR-4">[4]</a>{#part0029.xhtml#FOOTNOTE-4}</dt>
<dd>
<p><a href="http://www.emacswiki.org/emacs/MovingTheCtrlKey" rel="external" target="_blank">http://www.emacswiki.org/emacs/MovingTheCtrlKey</a></p>
</dd>
<dt><a href="/tools/tmuxbook/#part0026.xhtml#FNPTR-5">[5]</a>{#part0029.xhtml#FOOTNOTE-5}</dt>
<dd>
<p><a href="http://www.iterm2.com" rel="external" target="_blank">http://www.iterm2.com</a></p>
</dd>
<dt><a href="/tools/tmuxbook/#part0026.xhtml#FNPTR-6">[6]</a>{#part0029.xhtml#FOOTNOTE-6}</dt>
<dd>
<p><a href="http://superuser.com/questions/285381/how-does-the-tmux-color-palette-work" rel="external" target="_blank">http://superuser.com/questions/285381/how-does-the-tmux-color-palette-work</a></p>
</dd>
<dt><a href="/tools/tmuxbook/#part0027.xhtml#FNPTR-7">[7]</a>{#part0029.xhtml#FOOTNOTE-7}</dt>
<dd>
<p>See <a href="http://www.foragoodstrftime.com/" rel="external" target="_blank">http://www.foragoodstrftime.com/</a> for a handy tool to help you
find the perfect time format.
:::</p>
</dd>
</dl>
<p>::: {.copyright style=&quot;;color:black;&rdquo;}
Copyright © 2016, The Pragmatic Bookshelf.
:::</p>
<p>[]{#part0030.xhtml}</p>
<h1 id="ch.scripting" class="chapter-title">[ Chapter 3]{.chapter-number} [Scripting Customized tmux Environments]{.chapter-name}</h1>
<p>You probably run a wide collection of tools and programs as you work on
your projects. If you&rsquo;re working on a web application, you most likely
need to have a command shell, a text editor, a database console, and
another window dedicated to running your automated test suite for your
application. That&rsquo;s a lot of windows to manage, and a lot of commands to
type to get it all fired up.</p>
<p>Imagine being able to come to your workstation, ready to tackle that new
feature, and being able to bring every one of those programs up, each in
its own pane or window in a single tmux session, using a single command.
We can use tmux&rsquo;s client-server model to create custom scripts that
build up our development environments, splitting windows and launching
programs for us automatically. We&rsquo;ll explore how to do this manually
first, and then we&rsquo;ll look at more advanced automatic tools.</p>
<p>[]{#part0031.xhtml}</p>
<h2 id="sec.Creating.a.Custom.Setup">Creating a Custom Setup with tmux Commands</h2>
<p>We&rsquo;ve already explored how we use the [tmux] command to create
new tmux sessions, but the [tmux] command takes many other
options. We can take an existing session and split its windows into
panes, change layouts, or even start up applications within the session.</p>
<p>The key to this is the [-t] switch, or the &ldquo;target.&rdquo; When you
have a named tmux session, you can attach to it like this:</p>
<hr>
<p>​[ ]   ​[$ ]​​tmux​​ ​​attach​​ ​​-t​​ ​​[session_name]​</p>
<hr>
<p>You can use this target switch to direct a tmux command to the
appropriate tmux session. Create a new tmux session called
&ldquo;development,&rdquo; like this:</p>
<hr>
<p>​[ ]   ​[$ ]​​tmux​​ ​​new-session​​ ​​-s​​ ​​development​</p>
<hr>
<p>Then detach from the session with <code>Prefix</code>
<code>d</code> . Even though you&rsquo;re
no longer connected, you can split the window in the tmux session
horizontally by issuing this command:</p>
<hr>
<p>​[ ]   ​[$ ]​​tmux​​ ​​split-window​​ ​​-h​​ ​​-t​​ ​​development​</p>
<hr>
<p>When you attach to the session again, the window will split into two
panes. Attach to your session again to see for yourself.</p>
<hr>
<p>​[ ]   ​[$ ]​​tmux​​ ​​attach​​ ​​-t​​ ​​development​</p>
<hr>
<p>In fact, you don&rsquo;t even have to detach from a tmux session to send
commands. You can open another terminal and split the window again, but
this time with a vertical split. Try it out. Open a second terminal
window or tab, and enter this command:</p>
<hr>
<p>​[ ]   ​[$ ]​​tmux​​ ​​split-window​​ ​​-v​​ ​​-t​​ ​​development​</p>
<hr>
<p>Using this approach, you can customize your environment easily. Let&rsquo;s
explore this concept by creating our own development environment.</p>
<h3 id="sec.Scripting.a.Project.Configuration">Scripting a Project Configuration</h3>
<p>In Chapter 1, <a href="/tools/tmuxbook/#part0013.xhtml#ch.basics">​<em>Learning the Basics</em>​</a>, we
discussed tmux commands such as [new-session] and
[new-window]. Let&rsquo;s write a simple script using these and
similar commands that creates a new tmux session and creates a window
with a couple panes and two additional windows with one pane each. To
top it off, we&rsquo;ll launch applications in each of the panes.</p>
<p>Let&rsquo;s start by creating a new script called [development]
in our home directory. We&rsquo;ll make this script executable too, so we can
run it like any other executable program from our shell. Execute these
commands in your terminal:</p>
<hr>
<p>​[ ]   ​[$ ]​​touch​​ ​​~/development​
​[ ]   ​[$ ]​​chmod​​ ​​+x​​ ​​~/development​</p>
<hr>
<p>When we start up our session, we want to change to the directory for our
project. We&rsquo;ll call that directory [devproject] . And
before we can change to that directory, we&rsquo;d better create it first.</p>
<hr>
<p>​[ ]   ​[$ ]​​mkdir​​ ​​~/devproject​</p>
<hr>
<p>Now, open the [~/development]  script in your text editor
and add this line to create a new tmux session called &ldquo;development&rdquo;:</p>
<p>::: livecodelozenge
<a href="http://media.pragprog.com/titles/bhtmux2/code/scripting/development" rel="external" target="_blank">scripting/development</a>
:::</p>
<hr>
<p>​[ ]   tmux new-session -s development -n editor -d</p>
<hr>
<p>We&rsquo;re passing a couple additional parameters when we create this new
session. First, we&rsquo;re creating this session and naming it with the
[-s] flag like we&rsquo;ve done before. Then we give the initial
window a name of &ldquo;editor,&rdquo; and then immediately detach from this new
session with the [-d] flag.</p>
<p>Next, add a line to our configuration that uses tmux&rsquo;s [send-keys]
.ic} command to change the current directory to the one we&rsquo;re using for
our project:</p>
<hr>
<p>​[ ]   tmux send-keys -t development ​*'cd ~/devproject'*​ C-m</p>
<hr>
<p>We place [C-m] at the end of the line to send the Carriage
Return sequence, represented by
Ctrl-M.^<a href="/tools/tmuxbook/#part0035.xhtml#FOOTNOTE-8">[8]</a>{#part0031.xhtml#FNPTR-8
.footnote}^ This is how we tell tmux to press the <code>Enter</code>
key.</p>
<p>We&rsquo;ll use the same approach to open the Vim text editor in that window.
Add this line to your script:</p>
<hr>
<p>​[ ]   tmux send-keys -t development ​*'vim'*​ C-m</p>
<hr>
<p>With these three commands, we&rsquo;ve created a new session, changed to a
directory, and opened a text editor, but our environment isn&rsquo;t yet
complete. Let&rsquo;s split the main editor window so we have a small terminal
window on the bottom. We do this with the [split-window]
command. Add this line to your script:</p>
<hr>
<p>​[ ]   tmux split-window -v -t development</p>
<hr>
<p>This splits the main window in half horizontally. You could have
specified a percentage using something like</p>
<hr>
<p>​[ ]   tmux split-window -v -p 10 -t development</p>
<hr>
<p>but for now, just leave the [split-window] command as is and
then select one of the default tmux layouts&mdash;the [main-horizontal]
.ic} one&mdash;by adding this to your script:</p>
<hr>
<p>​[ ]   tmux ​select​-layout -t development main-horizontal</p>
<hr>
<p>We&rsquo;ve created our first window and split it into two panes, but the
bottom pane needs to open in the project folder. We already know how we
send commands to tmux instances, but now we have to target those
commands at specific panes and windows.</p>
<h4 id="sec.Targeting.Specific.Panes.and.Windows">Targeting Specific Panes and Windows</h4>
<p>With commands such as [send-keys], you can specify not only the
target session, but also the target window and pane. In the
configuration file you created back in Chapter 2, <a href="/tools/tmuxbook/#part0023.xhtml#ch.config">​<em>Configuring
tmux</em>​</a>, you specified a [base-index]
of [1], meaning that your window numbering starts at 1. This
base index doesn&rsquo;t affect the panes, though, which is why you also set
the [pane-base-index] to [1]. In our case, we have two
panes in our current setup, like the following example:</p>
<hr>
<p>​[ ]   --------------------------
​[ ]   | |
​[ ]   | Pane 1 |
​[ ]   | |
​[ ]   --------------------------
​[ ]   | Pane 2 |
​[ ]   --------------------------</p>
<hr>
<p>We have the Vim text editor open in Pane 1, and we want to send a
command to Pane 2 that changes to our project directory. We target a
pane using the format [[session]:[window].[pane]], so to
target Pane 2, we&rsquo;d use [development:1.2]. So, add this line to
your script, and you&rsquo;ll get exactly what you want:</p>
<hr>
<p>​[ ]   tmux send-keys -t development:1.2 ​*'cd ~/devproject'*​ C-m</p>
<hr>
<p>We&rsquo;re almost there. Let&rsquo;s finish up this configuration by adding a
couple more windows to the session.</p>
<h4 id="sec.Creating.and.Selecting.Windows">Creating and Selecting Windows</h4>
<p>We want a second window in our session that will be a full-screen
console. We can create that new window using the [new-window]
command. Add these lines to your script:</p>
<hr>
<p>​[ ]   tmux new-window -n console -t development
​[ ]   tmux send-keys -t development:2 ​*'cd ~/devproject'*​ C-m</p>
<hr>
<p>After we create the window, we use [send-keys] to once again
change into our project directory. We only have one pane in our new
window, so we only have to specify the window number in the target.</p>
<p>When we start up our session, we want our first window to be displayed,
and we do that with the [select-window] command:</p>
<hr>
<p>​[ ]   tmux ​select​-window -t development:1
​[ ]   tmux attach -t development</p>
<hr>
<p>We could continue to add to this script, creating additional windows and
panes, starting up remote connections to our servers, tailing log files,
connecting to database consoles, or even running commands that pull down
the latest version of our code when we start working. But we&rsquo;ll stop
here, and simply end our script by finally attaching to the session so
it shows up on the screen, ready for us to begin working. Our entire
script looks like this:</p>
<hr>
<p>​[ ]   tmux new-session -s development -n editor -d
​[ ]   tmux send-keys -t development ​*'cd ~/devproject'<em>​ C-m
​[ ]   tmux send-keys -t development ​</em>'vim'<em>​ C-m
​[ ]   tmux split-window -v -t development
​[ ]   tmux ​select​-layout -t development main-horizontal
​[ ]   tmux send-keys -t development:1.2 ​</em>'cd ~/devproject'<em>​ C-m
​[ ]   tmux new-window -n console -t development
​[ ]   tmux send-keys -t development:2 ​</em>'cd ~/devproject'*​ C-m
​[ ]   tmux ​select​-window -t development:1
​[ ]   tmux attach -t development</p>
<hr>
<p>When you run it with</p>
<hr>
<p>​[ ]   ​[$ ]​​~/development​</p>
<hr>
<p>your environment will look like this:</p>
<p>::: ss
<a href="#R-image-45616850ad67b4fc85f128a1789563c8" class="lightbox-link"><img alt="images/scripting/devenv.png" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/image00130.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-45616850ad67b4fc85f128a1789563c8"><img alt="images/scripting/devenv.png" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/image00130.jpeg"></a>{#d24e4058}
:::</p>
<p>One drawback to this approach is that this script creates a brand-new
session. It won&rsquo;t work properly if you run it a second time while the
[development] session is currently running. You could modify
the script to check if a session with that name already exists by using
the [tmux has-session] command and only create the session if
it&rsquo;s not there, like this:</p>
<p>::: livecodelozenge
<a href="http://media.pragprog.com/titles/bhtmux2/code/scripting/reattach/development" rel="external" target="_blank">scripting/reattach/development</a>
:::</p>
<hr>
<p>​[ ]   tmux has-session -t development
​[ ]   ​if​ [ $? != 0 ]
​[ ]   ​then​
​[ ]   ​​tmux new-session -s development -n editor -d
​[ ]   tmux send-keys -t development ​*'cd ~/devproject'<em>​ C-m
​[ ]   tmux send-keys -t development ​</em>'vim'<em>​ C-m
​[ ]   tmux split-window -v -t development
​[ ]   tmux ​select​-layout -t development main-horizontal
​[ ]   tmux send-keys -t development:1.2 ​</em>'cd ~/devproject'<em>​ C-m
​[ ]   tmux new-window -n console -t development
​[ ]   tmux send-keys -t development:2 ​</em>'cd ~/devproject'*​ C-m
​[ ]   tmux ​select​-window -t development:1
​[ ]   ​fi​
​[ ]   tmux attach -t development</p>
<hr>
<p>This approach works well for a single project setup. You could modify
this further by using a variable for the project name to make the script
more generic, but let&rsquo;s look at a couple other ways we can configure
things to manage multiple projects.</p>
<p>[]{#part0032.xhtml}</p>
<h2 id="sec.Using.tmux.Configuration.For.Setup">Using tmux Configuration for Setup</h2>
<p>The [.tmux.conf]  file itself can include commands that
set up a default environment. If you wanted every tmux session to start
in the same default folder, or automatically open a split window, you
could bake that right in to your default configuration, simply by using
the appropriate commands.</p>
<p>But you can also specify a configuration file when you start up an
instance of tmux, by using the [-f] flag. This way you don&rsquo;t
have to change your original default configuration file, and you can
check your configuration file in with your project&rsquo;s source code. You
can also set up your own per-project configuration options, such as new
keyboard shortcuts to run commands or start your test suite.</p>
<p>Let&rsquo;s try this out. Create a new file called [app.conf] .</p>
<hr>
<p>​[ ]   ​[$ ]​​touch​​ ​​app.conf​</p>
<hr>
<p>Inside this file, you can use the same commands you just learned about
in the previous section, but since you&rsquo;re inside the configuration file
rather than a shell script, you don&rsquo;t have to explicitly prefix each
command with [tmux]. Add this code to your [app.conf]
.filename} file:</p>
<p>::: livecodelozenge
<a href="http://media.pragprog.com/titles/bhtmux2/code/scripting/app.conf" rel="external" target="_blank">scripting/app.conf</a>
:::</p>
<hr>
<p>​[ ]   source-file ~/.tmux.conf
​[ ]   new-session -s development -n editor -d
​[ ]   send-keys -t development ​*'cd ~/devproject'<em>​ C-m
​[ ]   send-keys -t development ​</em>'vim'<em>​ C-m
​[ ]   split-window -v -t development
​[ ]   ​select​-layout -t development main-horizontal
​[ ]   send-keys -t development:1.2 ​</em>'cd ~/devproject'<em>​ C-m
​[ ]   new-window -n console -t development
​[ ]   send-keys -t development:2 ​</em>'cd ~/devproject'*​ C-m
​[ ]   ​select​-window -t development:1</p>
<hr>
<p>This code first loads your existing [.tmux.conf]  file.
This way you&rsquo;ll have all your environment settings you previously
defined, including your keybindings and status bar settings. This isn&rsquo;t
mandatory, but if you left this off, you&rsquo;d have to use all the default
keybindings and options, or you&rsquo;d have to define your own options in
this file.</p>
<p>To use this configuration file, pass the [-f] flag followed by
the path to the config file. You also have to start tmux with the
[attach] command, like this:</p>
<hr>
<p>​[ ]   ​[$ ]​​tmux​​ ​​-f​​ ​​app.conf​​ ​​attach​</p>
<hr>
<p>This is because, by default, tmux always calls the [new-session]
.ic} command when it starts. This file creates a new session already, so
you&rsquo;d have [two]{.emph} tmux sessions running if you left off
[attach].</p>
<p>This approach gives you a lot of flexibility, but you can gain even more
by using a command-line tool called tmuxinator.</p>
<p>[]{#part0033.xhtml}</p>
<h2 id="sec.Managing.Configuration.with.tmuxinator">Managing Configuration with tmuxinator</h2>
<p>tmuxinator is a simple tool you can use to define and manage different
tmux configurations. You define window layouts and commands in a simple
YAML format, and then launch them with the [tmuxinator]
command. Unlike the other approaches, tmuxinator offers a central
location for your configurations and a much easier dialect for creating
complex layouts. It also lets you specify commands that should always
run before each window gets created.</p>
<p>tmuxinator requires the Ruby interpreter, so you&rsquo;ll need to have that on
your system. Mac OS X users already have Ruby installed, and Linux users
can usually install Ruby through a package manager. However, if you plan
to use Ruby for anything beyond tmuxinator, I strongly encourage you to
install Ruby through RVM by following along with the instructions on the
RVM website.^<a href="/tools/tmuxbook/#part0035.xhtml#FOOTNOTE-9">[9]</a>{#part0033.xhtml#FNPTR-9
.footnote}^</p>
<p>Install tmuxinator by using Rubygems, which is the package management
system for Ruby.</p>
<hr>
<p>​[ ]   ​[$ ]​​gem​​ ​​install​​ ​​tmuxinator​</p>
<hr>
<p>If you are not using RVM, you will need to run this as root or with the
[sudo] command.</p>
<p>tmuxinator needs the [$EDITOR] shell environment to be
defined, so if you haven&rsquo;t set yours yet, you&rsquo;ll want to do that in your
[.bashrc]  file on Linux, or [.bash_profile]
.filename} on OS X. For example, to define Vim as the default editor,
you&rsquo;d add this line to your Bash configuration:</p>
<hr>
<p>​[ ]   export EDITOR=vim</p>
<hr>
<p>Now we can create a new tmuxinator project. Let&rsquo;s call it &ldquo;development.&rdquo;
Execute this command:</p>
<hr>
<p>​[ ]   ​[$ ]​​tmuxinator​​ ​​open​​ ​​development​</p>
<hr>
<p>This pops open the editor you assigned to the [$EDITOR]
environment variable and displays the default project configuration,
which looks like this:</p>
<p>::: livecodelozenge
<a href="http://media.pragprog.com/titles/bhtmux2/code/scripting/default.yaml" rel="external" target="_blank">scripting/default.yaml</a>
:::</p>
<hr>
<p>​[ ]   ​*# ~/.tmuxinator/development.yml<em>​
​[ ]<br>
​[ ]   ​</em>name<em>​: ​</em>development<em>​
​[ ]   ​</em>root<em>​: ​</em>~/<em>​
​[ ]<br>
​[ ]   ​</em># a bunch of comments.&hellip;<em>​
​[ ]<br>
​[ ]   ​</em>windows<em>​:
​[ ]   - ​</em>editor<em>​:
​[ ]   ​</em>layout<em>​: ​</em>main-vertical<em>​
​[ ]   ​</em>panes<em>​:
​[ ]   - ​</em>vim<em>​
​[ ]   - ​</em>guard<em>​
​[ ]   - ​</em>server<em>​: ​</em>bundle exec rails s<em>​
​[ ]   - ​</em>logs<em>​: ​</em>tail -f log/development.log*​</p>
<hr>
<p>This is an environment that a Ruby on Rails developer who works with Git
might really appreciate. This creates a tmux session with three windows.
The first window is divided into two panes, using the
[main-vertical] layout scheme. The left pane opens Vim, and the
right pane opens Guard, a Ruby program that watches files for changes
and executes tasks, like test runners. The second window launches Rails&rsquo;
built-in web server, and the third window uses the [tail]
command to follow the application&rsquo;s development log file.</p>
<p>As you can see, tmuxinator makes it trivial to define not only the
windows and panes, but also what commands we want to execute in each
one. Let&rsquo;s use Tmuxinator to construct our development environment, with
Vim in the top pane and a terminal on the bottom, starting in the
[~/devproject]  folder. Remove the contents of this file
and replace it with the following code:</p>
<p>::: livecodelozenge
<a href="http://media.pragprog.com/titles/bhtmux2/code/scripting/development.yaml" rel="external" target="_blank">scripting/development.yaml</a>
:::</p>
<hr>
<p>​[ ]   ​<em>name</em>​: ​<em>development</em>​
​[ ]   ​<em>root</em>​: ​*~/devproject<em>​
​[ ]   ​</em>windows<em>​:
​[ ]   - ​</em>editor<em>​:
​[ ]   ​</em>layout<em>​: ​</em>main-horizontal<em>​
​[ ]   ​</em>panes<em>​:
​[ ]   - ​</em>vim<em>​
​[ ]   - ​</em>#empty, will just run plain bash<em>​
​[ ]   - ​</em>console<em>​: ​</em># empty*​</p>
<hr>
<p>The [yml]  file format uses two spaces for indenting, so
it&rsquo;s really important to ensure you format the file correctly and that
you don&rsquo;t accidentally use tabs when you write the file.</p>
<p>To fire up the new environment, save the config file and then execute
the following command:</p>
<hr>
<p>​[ ]   ​[$ ]​​tmuxinator​​ ​​development​</p>
<hr>
<p>tmuxinator automatically loads up your original [.tmux.conf]
.filename} file, applies the settings, and then arranges the windows and
panes for you, just like you specified. If you want to make more changes
to your environment, just use</p>
<hr>
<p>​[ ]   ​[$ ]​​tmuxinator​​ ​​open​​ ​​development​</p>
<hr>
<p>again and edit the configuration.</p>
<p>By default, the configuration files for tmuxinator are located in
[~/.tmuxinator/] , so you can find those and back them
up, or share them with others.</p>
<p>Under the hood, tmuxinator is just constructing a script that executes
the individual tmux commands just like we did when we wrote our own
script. However, it&rsquo;s a nicer syntax that&rsquo;s pretty easy to follow. It
does require a Ruby interpreter on your machine, though, so it may not
be something you&rsquo;ll set up on every environment where you&rsquo;d like to use
tmux. However, you can use Tmuxinator to generate a configuration you
can use anywhere. The [tmuxinator debug] command can display
the script that Tmuxinator will use:</p>
<hr>
<p>​[ ]   ​[$ ]​​tmuxinator​​ ​​debug​​ ​​development​</p>
<hr>
<p>Here&rsquo;s what the output looks like:</p>
<hr>
<p>​[ ]   ​*#!/bin/bash<em>​
​[ ]<br>
​[ ]   ​</em># Clear rbenv variables before starting tmux<em>​
​[ ]   unset RBENV_VERSION
​[ ]   unset RBENV_DIR
​[ ]<br>
​[ ]   tmux start-server;
​[ ]<br>
​[ ]   cd /home/brianhogan/devproject
​[ ]<br>
​[ ]   ​</em># Run pre command.<em>​
​[ ]<br>
​[ ]   ​</em># Create the session and the first window. Manually switch to root<em>​
​[ ]   ​</em># directory if required to support tmux &lt; 1.9<em>​
​[ ]   TMUX= tmux new-session -d -s development -n editor
​[ ]   tmux send-keys -t development:1 cd​</em>\* ​/home/brianhogan/devproject C-m
​[ ]<br>
​[ ]   ​*# Create other windows.<em>​
​[ ]   tmux new-window -t development:2 -n console
​[ ]<br>
​[ ]   ​</em># Window &quot;editor&quot;<em>​
​[ ]   tmux send-keys -t development:1.1 vim C-m
​[ ]<br>
​[ ]   tmux splitw -c /home/brianhogan/devproject -t development:1
​[ ]   tmux ​select​-layout -t development:1 tiled
​[ ]<br>
​[ ]   tmux ​select​-layout -t development:1 tiled
​[ ]<br>
​[ ]   tmux ​select​-layout -t development:1 main-horizontal
​[ ]   tmux ​select​-pane -t development:1.1
​[ ]<br>
​[ ]   ​</em># Window &quot;console&quot;<em>​
​[ ]<br>
​[ ]   tmux ​select​-window -t 1
​[ ]<br>
​[ ]   ​if​ [ -z ​</em>&quot;<em>​$TMUX​</em>&quot;*​ ]; ​then​
​[ ]   ​​tmux -u attach-session -t development
​[ ]   ​else​
​[ ]   ​​tmux -u switch-client -t development
​[ ]   ​fi​</p>
<hr>
<p>You could save the output of [tmuxinator debug] to a script you
can run on any machine. You can also use this option to troubleshoot any
issues you might be having as you develop your configuration file.</p>
<p>[]{#part0034.xhtml}</p>
<h2 id="d24e4656">What&rsquo;s Next?</h2>
<p>You can use every tmux command through the shell, which means you can
write scripts to automate nearly every aspect of tmux, including running
sessions. For example, you could create a keyboard binding that sources
a shell script that divides the current window into two panes and logs
you into your production web and database servers.</p>
<p>We&rsquo;ve covered a lot so far. You know how to set up projects, move around
panes and windows, and launch your consoles. You&rsquo;ve tinkered around with
your configuration enough to understand how to customize things to your
liking. And you&rsquo;ve experimented with three separate ways to script out
your tmux environment. But as you start to integrate tmux into your
workflow, you&rsquo;ll start to notice some new issues crop up. For example,
the results of tests or application logs start to scroll off the screen,
and you&rsquo;ll want to be able to scroll up to read things. And you&rsquo;ll
probably want to copy and paste text between panes, windows, or other
applications. So let&rsquo;s learn how to work with tmux&rsquo;s output buffers
next.</p>
<p>[]{#part0035.xhtml}</p>
<h2 id="d24e4663">For Future Reference</h2>
<h3 id="scriptable-tmux-commands">Scriptable tmux commands</h3>
<p>Command                                                                              Description</p>
<hr>
<p>[tmux new-session -s ][development][ -n editor]           Creates a session named &ldquo;development&rdquo; and names the first window &ldquo;editor.&rdquo;
[tmux attach -t development]                                                Attaches to a session named &ldquo;development.&rdquo;
[tmux send-keys -t development &lsquo;[keys]&rsquo; C-m]                              Sends the keystrokes to the &ldquo;development&rdquo; session&rsquo;s active window or pane. [C-m] is equivalent to pressing the <code>Enter</code>  key.
[tmux send-keys -t ][development:1.1][ &lsquo;[keys]&rsquo; C-m]    Sends the keystrokes to the &ldquo;development&rdquo; session&rsquo;s first window and first pane, provided the window and pane indexes are set to 1. [C-m] is equivalent to pressing the <code>Enter</code>  key.
[tmux select-window -t ][development:1]                            Selects the first window of &ldquo;development,&rdquo; making it the active window.
[tmux split-window -v -p 10 -t development]                                 Splits the current window in the &ldquo;development&rdquo; session vertically, dividing it in half [horizontally]{.emph}, and sets its height to 10% of the total window size.
[tmux select-layout -t ][development][ main-horizontal]   Sets the layout for the &ldquo;development&rdquo; session to [main-horizontal].
[tmux source-file [file]]                                                 Loads the specified tmux configuration file.
[tmux -f app.conf attach]                                                   Loads the [app.conf]  configuration file and attaches to a session created within the [app.conf]  file.</p>
<h3 id="tmuxinator-commands">tmuxinator commands</h3>
<p>Command                                                 Description</p>
<hr>
<p>[tmuxinator open [name]]                     Opens the configuration file for the project [name] in the default text editor. Creates the configuration if it doesn&rsquo;t exist.
[tmuxinator [name]]                          Loads the tmux session for the given project. Creates the session from the contents of the project&rsquo;s configuration file if no session currently exists, or attaches to the session.
[tmuxinator list]                              Lists all current projects.
[tmuxinator copy [source] [destination]]   Copies a project configuration.
[tmuxinator delete [name]]                   Deletes the specified project.
[tmuxinator implode]                           Deletes all current projects.
[tmuxinator doctor]                            Looks for problems with the tmuxinator and system configuration.
[tmuxinator debug]                             Shows the script that tmuxinator will run, helping you figure out what&rsquo;s going wrong.</p>
<p>::: footnotes</p>
<h4 id="footnotes-1">Footnotes</h4>
<dl>
<dt><a href="/tools/tmuxbook/#part0031.xhtml#FNPTR-8">[8]</a>{#part0035.xhtml#FOOTNOTE-8}</dt>
<dd>
<p><a href="http://en.wikipedia.org/wiki/Carriage_return" rel="external" target="_blank">http://en.wikipedia.org/wiki/Carriage_return</a></p>
</dd>
<dt><a href="/tools/tmuxbook/#part0033.xhtml#FNPTR-9">[9]</a>{#part0035.xhtml#FOOTNOTE-9}</dt>
<dd>
<p><a href="https://rvm.io/" rel="external" target="_blank">https://rvm.io/</a>
:::</p>
</dd>
</dl>
<p>::: {.copyright style=&quot;;color:black;&quot;}
Copyright © 2016, The Pragmatic Bookshelf.
:::</p>
<p>[]{#part0036.xhtml}</p>
<h1 id="ch.buffers" class="chapter-title">[ Chapter 4]{.chapter-number} [Working With Text and Buffers]{.chapter-name}</h1>
<p>Throughout the course of your average day, you&rsquo;ll copy and paste text
more times than you can keep track of. When you&rsquo;re working with tmux,
you will eventually come to the point where you need to scroll backwards
through the terminal&rsquo;s output buffer to see something that scrolled off
the screen. You might also need to copy some text and paste it into a
file or into another program. This chapter is all about how to manage
the text inside your sessions. You&rsquo;ll see how to use the keyboard to
scroll through tmux&rsquo;s output buffer, how to work with multiple paste
buffers, and how to work with the system clipboard.</p>
<p>[]{#part0037.xhtml}</p>
<h2 id="sec.Scrolling.Through.Output">Scrolling Through Output with Copy Mode</h2>
<p>When you work with programs in the terminal, it&rsquo;s common that the output
from these programs scrolls off the screen. But when you use tmux, you
can use the keyboard to move backwards through the output buffer so you
can see what you missed. This is especially useful for those times when
you&rsquo;re running tests or watching log files and you can&rsquo;t just rely on
the [less] command or your text editor.</p>
<p>Pressing <code>Prefix</code>
<code>[</code>  places you in Copy
mode. You can then use your movement keys to move the cursor around the
screen. By default, the arrow keys work. But in Chapter 2, <a href="/tools/tmuxbook/#part0023.xhtml#ch.config">​<em>Configuring
tmux</em>​</a>, you configured tmux to use Vim keys
for moving between windows and resizing panes so you wouldn&rsquo;t have to
take your hands off the home row. tmux has a [vi] mode for
working with the buffer as well. To enable it, add this line to
[.tmux.conf] :</p>
<p>::: livecodelozenge
<a href="http://media.pragprog.com/titles/bhtmux2/code/config/tmux.conf" rel="external" target="_blank">config/tmux.conf</a>
:::</p>
<hr>
<p>​[ ]   ​*# enable vi keys.*​
​[ ]   setw -g mode-keys vi</p>
<hr>
<p>With this option set, you can use <code>h</code> , <code>j</code>
, <code>k</code> , and <code>l</code>  to move around
your buffer.</p>
<p>To get out of Copy mode, press the <code>Enter</code>
key. Moving around one character at a
time isn&rsquo;t very efficient. Since you enabled vi mode, you can also use
some other visible shortcuts to move around the buffer.</p>
<p>For example, you can use <code>w</code>  to jump to the next word
and <code>b</code>  to jump back one word. And you can use <code>f</code>
, followed by any character, to jump to that character on the
same line, and <code>F</code>  to
jump backwards on the line.</p>
<h3 id="moving-quickly-through-the-buffer">Moving Quickly Through the Buffer</h3>
<p>When you have several pages of buffered output, moving the cursor around
to scroll isn&rsquo;t going to be that useful. Instead of moving word by word
or character by character, you can scroll through the buffer page by
page, or jump to the beginning or end of the buffer.</p>
<p>You can move up one page with <code>Ctrl</code>
-<code>b</code>  and down one page
with <code>Ctrl</code> -<code>f</code>
. You can jump all the way to the top of the buffer&rsquo;s history
with <code>g</code> , and then jump all the way to the bottom with
<code>G</code> .</p>
<h3 id="sec.Searching.Through.the.Buffer">Searching Through the Buffer</h3>
<p>You don&rsquo;t have to browse through the hundreds of lines of content page
by page if you know what you&rsquo;re looking for. By pressing <code>?</code>
.keystroke  in Copy mode, you can search
upwards for phrases or keywords. Simply press <code>?</code>
, type in the search phrase, and press
<code>Enter</code>  to jump to the
first occurrence of the phrase. Then press <code>n</code>  to jump
to the next occurrence, or <code>N</code>
to move to the previous.</p>
<p>To search downward, press <code>/</code>
instead of <code>?</code>
. Pressing <code>n</code>  then
jumps to the next occurrence, and <code>N</code>
jumps to the previous occurrence.</p>
<p>Learning to move around the buffer this way will dramatically speed you
up. It&rsquo;s faster to type the word you want to move to instead of using
the arrows to move around, especially if you&rsquo;re looking through the
output of log files.</p>
<p>Now let&rsquo;s explore how to copy text from one pane and paste it to
another. This is Copy mode, after all.</p>
<p>[]{#part0038.xhtml}</p>
<h2 id="d24e5079">Copying and Pasting Text</h2>
<p>Moving around and looking for things in the output buffer is usually
only half the equation. We often need to copy some text so we can do
something useful with it. tmux&rsquo;s Copy mode gives us the opportunity to
select and copy text to a paste buffer so we can dump that text
elsewhere.</p>
<p>To copy text, enter Copy mode and move the cursor to where you want to
start selecting text. Then press <code>Space</code>
and move the cursor to the end of the
text. When you press <code>Enter</code>
, the selected text gets copied into a
paste buffer.</p>
<p>To paste the contents you just captured, press <code>Prefix</code>
<code>]</code>
.</p>
<p>Let&rsquo;s look at a few ways to copy and paste text from our main output
buffer.</p>
<h3 id="sec.Capturing.a.Pane">Capturing a Pane</h3>
<p>tmux has a handy shortcut that copies the entire visible contents of a
pane to a paste buffer. Enter tmux&rsquo;s Command mode with <code>Prefix</code>
.keystroke  <code>:</code>
and type</p>
<p>[capture-pane]</p>
<p>The contents of the pane will be in a paste buffer. You can then paste
that content into another pane or window by pressing <code>Prefix</code>
.keystroke  <code>]</code>
.</p>
<h3 id="showing-and-saving-the-buffer">Showing and Saving the Buffer</h3>
<p>You can display the contents of your paste buffer by using the
[show-buffer] command in Command mode, or from a terminal
session with</p>
<hr>
<p>​[ ]   ​[$ ]​​tmux​​ ​​show-buffer​</p>
<hr>
<p>However, by using the [save-buffer] command, you can save the
buffer to a file, which can often be a real time saver. In fact, you can
capture the contents of the current pane to a text file.</p>
<p>In Command mode, execute the command [capture-pane; save-buffer
buffer.txt]. You could easily map that command to a keystroke
if you wanted.</p>
<h3 id="sec.Using.Multiple.Paste.Buffers">Using Multiple Paste Buffers</h3>
<p>tmux maintains a stack of paste buffers, which means you can copy text
without replacing the buffer&rsquo;s existing content. This is much more
flexible than the traditional clipboard offered by the operating system.</p>
<p>Every time you copy some new text, tmux creates a new paste buffer,
putting the new buffer at the top of the stack. To demonstrate, fire up
a new tmux session and load up a text editor such as Vim or Nano. In the
editor, type the following sentences, one per line:</p>
<hr>
<p>​[ ]   First sentence is first.
​[ ]   Next sentence is next.
​[ ]   Last sentence is last.</p>
<hr>
<p>Now copy some text to the paste buffer using tmux. Enter Copy mode with
<code>Prefix</code>  <code>[</code>
.keystroke . Move to the start of the
first sentence, press <code>Space</code>
to start selecting text, move to the
end of the first sentence, and press <code>Enter</code>
to copy the selection. Repeat this with
the second and third sentences.</p>
<p>Each time you copied text, tmux created a new buffer. You can see these
buffers with the [list-buffers] command.</p>
<hr>
<p>​[ ]   0: 22 bytes: &quot;Last sentence is last.&quot;
​[ ]   1: 22 bytes: &quot;Next sentence is next.&quot;
​[ ]   2: 24 bytes: &quot;First sentence is first.&quot;</p>
<hr>
<p>Pressing <code>Prefix</code>
<code>]</code>  always pastes buffer
0, but you can issue the command [choose-buffer] to select a
buffer and paste the contents into the focused pane.</p>
<p>Split the current window in half and launch Nano in the second pane,
then enter Command mode and type this:</p>
<p>[choose-buffer]</p>
<p>You&rsquo;ll be presented with a list that looks like this:</p>
<p>::: ss
<a href="#R-image-762bcfd32b7a37f836e1b96d8e6bb352" class="lightbox-link"><img alt="images/buffers/choose-buffer.png" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/image00131.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-762bcfd32b7a37f836e1b96d8e6bb352"><img alt="images/buffers/choose-buffer.png" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/image00131.jpeg"></a>{#d24e5219}
:::</p>
<p>You can select any entry in the list, press <code>Enter</code>
, and the text will be inserted into the
selected pane.</p>
<p>This is an excellent way to manage multiple bits of text, especially in
text-based environments where you don&rsquo;t have access to an OS-level
clipboard.</p>
<p>These buffers are shared across [all]{.emph} running tmux sessions, too,
so you can take content from one session and paste it into another.</p>
<h3 id="sec.Remapping.Keys">Remapping Copy and Paste Keys</h3>
<p>If you use Vim and you&rsquo;d like to make the copy and paste command keys a
little more familiar, you can remap the keys in your configuration. For
example, you can use <code>Prefix</code>
<code>Escape</code>
to enter Copy mode, then use <code>v</code>
to start Visual mode to select your text, use <code>y</code>
to &ldquo;yank&rdquo; text into the buffer, and use <code>p</code>
to paste the text:</p>
<hr>
<p>​[ ]   bind Escape copy-mode
​[ ]   bind -t vi-copy ​*'v'<em>​ begin-selection
​[ ]   bind -t vi-copy ​</em>'y'*​ copy-selection
​[ ]   unbind p
​[ ]   bind p paste-buffer</p>
<hr>
<p>This can be a real productivity boost if you happen to do a lot of
copying and pasting between windows and panes and are already
comfortable with the keys that Vim uses.</p>
<p>[]{#part0039.xhtml}</p>
<h2 id="sec.linux.clipboard">Working with the Clipboard on Linux</h2>
<p>Using the [xclip]
utility,^<a href="/tools/tmuxbook/#part0042.xhtml#FOOTNOTE-10">[10]</a>{#part0039.xhtml#FNPTR-10
.footnote}^ you can integrate your buffers with the Linux system
clipboard so you can more easily copy and paste between programs.</p>
<p>First, you have to install [xclip]. On Ubuntu, use this
command:</p>
<hr>
<p>​[ ]   ​[$ ]​​sudo​​ ​​apt-get​​ ​​install​​ ​​xclip​</p>
<hr>
<p>Then we use tmux&rsquo;s [save-buffer] and [set-buffer]
commands with [xclip].</p>
<p>To copy the current buffer to the system clipboard, we add this command
to our [.tmux.conf]  file:</p>
<hr>
<p>​[ ]   bind C-c run ​*&quot;tmux save-buffer - | xclip -i -sel clipboard&quot;*​</p>
<hr>
<p>This configures <code>Prefix</code>
<code>Ctrl</code> -<code>c</code>
so it pipes the current buffer to [xclip].</p>
<p>So, you enter Copy mode, select your text, press <code>y</code> ,
and then press <code>Prefix</code>
<code>Ctrl</code> -<code>c</code>
to get your text on the clipboard. You can speed up the
process by binding the <code>y</code>  key to send the output to
[xclip] directly:</p>
<hr>
<p>​[ ]   bind -t vi-copy y copy-pipe ​*&quot;xclip -sel clip -i&quot;*​</p>
<hr>
<p>Now text you select and copy in Copy mode will be on your system
clipboard.</p>
<p>To paste text from the system clipboard into a tmux session, add this
line to your configuration:</p>
<hr>
<p>​[ ]   bind C-v run ​*&quot;tmux set-buffer* ​​*\&quot;<em>​​$(​xclip -o -sel clipboard​)​​</em>\&quot;<em>​​</em>; tmux paste-buffer&quot;*​</p>
<hr>
<p>This configures tmux to pull the content from [xclip] into a
new tmux buffer and then pastes it into the selected tmux window or pane
when you press <code>Prefix</code>
<code>Ctrl</code> -<code>v</code>
.</p>
<p>[]{#part0040.xhtml}</p>
<h2 id="sec.using.system.clipboards">Using OS X Clipboard Commands</h2>
<p>If you&rsquo;re a Mac user, you may be familiar with OS X&rsquo;s command-line
clipboard utilities [pbcopy] and [pbpaste]. These
simple utilities make it a snap to work with the clipboard. The
[pbcopy] command captures text to the system clipboard, and the
[pbpaste] command pastes content out. For example, you can use
[pbcopy] and [cat] together to easily put the contents
of your [.tmux.conf]  file into the clipboard so you can
paste it in an email or on the web, like this:</p>
<hr>
<p>​[ ]   ​[$ ]​​cat​​ ​​~/.tmux.conf​​ ​​|​​ ​​pbcopy​</p>
<hr>
<p>This is a pretty handy way to work with text, but tmux doesn&rsquo;t have
access to these utilities, so we can&rsquo;t use them while running inside a
tmux session. We can use a wrapper program written by Chris Johnsen to
get around this
limitation.^<a href="/tools/tmuxbook/#part0042.xhtml#FOOTNOTE-11">[11]</a>{#part0040.xhtml#FNPTR-11
.footnote}^</p>
<p>To use this wrapper script, we first install the script with Homebrew.
While you could install this from source, using Homebrew simplifies the
process:</p>
<hr>
<p>​[ ]   ​[$ ]​​brew​​ ​​install​​ ​​reattach-to-user-namespace​</p>
<hr>
<p>Then configure tmux to use the wrapper by adding this line to your
[.tmux.conf] :</p>
<hr>
<p>​[ ]   set -g default-command &quot;reattach-to-user-namespace -l /bin/bash&quot;</p>
<hr>
<p>This configures the default command that tmux uses for new windows, so
it loads the Bash shell through the wrapper script. If you use a shell
other than Bash, like Fish or zsh, you&rsquo;d specify its path or command
instead.</p>
<p>Once you reload the configuration file, you&rsquo;ll be able to use the
[pbcopy] command again. And as an added bonus, you can send the
contents of the current tmux buffer to the system clipboard:</p>
<hr>
<p>​[ ]   ​[$ ]​​tmux​​ ​​show-buffer​​ ​​|​​ ​​pbcopy​</p>
<hr>
<p>Or you can paste the clipboard contents with this:</p>
<hr>
<p>​[ ]   ​[$ ]​​tmux​​ ​​set-buffer​​ ​​$(pbpaste);​​ ​​tmux​​ ​​paste-buffer​</p>
<hr>
<p>This means that you can also create keyboard shortcuts to do this, just
like you did in <a href="/tools/tmuxbook/#part0039.xhtml#sec.linux.clipboard">​<em>Working with the Clipboard on
Linux</em>​</a>. Unfortunately, the wrapper
program we&rsquo;re using doesn&rsquo;t work with tmux&rsquo;s [run] command. The
workaround is to explicitly prefix [pbpaste] and [pbcopy]
.ic} with the wrapper script. So, to support copying the buffer to the
system clipboard, add this line to your [.tmux.conf]
file:</p>
<hr>
<p>​[ ]   bind C-c run ​*&quot;tmux save-buffer - | reattach-to-user-namespace pbcopy&quot;*​</p>
<hr>
<p>Just like with Linux, you can also configure tmux&rsquo;s Copy mode to send
the text you copy directly to the system clipboard by adding this
keybinding to your configuration:</p>
<hr>
<p>​[ ]   bind -t vi-copy y copy-pipe ​*&quot;reattach-to-user-namespace pbcopy&quot;*​</p>
<hr>
<p>Now when you select text in Copy mode and press <code>y</code> , the
text will be sent to [pbcopy] and will be on your system
clipboard, ready for use in other programs.</p>
<p>To support pasting from the system clipboard, we&rsquo;d add this longer
command, which must be [all on one line]{.emph}.</p>
<hr>
<p>​[ ]   bind C-v run ​*\<em>​
​[ ]   ​</em>&quot;tmux set-buffer* ​​*\&quot;<em>​​$(​reattach-to-user-namespace pbpaste​)​​</em>\&quot;<em>​​</em>; tmux paste-buffer&quot;*​</p>
<hr>
<p>This provides a simple solution to an otherwise fairly complex problem.</p>
<p>[]{#part0041.xhtml}</p>
<h2 id="d24e5607">What&rsquo;s Next?</h2>
<p>By using tmux paste buffers to move text around, you gain the ability to
have a clipboard in situations where you might not have one, such as
when you&rsquo;re logged into the console of a server or without a graphical
terminal. Being able to scroll back through the history of a long
console output can be a huge help. It&rsquo;s worth installing tmux directly
on your servers for that reason alone.</p>
<p>Now that you have a good understanding of how to find, copy, and paste
text, you can start working tmux into your daily routine. For many
developers, pair programming is often part of that routine. Let&rsquo;s take a
look at how to use tmux to work with another developer.</p>
<p>[]{#part0042.xhtml}</p>
<h2 id="d24e5614">For Future Reference</h2>
<h3 id="shortcut-keys">Shortcut keys</h3>
<p>Shortcut                                                                                                       Description</p>
<hr>
<p><code>Prefix</code>  <code>[</code>    Enters Copy mode.
<code>Prefix</code>  <code>]</code>    Pastes current buffer contents.
<code>Prefix</code>  <code>=</code>    Lists all paste buffers and pastes selected buffer contents.</p>
<h3 id="copy-mode-movement-keys-vi-mode">Copy mode movement keys (vi mode)</h3>
<p>Command                                                                                  Description</p>
<hr>
<p><code>h</code> , <code>j</code> , <code>k</code> , and <code>l</code>    Moves the cursor left, down, up, and right, respectively.
<code>w</code>                                                                       Moves the cursor forward one word at a time.
<code>b</code>                                                                       Moves the cursor backward one word at a time.
<code>f</code>  followed by any character                                            Moves to the next occurrence of the specified character.
<code>F</code>  followed by any character            Moves to the previous occurrence of the specified character.
<code>Ctrl</code> -<code>b</code>                Scrolls up one page.
<code>Ctrl</code> -<code>f</code>                Scrolls down one page.
<code>g</code>                                                                       Jumps to the top of the buffer.
<code>G</code>                                       Jumps to the bottom of the buffer.
<code>?</code>                                       Starts a search backward through the buffer.
<code>/</code>                                       Starts a search forward through the buffer.</p>
<h3 id="commands">Commands</h3>
<p>Command                               Description</p>
<hr>
<p>[show-buffer]                Displays current buffer contents.
[capture-pane]               Captures the selected pane&rsquo;s visible contents to a new buffer.
[list-buffers]               Lists all paste buffers.
[choose-buffer]              Shows paste buffers and pastes the contents of the one you select.
[save-buffer [filename]]   Saves the buffer&rsquo;s contents to the specified file.</p>
<p>::: footnotes</p>
<h4 id="footnotes-2">Footnotes</h4>
<dl>
<dt><a href="/tools/tmuxbook/#part0039.xhtml#FNPTR-10">[10]</a>{#part0042.xhtml#FOOTNOTE-10}</dt>
<dd>
<p><a href="http://sourceforge.net/projects/xclip/" rel="external" target="_blank">http://sourceforge.net/projects/xclip/</a></p>
</dd>
<dt><a href="/tools/tmuxbook/#part0040.xhtml#FNPTR-11">[11]</a>{#part0042.xhtml#FOOTNOTE-11}</dt>
<dd>
<p><a href="https://github.com/ChrisJohnsen/tmux-MacOSX-pasteboard" rel="external" target="_blank">https://github.com/ChrisJohnsen/tmux-MacOSX-pasteboard</a>
:::</p>
</dd>
</dl>
<p>::: {.copyright style=&quot;;color:black;&quot;}
Copyright © 2016, The Pragmatic Bookshelf.
:::</p>
<p>[]{#part0043.xhtml}</p>
<h1 id="ch.pairing" class="chapter-title">[ Chapter 5]{.chapter-number} [Pair Programming with tmux]{.chapter-name}</h1>
<p>Up until now, you&rsquo;ve been making configuration changes and learning how
to work within tmux on your own machine. But one of the most popular
uses of tmux by developers is pair programming. It was actually my first
introduction to tmux, and I immediately saw the potential as my friend
walked me through using its various features.</p>
<p>Pair programming has a lot of great benefits. Working with another
developer can help you see things you might not have seen on your own,
but unless you&rsquo;re physically in the same location, pair programming can
be somewhat difficult. Screen-sharing through iChat, Skype, or even
GoToMeeting takes up a lot of bandwidth and can be dodgy when you&rsquo;re not
using the best network connection. In this chapter, we&rsquo;ll explore using
tmux for pair programming, so you can work remotely with another
developer on even the slowest hotel Wi-Fi connection.</p>
<p>There are two ways to work with remote users. The first method involves
creating a new user account that you and others share. You set up tmux
and your development environment under that account and use it as a
shared workspace. The second approach uses tmux&rsquo;s sockets so you can
have a second user connect to your tmux session without having to share
your user account.</p>
<p>Both of these methods have an inherent security flaw: they let someone
else see things on your screen and in your account. You&rsquo;re inviting
someone in to potentially look at your files. To get around this, it&rsquo;s
wise to use an intermediate server for pairing. Using a low-cost VPS or
a virtual machine with
VirtualBox^<a href="/tools/tmuxbook/#part0049.xhtml#FOOTNOTE-12">[12]</a>{#part0043.xhtml#FNPTR-12
.footnote}^ and
Vagrant^<a href="/tools/tmuxbook/#part0049.xhtml#FOOTNOTE-13">[13]</a>{#part0043.xhtml#FNPTR-13
.footnote}^, you can quickly create a development environment for
pairing. In this chapter, we&rsquo;ll be working with a remote server as we
explore both of these approaches.</p>
<p>[]{#part0044.xhtml}</p>
<h2 id="d24e5864">Pairing with a Shared Account</h2>
<p>Using a shared account is the simplest way to work with another user. In
a nutshell, you enable SSH access on the machine that will act as the
host, install and configure tmux on that machine, and then create a tmux
session there. The second user logs into that machine with the same user
account and attaches to the session. By using SSH public keys, you can
make the login process somewhat transparent. Let&rsquo;s walk through the
setup. For this example, we&rsquo;ll use a server called [puzzles]
running Ubuntu that has the SSH daemon installed.</p>
<p>First, create a &ldquo;tmux&rdquo; user on the server. This is the user everyone
will use to connect to the pairing session. On the remote server,
execute this command:</p>
<hr>
<p>​[ ]   ​[tmux@puzzles$ ]​​adduser​​ ​​tmux​</p>
<hr>
<p>We want to configure the account so we can take SSH keys from other
developers and use them to log into this account. We do this by creating
the file [~/.ssh/authorized_keys]  under the [tmux]
.ic} account. So, use the [su] command to switch to the user:</p>
<hr>
<p>​[ ]   ​[tmux@puzzles$ ]​​su​​ ​​tmux​</p>
<hr>
<p>Then create the [.ssh]  folder and the
[.ssh/authorized_keys]  file, setting the appropriate
permissions. Only the [tmux] user should be allowed to read,
write, or execute the folder and file.</p>
<hr>
<p>​[ ]   ​[tmux@puzzles$ ]​​mkdir​​ ​​~/.ssh​
​[ ]   ​[tmux@puzzles$ ]​​touch​​ ​​~/.ssh/authorized_keys​
​[ ]   ​[tmux@puzzles$ ]​​chmod​​ ​​700​​ ​​~/.ssh​
​[ ]   ​[tmux@puzzles$ ]​​chmod​​ ​​600​​ ​​~/.ssh/authorized_keys​</p>
<hr>
<p>Each user you&rsquo;d like to connect needs a public key, which they would
generate on their local machine. To generate a key, use the command</p>
<hr>
<p>​[ ]   ​[$ ]​​ssh-keygen​</p>
<hr>
<p>and follow the prompts on the screen.</p>
<p>Then each user would transfer their public key over to the server and
add it to the [authorized_keys]  file. There are a number
of ways to do this, but the most universal approach would be to use
[cat] and [ssh] to transfer the key and append it to
[authorized_keys]  at the same time, like this:</p>
<hr>
<p>​[ ]   ​[$ ]​​cat​​ ​​~/.ssh/id_rsa.pub​​ ​​|​​ ​​ssh​​ ​​tmux@your_server​​ ​​*'cat &gt;&gt; .ssh/authorized_keys'*​</p>
<hr>
<p>You&rsquo;ll be prompted for the [tmux] user&rsquo;s password before you
can connect.</p>
<p>The command [ssh-copy-id] makes this process slightly easier.
If you install this command using your package manager on your client,
then you can transfer the key like this:</p>
<hr>
<p>​[ ]   ​[$ ]​​ssh-copy-id​​ ​​tmux@your_server​</p>
<hr>
<p>This copies the [.id_rsa.pub]  file automatically.</p>
<p>You would repeat this process for any other users you wanted to share
this account with.</p>
<p>Then on the remote server, you&rsquo;d set up tmux, text editors, compilers,
programming languages, and version control systems just like you would
on any other development environment. Then you create a new tmux session
on the server:</p>
<hr>
<p>​[ ]   ​[tmux@puzzles$ ]​​tmux​​ ​​new-session​​ ​​-s​​ ​​Pairing​</p>
<hr>
<p>Another member of your team can log in to the same machine and attach to
the session with this:</p>
<hr>
<p>​[ ]   ​[tmux@puzzles$ ]​​tmux​​ ​​attach​​ ​​-t​​ ​​Pairing​</p>
<hr>
<p>You can then work collaboratively on the project. What&rsquo;s more, you can
detach from the session and reattach to it later, which means you can
leave your environment running for days or even weeks at a time. You&rsquo;d
have a persistent development environment you can log into from anywhere
that has a terminal with SSH support.</p>
<p>[]{#part0045.xhtml}</p>
<h2 id="sec.Using.a.Shared.Account.and.Grouped.Sessions">Using a Shared Account and Grouped Sessions</h2>
<p>When two people are attached to the same tmux session, they usually both
see the same thing and interact with the same windows. But there are
times when it&rsquo;s helpful if one person can work in a different window
without completely taking over control.</p>
<p>Using &ldquo;grouped sessions,&rdquo; you can do just that. Let&rsquo;s demonstrate by
creating a new session on our remote server called [groupedsession]
.ic}.</p>
<hr>
<p>​[ ]   ​[tmux@puzzles$ ]​​tmux​​ ​​new-session​​ ​​-s​​ ​​groupedsession​</p>
<hr>
<p>Then, instead of attaching to the session, another user can join that
session by [creating a new session]{.emph} by specifying the target of
the original session [groupedsession] and then specifying their
[own]{.emph} session name, like this:</p>
<hr>
<p>​[ ]   ​[tmux@puzzles$ ]​​tmux​​ ​​new-session​​ ​​-t​​ ​​groupedsession​​ ​​-s​​ ​​mysession​</p>
<hr>
<p>When the second session launches, both users can interact with the
session at the same time, just as if the second user had attached to the
session. However, the users can create windows independent of each
other. So, if our new user creates a window, you&rsquo;ll both see the new
window show up in the status line, but you&rsquo;ll stay on the window you&rsquo;re
currently working in! This is great for those &ldquo;Hey, let me just try
something&rdquo; moments, or when one person wants to use Emacs and the other
person prefers Vim:</p>
<p>::: ss
<a href="#R-image-382956e6b3a96550bc42c3294ef13897" class="lightbox-link"><img alt="images/pairing/groupedsession.png" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/image00132.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-382956e6b3a96550bc42c3294ef13897"><img alt="images/pairing/groupedsession.png" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/image00132.jpeg"></a>{#d24e6162}
:::</p>
<p>The second user can kill off their session with [kill-session],
and the original will still exist. However, both sessions will be killed
if all windows are closed, so be careful!</p>
<p>That&rsquo;s a lot of work to go through if you just want someone to jump in
and help you out with some code. So let&rsquo;s look at a simple alternative
that takes almost no time to set up.</p>
<p>[]{#part0046.xhtml}</p>
<h2 id="d24e6171">Quickly Pairing with tmate</h2>
<p>tmate^<a href="/tools/tmuxbook/#part0049.xhtml#FOOTNOTE-14">[14]</a>{#part0046.xhtml#FNPTR-14
.footnote}^ is a fork of tmux designed to make pair programming
painless. Using tmate, you can quickly invite another developer to
collaborate. When you launch tmate, it generates an address that your
pair can use to make the connection. You don&rsquo;t have to set up any keys
or use any intermediate services. Instead, tmate&rsquo;s servers handle
tunneling the connection for you.</p>
<p>The catch is that you have to install tmate and use it instead of tmux.
But don&rsquo;t worry; it completely supports the configuration you&rsquo;ve already
built. Let&rsquo;s look at how to get it installed.</p>
<p>On Ubuntu, you can install it by adding the tmate PPA to your package
manager:</p>
<hr>
<p>​[ ]   ​[$ ]​​sudo​​ ​​apt-get​​ ​​install​​ ​​software-properties-common​
​[ ]   ​[$ ]​​sudo​​ ​​add-apt-repository​​ ​​ppa:tmate.io/archive​
​[ ]   ​[$ ]​​sudo​​ ​​apt-get​​ ​​update​​ ​​&amp;&amp;​​ ​​sudo​​ ​​apt-get​​ ​​install​​ ​​tmate​</p>
<hr>
<p>On the Mac, you can install it with Homebrew:</p>
<hr>
<p>​[ ]   ​[$ ]​​brew​​ ​​install​​ ​​tmate​</p>
<hr>
<p>Once tmate is installed, fire it up with</p>
<hr>
<p>​[ ]   ​[$ ]​​tmate​</p>
<hr>
<p>and tmate will launch, displaying the connection address in the bottom
of the window where your status line would be.</p>
<p>::: ss
<a href="#R-image-81269e271f00c937d1370337a8c2ee35" class="lightbox-link"><img alt="images/pairing/tmate.png" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/image00133.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-81269e271f00c937d1370337a8c2ee35"><img alt="images/pairing/tmate.png" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/image00133.jpeg"></a>{#d24e6280}
:::</p>
<p>Copy that address and send it to your pair, and they&rsquo;ll be able to join
you instantly. If the address disappears before you can copy it, or
you&rsquo;d like to see it again, execute the command</p>
<hr>
<p>​[ ]   ​[$ ]​​tmate​​ ​​show-messages​</p>
<hr>
<p>to view the address again, along with some other interesting details,
including a read-only address you can send to someone if you just want
to demonstrate something and don&rsquo;t want them to have any control:</p>
<hr>
<p>​[ ]   Sun Sep 25 17:46:13 2016 [tmate] Connecting to ssh.tmate.io...
​[ ]   Sun Sep 25 17:46:13 2016 [tmate] Note: clear your terminal before sharing readonly
​[ ]   access
​[ ]   Sun Sep 25 17:46:13 2016 [tmate] web session read only: https://...
​[ ]   Sun Sep 25 17:46:13 2016 [tmate] ssh session read only: ssh ...
​[ ]   Sun Sep 25 17:46:13 2016 [tmate] web session: https://...
​[ ]   Sun Sep 25 17:46:13 2016 [tmate] ssh session: ssh ...</p>
<hr>
<p>tmate supports the same commands that tmux supports, so you can create
named sessions and even script up your configurations. You can even use
it with Tmuxinator by adding the following to your Tmuxinator YAML file:</p>
<hr>
<p>​[ ]   ​<em>tmux_options</em>​: ​*-S /tmp/your_project_name_tmate_socket<em>​
​[ ]   ​</em>tmux_command<em>​: ​</em>tmate*​</p>
<hr>
<p>Since tmate creates a randomly named socket file, we just tell it not to
do that by passing the [-S] switch. Then we tell Tmuxinator
that it should use [tmate] instead of [tmux].</p>
<p>::: sidebar
::: sidebar-title
Using tmate with Your Own Servers
:::</p>
<p>::: sidebar-content
If you feel uncomfortable going through <a href="http://ssh.tmate.io" rel="external" target="_blank">http://ssh.tmate.io</a> to connect
to other sessions, you can find instructions for setting up your own
server at the tmate
website.^<a href="/tools/tmuxbook/#part0049.xhtml#FOOTNOTE-15">[15]</a>{#part0046.xhtml#FNPTR-15
.footnote}^ It provides you with the server, which you compile and
install on your own Linux server. Then you run the server and configure
client machines to use that server instead of the default service. This
may add more security, but you&rsquo;ll want to think about redundancy and
availability. For example, the [tmate.io] address resolves to
multiple backend servers, ensuring high availability. If you want to
ensure continuity, you&rsquo;ll want to configure your environment in a
similar way.
:::
:::</p>
<p>Using shared accounts or tmate is easy, but it&rsquo;s not always desirable to
share user accounts with team members or let someone remotely access
your development machine. Let&rsquo;s look at an alternative approach.</p>
<p>[]{#part0047.xhtml}</p>
<h2 id="sec.Pairing.With.Separate.Accounts.and.Sockets">Pairing with Separate Accounts and Sockets</h2>
<p>Using tmux&rsquo;s support for sockets, you can create sessions that multiple
users can connect to with ease.</p>
<p>To test this out, create two new user accounts for the session: one
called &ldquo;ted&rdquo; and another named &ldquo;barney.&rdquo;</p>
<hr>
<p>​[ ]   ​[tmux@puzzles$ ]​​sudo​​ ​​adduser​​ ​​ted​</p>
<hr>
<hr>
<p>​[ ]   ​[tmux@puzzles$ ]​​sudo​​ ​​adduser​​ ​​barney​</p>
<hr>
<p>Next, create the &ldquo;tmux&rdquo; group and the [/var/tmux]  folder
that will hold the shared sessions.</p>
<hr>
<p>​[ ]   ​[tmux@puzzles$ ]​​sudo​​ ​​addgroup​​ ​​tmux​</p>
<hr>
<hr>
<p>​[ ]   ​[tmux@puzzles$ ]​​sudo​​ ​​mkdir​​ ​​/var/tmux​</p>
<hr>
<p>Next, change the group ownership of the [/var/tmux]
folder so that the [tmux] group has access:</p>
<hr>
<p>​[ ]   ​[tmux@puzzles$ ]​​sudo​​ ​​chgrp​​ ​​tmux​​ ​​/var/tmux​</p>
<hr>
<p>Then alter the permissions on the folder so that new files will be
accessible for all members of the [tmux] group:</p>
<hr>
<p>​[ ]   ​[tmux@puzzles$ ]​​sudo​​ ​​chmod​​ ​​g+ws​​ ​​/var/tmux​</p>
<hr>
<p>Finally, add [ted] and [barney] to the tmux group.</p>
<hr>
<p>​[ ]   ​[tmux@puzzles$ ]​​sudo​​ ​​usermod​​ ​​-aG​​ ​​tmux​​ ​​ted​</p>
<hr>
<hr>
<p>​[ ]   ​[tmux@puzzles$ ]​​sudo​​ ​​usermod​​ ​​-aG​​ ​​tmux​​ ​​barney​</p>
<hr>
<p>Now let&rsquo;s look at how these users can work together on a project.</p>
<h3 id="sec.Creating.and.Sharing.Sessions">Creating and Sharing Sessions</h3>
<p>So far, you&rsquo;ve used the [new-session] command to create these
sessions, but that uses the default socket location, which won&rsquo;t be
reachable by every user. Instead of creating named sessions, we create
our sessions using the [-S] switch.</p>
<p>Log in to your server as [ted] and create a new tmux session
using a socket file in the [/var/tmux/]  folder:</p>
<hr>
<p>​[ ]   ​[ted@puzzles$ ]​​tmux​​ ​​-S​​ ​​/var/tmux/pairing​</p>
<hr>
<p>In another terminal window, log in as [barney] and then attach
to the session. But instead of specifying the target with the [-t]
.ic} switch, specify the location of the socket file, like this:</p>
<hr>
<p>​[ ]   ​[barney@puzzles$ ]​​tmux​​ ​​-S​​ ​​/var/tmux/pairing​​ ​​attach​</p>
<hr>
<p>The [barney] user now attaches to the tmux session and sees
everything that the [ted] user sees.</p>
<p>It&rsquo;s important to note that when using this approach, the
[.tmux.conf]  file used is the one that started up the
session. Having two separate accounts doesn&rsquo;t mean that each account
gets to use its own configuration files within the tmux session, but it
does mean they can customize their accounts for other purposes, and can
each initiate their own tmux session as needed. More importantly, it
keeps [barney] out of [ted]&rsquo;s home directory.</p>
<p>[]{#part0048.xhtml}</p>
<h2 id="d24e6619">What&rsquo;s Next?</h2>
<p>Now that you know how to use tmux to share your screen with others, you
can use it for remote training, impromptu collaboration on open source
projects, or even presentations.</p>
<p>In addition, you could use this technique to fire up a tmux session on
one of your production servers, load up monitoring tools or consoles,
and then detach from it, leaving those tools running in the background.
Then you simply connect to your machine, reattach to the session, and
everything is back where you left it. I do something similar with my
development environment. I set up tmux on a VPS, which lets me use
nothing more than an iPad, an SSH client, and a Bluetooth keyboard to
hack on code when I&rsquo;m away from home. It even works brilliantly over the
3G network.</p>
<p>Pair programming and working remotely are just two examples of how
incorporating tmux into your workflow can make you more productive. In
the next chapter, we&rsquo;ll look at other enhancements we can make to our
environment as we explore advanced ways to work with windows, panes, and
our system in general.</p>
<p>[]{#part0049.xhtml}</p>
<h2 id="d24e6628">For Future Reference</h2>
<p>Command                                                                                        Description</p>
<hr>
<p>[tmux new-session -t ][[existing session]][ -s [new session]]   Creates a connection to a grouped session.
[tmux show-messages]                                                                  Displays a log of messages in the current window, useful for debugging.
[tmux -S [socket]]                                                                  Creates a new session using a socket instead of a name.
[tmux -S [socket] attach]                                                           Attaches to an existing session using a socket instead of a name.</p>
<p>::: footnotes</p>
<h4 id="footnotes-3">Footnotes</h4>
<dl>
<dt><a href="/tools/tmuxbook/#part0043.xhtml#FNPTR-12">[12]</a>{#part0049.xhtml#FOOTNOTE-12}</dt>
<dd>
<p><a href="https://www.virtualbox.org/" rel="external" target="_blank">https://www.virtualbox.org/</a></p>
</dd>
<dt><a href="/tools/tmuxbook/#part0043.xhtml#FNPTR-13">[13]</a>{#part0049.xhtml#FOOTNOTE-13}</dt>
<dd>
<p><a href="https://www.vagrantup.com/docs/getting-started/" rel="external" target="_blank">https://www.vagrantup.com/docs/getting-started/</a></p>
</dd>
<dt><a href="/tools/tmuxbook/#part0046.xhtml#FNPTR-14">[14]</a>{#part0049.xhtml#FOOTNOTE-14}</dt>
<dd>
<p><a href="https://tmate.io/" rel="external" target="_blank">https://tmate.io/</a></p>
</dd>
<dt><a href="/tools/tmuxbook/#part0046.xhtml#FNPTR-15">[15]</a>{#part0049.xhtml#FOOTNOTE-15}</dt>
<dd>
<p><a href="https://tmate.io/" rel="external" target="_blank">https://tmate.io/</a>
:::</p>
</dd>
</dl>
<p>::: {.copyright style=&quot;;color:black;&quot;}
Copyright © 2016, The Pragmatic Bookshelf.
:::</p>
<p>[]{#part0050.xhtml}</p>
<h1 id="ch.workflows" class="chapter-title">[ Chapter 6]{.chapter-number} [Workflows]{.chapter-name}</h1>
<p>By itself, tmux is just another terminal with a few bells and whistles
that let us display...more terminal sessions. But tmux makes it easier
to work with the programs we run in those sessions, so this chapter will
explore some common, and uncommon, configurations and commands that you
may find useful in your day-to-day work. You&rsquo;ll see some advanced ways
to manage your panes and sessions, how to make tmux work with your shell
of choice, how to extend tmux commands with external scripts, and how to
create keybindings that execute several commands. Let&rsquo;s start with
windows and panes.</p>
<p>[]{#part0051.xhtml}</p>
<h2 id="d24e6684">Working Effectively with Panes and Windows</h2>
<p>Throughout this book, you&rsquo;ve seen ways to divide up your tmux sessions
into panes and windows. In this section, we&rsquo;ll look at more advanced
ways to work with those panes and windows.</p>
<h3 id="sec.Turning.a.Pane.into.a.Window">Turning a Pane into a Window</h3>
<p>Panes are great for dividing up a workspace, but sometimes you might
want to &ldquo;pop out&rdquo; a pane into its own window. tmux has a command to do
just that.</p>
<p>Inside any pane, press <code>Prefix</code>
<code>!</code>
and tmux will create a new window from
your pane, removing the original pane.</p>
<h3 id="sec.Turning.a.Window.Into.A.Pane">Turning a Window into a Pane</h3>
<p>Occasionally, it&rsquo;s nice to consolidate a workspace. You can easily take
a window and turn it into a pane. To do this, issue the [join-pane]
.ic} command.</p>
<p>Try it out. Create a new tmux session with two windows.</p>
<hr>
<p>​[ ]   ​[$ ]​​tmux​​ ​​new-session​​ ​​-s​​ ​​panes​​ ​​-n​​ ​​first​​ ​​-d​
​[ ]   ​[$ ]​​tmux​​ ​​new-window​​ ​​-t​​ ​​panes​​ ​​-n​​ ​​second​
​[ ]   ​[$ ]​​tmux​​ ​​attach​​ ​​-t​​ ​​panes​</p>
<hr>
<p>Now, to move the first window into a pane in the second window, press
<code>Prefix</code>  <code>:</code>
.keystroke  to enter Command mode, and
type this:</p>
<p>[join-pane -s panes:1]</p>
<p>This means &ldquo;Take window 1 of the [panes] session and join it to
the current window,&rdquo; since we did not specify a target. When you &ldquo;join&rdquo;
a pane, you&rsquo;re essentially moving a pane from one session to another.
You specify the source window and pane, followed by the target window
and pane. If you leave the target off, the current focused window
becomes the target.</p>
<p>You can use this technique to move panes around as well. If your first
window had two panes, you could specify the source pane like this,
keeping in mind that you set the window and pane base indexes to [1]
.ic} instead of [0] back in Chapter 2, <a href="/tools/tmuxbook/#part0023.xhtml#ch.config">​<em>Configuring
tmux</em>​</a>.</p>
<p>[join-pane -s panes:1.1]</p>
<p>This command grabs the first pane of the first window and joins it to
the current window.</p>
<p>To take it a step further, you can specify a different source session,
using the notation [[session_name]:[window].[pane]], and
you can specify a target window using the [-t] flag using the
same notation. This lets you pull panes from one session into another.</p>
<h3 id="maximizing-and-restoring-panes">Maximizing and Restoring Panes</h3>
<p>Sometimes you just want a pane to go full-screen for a bit so you can
see its contents or work in a more focused way. You could use the
[break-pane] command. But then you&rsquo;d have to use
[join-pane] to put it back where it was. But there&rsquo;s a better
way. The [resize-pane] command accepts the [-Z] option
for zooming a pane. Best of all, it&rsquo;s already mapped to <code>Prefix</code>
.keystroke  <code>z</code> , and
pressing it again restores the pane to its original size.</p>
<h3 id="launching-commands-in-panes">Launching Commands in Panes</h3>
<p>In Chapter 3, <a href="/tools/tmuxbook/#part0030.xhtml#ch.scripting">​<em>Scripting Customized tmux
Environments</em>​</a>, we explored how to use
shell commands and [send-keys] to launch programs in our panes,
but we can execute commands automatically when we launch a window or a
pane.</p>
<p>We have two servers, [burns] and [smithers], which run
our web server and database server, respectively. When we start up tmux,
we want to connect to these servers using a single window with two
panes.</p>
<p>Let&rsquo;s create a new script called [servers.sh]  and create
one session connecting to two servers:</p>
<p>​[ ]   ​[$ ]​​tmux​​ ​​new-session​​ ​​-s​​ ​​servers​​ ​​-d​​ ​​*&quot;ssh deploy@burns&quot;<em>​
​[ ]   ​[$ ]​​tmux​​ ​​split-window​​ ​​-v​​ ​​</em>&quot;ssh dba@smithers&quot;*​
​[ ]   ​[$ ]​​tmux​​ ​​attach​​ ​​-t​​ ​​servers​</p>
<p>When we create a new session, we can pass the command we want to execute
as the last argument. In our case, we fire off the new session and
connect to [burns] in the first window, and we detach the
session. Then we divide the window using a vertical split and then
connect to [smithers].</p>
<p>This configuration has a handy side effect: when we log off of our
remote servers, the pane or window will close.</p>
<h3 id="opening-a-pane-in-the-current-directory">Opening a Pane in the Current Directory</h3>
<p>When you open a new pane, tmux places you in the directory where you
originally launched tmux. Sometimes that&rsquo;s exactly what you want, but if
you navigated into another directory, you might want to create a new
pane that starts in that directory instead.</p>
<p>You can use the [pane_current_path] variable provided by tmux
when creating a new pane. Open Command mode and execute</p>
<p>​[ ]   split-window -v -c ​*&quot;#{pane_current_path}&quot;*​</p>
<p>This splits the window horizontally, but opens the new terminal session
in the same working directory as the current pane or window.</p>
<p>You can add this to your configuration file to make this easy. Instead
of changing the existing bindings for splits, add new ones so you can
choose the behavior you&rsquo;d like:</p>
<p>​[ ]   ​*# split pane and retain the current directory of existing pane<em>​
​[ ]   bind _ split-window -v -c ​</em>&quot;#{pane_current_path}&quot;<em>​
​[ ]   bind ​</em>\* ​split-window -h -c ​*&quot;#{pane_current_path}&quot;*​</p>
<p>This configures things so that <code>Prefix</code>
<code>_</code>
splits the window horizontally and
<code>Prefix</code>  <code>/</code>
.keystroke  splits the window
vertically.</p>
<h3 id="issuing-commands-in-many-panes-simultaneously">Issuing Commands in Many Panes Simultaneously</h3>
<p>Every once in a while, you might need to execute the same command in
multiple panes. You might need to run the same update script on two
servers, for example. You can do this easily with tmux.</p>
<p>Using the command [set-window-option synchronize-panes on],
anything you type in one pane will be immediately broadcast to the other
panes in the current session. Once you&rsquo;ve issued the command, you can
turn it off with [set-window-option synchronize-panes off].</p>
<p>To make this easier to do, you can map this to <code>Prefix</code>
<code>Ctrl</code>
-<code>s</code> , like this:</p>
<p>​[ ]   ​*# shortcut for synchronize-panes toggle*​
​[ ]   bind C-s set-window-option synchronize-panes</p>
<p>By not specifying the [off] or [on] option, the
[synchronize-panes] command acts as a toggle. While this isn&rsquo;t
something you&rsquo;ll use very often, it&rsquo;s amazingly handy when you need it.</p>
<h2 id="managing-sessions">Managing Sessions</h2>
<p>As you get more comfortable with tmux, you may find yourself using more
than one tmux session simultaneously. For example, you may fire up
unique tmux sessions for each application you&rsquo;re working on so you can
keep the environments contained. There are some great tmux features to
make managing these sessions painless.</p>
<h3 id="moving-between-sessions">Moving Between Sessions</h3>
<p>All tmux sessions on a single machine route through a single server.
That means you can move effortlessly between your sessions from a single
client.</p>
<p>Let&rsquo;s try this out. Start two detached tmux sessions, one named
&ldquo;editor,&rdquo; which launches Vim, and the other running the [top]
command, called &ldquo;processes&rdquo;:</p>
<p>​[ ]   ​[$ ]​​tmux​​ ​​new​​ ​​-s​​ ​​editor​​ ​​-d​​ ​​vim​
​[ ]   ​[$ ]​​tmux​​ ​​new​​ ​​-s​​ ​​processes​​ ​​-d​​ ​​top​</p>
<p>Connect to the &ldquo;editor&rdquo; session with</p>
<p>​[ ]   ​[$ ]​​tmux​​ ​​attach​​ ​​-t​​ ​​editor​</p>
<p>and then press <code>Prefix</code>
<code>(</code>  to go to the
previous session and <code>Prefix</code>
<code>)</code>
to move to the next session.</p>
<p>You can also use <code>Prefix</code>
<code>s</code>  to display a list
of sessions, so you can quickly navigate between sessions:</p>
<p><a href="#R-image-8d0e8875e5789cb014ba9888f9d23cde" class="lightbox-link"><img alt="images/workflows/sessions.png" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/image00134.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8d0e8875e5789cb014ba9888f9d23cde"><img alt="images/workflows/sessions.png" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/image00134.jpeg"></a>
You can use the <code>j</code>  and <code>k</code>  keys to move
up and down if you&rsquo;ve configured tmux to use Vim-like movement, and you
can press <code>Space</code>  to
expand a session so you can jump to a specific window or pane.</p>
<p>You can add custom keybindings for this to your [.tmux.conf]
.filename} file by binding keys to the [switch-client] command.
The default configuration looks like this:</p>
<p>​[ ]   bind ( switch-client -p
​[ ]   bind ) switch-client -n</p>
<p>If you&rsquo;ve set up multiple workspaces, this is an extremely efficient way
to move around your environments, without detaching and reattaching.</p>
<h3 id="moving-windows-between-sessions">Moving Windows Between Sessions</h3>
<p>You can move a window from one session to another. This is handy in case
you&rsquo;ve started up a process in one environment and want to move it
around or want to consolidate your workspaces.</p>
<p>The [move-window] command is mapped to <code>Prefix</code>
<code>.</code>
(the period), so you can bring up the
window you want to move, press the key combination, and then type the
name of the target session.</p>
<p>To try this out, create two sessions, with the names &ldquo;editor&rdquo; and
&ldquo;processes,&rdquo; running [vim] and [top] respectively:</p>
<p>​[ ]   ​[$ ]​​tmux​​ ​​new​​ ​​-s​​ ​​editor​​ ​​-d​​ ​​vim​
​[ ]   ​[$ ]​​tmux​​ ​​new​​ ​​-s​​ ​​processes​​ ​​-d​​ ​​top​</p>
<p>Let&rsquo;s move the window in the &ldquo;processes&rdquo; session into the &ldquo;editor&rdquo;
session.</p>
<p>First, attach to the &ldquo;processes&rdquo; session with this:</p>
<p>​[ ]   ​[$ ]​​tmux​​ ​​attach​​ ​​-t​​ ​​processes​</p>
<p>Then, press <code>Prefix</code>
<code>.</code>  and type &ldquo;editor&rdquo; in
the command line that appears.</p>
<p>This removes the only window in the &ldquo;processes&rdquo; session, causing it to
close. If you attach to the &ldquo;editor&rdquo; session, you&rsquo;ll see both windows.</p>
<p>You can use shell commands to do this, too, so you don&rsquo;t need to
consolidate things by opening sessions. To do that, use
[move-window], like this:</p>
<p>​[ ]   ​[$ ]​​tmux​​ ​​move-window​​ ​​-s​​ ​​processes:1​​ ​​-t​​ ​​editor​</p>
<p>This moves the first window of the &ldquo;processes&rdquo; session to the &ldquo;editor&rdquo;
session.</p>
<h3 id="creating-or-attaching-to-existing-sessions">Creating or Attaching to Existing Sessions</h3>
<p>So far, we&rsquo;ve always taken the approach of creating new tmux sessions
whenever we want to work. However, we can actually detect if a tmux
session exists and connect to it if it does.</p>
<p>The [has-session] command returns a Boolean value that we can
use in a shell script. That means we can do something like this in a
Bash script:</p>
<p>​[ ]   ​if​ ! tmux has-session -t development; ​then​
​[ ]   ​​exec tmux new-session -s development -d
​[ ]   ​*# other setup commands before attaching.&hellip;*​
​[ ]   ​fi​
​[ ]   exec tmux attach -t development</p>
<p>If you modify the script to take an argument, you can use this to create
a single script that you can use to connect to or create any tmux
session.</p>
<h2 id="tmux-and-your-operating-system">tmux and Your Operating System</h2>
<p>As tmux becomes part of your workflow, you may want to integrate it more
tightly with your operating system. In this section, you&rsquo;ll discover
ways to make tmux and your system work well together.</p>
<h3 id="sec.Using.A.Different.Shell">Using a Different Shell</h3>
<p>In this book, we&rsquo;ve used the Bash shell, but if you&rsquo;re a fan of
[zsh], you can still get all the tmux goodness.</p>
<p>Just explicitly set the default shell in [.tmux.conf]
like this:</p>
<p>​[ ]   set -g default-shell /bin/zsh</p>
<p>Since tmux is just a terminal multiplexer and not a shell of its own,
you just specify exactly what to run when it starts.</p>
<h3 id="launching-tmux-by-default">Launching tmux by Default</h3>
<p>You can configure your system to launch tmux automatically when you open
a terminal. And using what you know about session names, you can create
a new session if one doesn&rsquo;t exist, or attach to one that does.</p>
<p>When tmux is running, it sets the [TERM] variable to &ldquo;screen&rdquo;
or the value of the [default-terminal] setting in the
configuration file. You can use this value in your [.bashrc]
.filename} (or [.bash_profile]  on macOS) file to
determine whether or not you&rsquo;re currently in a tmux session. You set
your tmux terminal to &ldquo;screen-256color&rdquo; back in Chapter 2, <a href="/tools/tmuxbook/#part0023.xhtml#ch.config">​<em>Configuring
tmux</em>​</a>, so you could use that to detect if
tmux is actually running.</p>
<p>For example, you could add these lines to the end of your [.bashrc]
.ic} file:</p>
<p>​[ ]   ​if​ [[ ​*&quot;<em>​$TERM​</em>&quot;<em>​ != ​</em>&quot;screen-256color&quot;<em>​ ]]
​[ ]   ​then​
​[ ]   ​​tmux attach-session -t ​</em>&quot;<em>​$USER​</em>&quot;<em>​ || tmux new-session -s ​</em>&quot;<em>​$USER​</em>&quot;*​
​[ ]   ​fi​</p>
<p>This first checks that you&rsquo;re not already in a tmux session. If that&rsquo;s
the case, it attempts to attach to a session with a session name of
[$USER], which is your username. You can replace this with any
value you want, but using the username helps avoid conflicts.</p>
<p>If the session doesn&rsquo;t exist, tmux will throw an error that the shell
script can interpret as a [false] value. It can then run the
right side of the expression, which creates a new session with your
username as the session&rsquo;s name. It then exits out of the script.</p>
<p>When the tmux session starts up, it will run through our [.bashrc]
.filename} or [.bash_profile]  file again, but this time
it will see that we&rsquo;re in a tmux session, skip over this chunk of code,
and execute the rest of the commands in our configuration file, ensuring
that all our environment variables are set for us.</p>
<p>Now every time you open a new terminal, you&rsquo;ll be in a tmux session. Be
careful, though, since each time you open a new terminal session on your
machine, it will be attached to the same session. Exiting tmux in one
terminal will exit tmux in all of them.</p>
<h3 id="keeping-specific-configuration-separate">Keeping Specific Configuration Separate</h3>
<p>In Chapter 4, <a href="/tools/tmuxbook/#part0036.xhtml#ch.buffers">​<em>Working With Text and
Buffers</em>​</a>, you learned how to make tmux work
with the OS X and Linux system clipboards, and this involved adding some
specific configuration options to your [.tmux.conf]  file.
But if you wanted your configuration to work on both operating systems,
you&rsquo;d run into some conflicts.</p>
<p>The solution is to move your OS-specific configuration into a separate
file and then tell tmux to load it up by using tmux&rsquo;s [if-shell]
.ic} command and the [source] command.</p>
<p>Try it out. Create a new file called [.tmux.mac.conf]  in
your home directory:</p>
<p>​[ ]   ​[$ ]​​touch​​ ​​~/.tmux.mac.conf​</p>
<p>In that file, put all the code to make the Mac&rsquo;s clipboard work with
tmux:</p>
<p>​[ ]   ​*# Setting the namespace<em>​
​[ ]   set -g default-command ​</em>&quot;reattach-to-user-namespace -l /bin/bash&quot;<em>​
​[ ]<br>
​[ ]   ​</em># Prefix C-c copy buffer to system clipboard<em>​
​[ ]   bind C-c run ​</em>&quot;tmux save-buffer - | reattach-to-user-namespace pbcopy&quot;<em>​
​[ ]<br>
​[ ]   ​</em># Prefix C-v paste system clipboard into tmux<em>​
​[ ]   bind C-v run \
​[ ]   ​</em>&quot;tmux set-buffer \&quot;<em>​$(reattach-to-user-namespace pbpaste)\​</em>&quot;; tmux paste-buffer&quot;<em>​
​[ ]<br>
​[ ]   ​</em># use y in visual mode to copy text to system clipboard<em>​
​[ ]   bind -t vi-copy y copy-pipe ​</em>&quot;reattach-to-user-namespace pbcopy&quot;*​</p>
<hr>
<p>Then open [.tmux.conf]  and remove any lines related to OS
X if you&rsquo;ve put them in. Then add this to the end of the file:</p>
<p>​[ ]   ​*# Load mac-specific settings<em>​
​[ ]   ​if​-shell ​</em>&quot;uname | grep -q Darwin&quot;<em>​ ​</em>&quot;source-file ~/.tmux.mac.conf&quot;*​</p>
<p>The [if-shell] command runs a shell command, and if it was
successful, it executes the step. In this case, we tell tmux to run the
[uname] command and use [grep] to see if it contains
the word &ldquo;Darwin.&rdquo; If it does, it&rsquo;s a safe bet we&rsquo;re on a Mac, so we
load the configuration file.</p>
<p>You could use a similar approach to load an additional bit of
configuration only if it exists. For example, you may want to share your
main [.tmux.conf]  file with the world on GitHub, but you
may want to keep some of your own secret sauce private. So move all of
those tricks into [.tmux.private] , and add this to your
[.tmux.conf]  file:</p>
<p>​[ ]   ​*# load private settings if they exist<em>​
​[ ]   ​if​-shell ​</em>&quot;[ -f ~/.tmux.private]&quot;<em>​ ​</em>&quot;source ~/.tmux.private&quot;*​</p>
<p>This will only load the file if it exists.</p>
<h3 id="recording-program-output-to-a-log">Recording Program Output to a Log</h3>
<p>Sometimes it&rsquo;s useful to be able to capture the output of a terminal
session to a log. You already learned how to use [capture-pane]
and [save-buffer] to do this, but tmux can actually record the
activity in a pane right to a text file with the [pipe-pane]
command. This is similar to the [script] command available in
many shells, except that with [pipe-pane], you can toggle it on
and off at will, and you can start it after a program is already
running.</p>
<p>To activate this, enter Command mode and type [pipe-pane -o &quot;cat &gt;&gt;
mylog.txt&quot;].</p>
<p>You can use the [-o] flag to toggle the output, which means if
you send the exact command again, you can turn the logging off. To make
it easier to execute this command, add this to your configuration script
as a shortcut key.</p>
<p>​[ ]   ​*# Log output to a text file on demand<em>​
​[ ]   bind P pipe-pane -o ​</em>&quot;cat &gt;&gt;~/#W.log&quot;<em>​ ​</em>\;<em>​ display ​</em>&quot;Toggled logging to ~/#W.log&quot;*​</p>
<p>Now you can press <code>Prefix</code>
<code>P</code>
to toggle logging. Thanks to the
[display] command (short for [display-message]),
you&rsquo;ll see the name of the log file displayed in the status line. The
[display] command has access to the same variables as the
status line, which you learned about in Table 1, <a href="/tools/tmuxbook/#part0027.xhtml#fig.status.line.variables">​<em>Status Line
Variables</em>​</a>.</p>
<h3 id="adding-battery-life-to-the-status-line">Adding Battery Life to the Status Line</h3>
<p>If you use tmux on a laptop, you may want to show the remaining battery
life in your status line, especially if you run your terminal in
full-screen mode. It turns out that this is a simple thing to add thanks
to the [#(shell-command)] variable.</p>
<p>Let&rsquo;s add the battery status to our configuration file. Grab a shell
script that can fetch the remaining battery charge and display it to the
screen. We&rsquo;ll place this in a file called [battery]  in
our home folder and tell tmux to run it for us.</p>
<p>First, download the file:</p>
<hr>
<p>​[ ]   ​[$ ]​​wget​​ ​​--no-check-certificate​​ ​​\​
​[ ]   ​https://raw.github.com/richo/battery/master/bin/battery​</p>
<hr>
<p>You can also find the [battery]  script in the book&rsquo;s
source code downloads.</p>
<p>Now make it executable so tmux can use it:</p>
<hr>
<p>​[ ]   ​[$ ]​​chmod​​ ​​+x​​ ​​~/battery​</p>
<hr>
<p>Test it out by running</p>
<hr>
<p>​[ ]   ​[$ ]​​~/battery​​ ​​Discharging​</p>
<hr>
<p>If you&rsquo;re running this on a laptop without the power cord plugged in,
you&rsquo;ll see the percentage left on the battery.</p>
<p>We can get tmux to display the output of any command-line program in its
status bar by using [#(&lt;command&gt;)]. So, to display the
battery in front of the clock, change the [status-right] line
in [.tmux.conf]  to this:</p>
<hr>
<p>​[ ]   ​*# Status line right side - 50% | 31 Oct 13:37<em>​
​[ ]   set -g status-right ​</em>&quot;#(~/battery Discharging) | #[fg=cyan]%d %b %R&quot;*​</p>
<hr>
<p>Now, when you reload the [.tmux.conf]  file, the battery
status indicator will appear.</p>
<p><a href="#R-image-597bd2829fe18cb753adf88e81040c78" class="lightbox-link"><img alt="images/workflows/battery.png" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="images/image00135.jpeg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-597bd2829fe18cb753adf88e81040c78"><img alt="images/workflows/battery.png" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="images/image00135.jpeg"></a></p>
<p>To get battery status when it&rsquo;s charging, you&rsquo;ll need to execute the
command</p>
<hr>
<p>​[ ]   ​[$ ]​​~/battery​​ ​​Charging​</p>
<hr>
<p>and work that into the status line. I&rsquo;ll leave that up to you.</p>
<p>You can use this approach to customize your status line further. You&rsquo;d
simply need to write your own script that returns the value you want to
display, and then drop it into the status line.</p>
<h3 id="integrating-seamlessly-with-vim">Integrating Seamlessly with Vim</h3>
<p>The Vim text editor works pretty well with tmux, but developer Mislav
Marohni[ć]{style=&quot;&quot;} developed a solution that lets you move between
tmux panes and Vim splits seamlessly. To make this work, you&rsquo;ll need to
install Chris Toomey&rsquo;s vim-tmux-navigator plugin for
Vim^<a href="/tools/tmuxbook/#part0056.xhtml#FOOTNOTE-16">[16]</a>{#part0053.xhtml#FNPTR-16
.footnote}^ and add some keybindings to your [.tmux.conf]
file.</p>
<p>This setup will create the following keybindings:</p>
<ul>
<li>
<p><code>Ctrl</code> -<code>j</code>
moves up</p>
</li>
<li>
<p><code>Ctrl</code> -<code>k</code>
moves down</p>
</li>
<li>
<p><code>Ctrl</code> -<code>h</code>
moves left</p>
</li>
<li>
<p><code>Ctrl</code> -<code>l</code>
moves right</p>
</li>
</ul>
<p>If you&rsquo;re in tmux and you move into Vim, then the Vim plugin will take
over. If you&rsquo;re in Vim and you move to tmux, then tmux will take over.
Instead of having to learn two sets of commands to navigate, you just
have one. To set this up, install the Vim plugin using Vundle by adding
this to your [.vimrc] file:</p>
<hr>
<p>​[ ]   Plugin 'christoomey/vim-tmux-navigator'</p>
<hr>
<p>Then save your [.vimrc]  file and run</p>
<hr>
<p>​[ ]   :PluginInstall</p>
<hr>
<p>in Vim to install the plugin.</p>
<p>Then in [.tmux.conf] , add these lines:</p>
<hr>
<p>​[ ]   is_vim=​*&quot;ps -o state= -o comm= -t '#{pane_tty}'* ​​*\<em>​
​[ ]   ​</em>| grep -iqE '^[^TXZ ]+ +(<em>​​</em>\\<em>​​</em>S+<em>​​</em>\\<em>​​</em>/)?g?(view|n?vim?x?)(diff)?<em>​$'​</em>&quot;<em>​
​[ ]   bind-key -n C-h ​if​-shell ​</em>&quot;<em>​$is_vim​</em>&quot;<em>​ ​</em>&quot;send-keys C-h&quot;<em>​ ​</em>&quot;select-pane -L&quot;<em>​
​[ ]   bind-key -n C-j ​if​-shell ​</em>&quot;<em>​$is_vim​</em>&quot;<em>​ ​</em>&quot;send-keys C-j&quot;<em>​ ​</em>&quot;select-pane -D&quot;<em>​
​[ ]   bind-key -n C-k ​if​-shell ​</em>&quot;<em>​$is_vim​</em>&quot;<em>​ ​</em>&quot;send-keys C-k&quot;<em>​ ​</em>&quot;select-pane -U&quot;<em>​
​[ ]   bind-key -n C-l ​if​-shell ​</em>&quot;<em>​$is_vim​</em>&quot;<em>​ ​</em>&quot;send-keys C-l&quot;<em>​ ​</em>&quot;select-pane -R&quot;<em>​
​[ ]   bind-key -n C-​</em>\* ​​if​-shell ​*&quot;<em>​$is_vim​</em>&quot;<em>​ ​</em>&quot;send-keys C-<em>​​</em>\\<em>​​</em>&quot;<em>​ ​</em>&quot;select-pane -l&quot;<em>​
​[ ]<br>
​[ ]   bind C-l send-keys ​</em>'C-l'*​</p>
<hr>
<p><code>Ctrl</code> -<code>l</code>
is the keybinding used by the [readline] library in
many shells for clearing the screen. The last line of this configuration
sets up <code>Prefix</code>
<code>Ctrl</code> -<code>l</code>
to issue that command instead.</p>
<h2 id="extending-tmux-with-plugins">Extending tmux with Plugins</h2>
<p>So far, we&rsquo;ve made modifications directly to the tmux configuration
file. While that works, it can be a little awkward when doing something
more complex. Bruno Sutic developed a solution to this called TPM, the
tmux plugin manager. Since then, more and more people have come together
to build plugins to extend tmux. Let&rsquo;s use TPM to install the incredibly
useful [tmux-resurrect]
.ic}^<a href="/tools/tmuxbook/#part0056.xhtml#FOOTNOTE-17">[17]</a>{#part0054.xhtml#FNPTR-17
.footnote}^ plugin, which can restore tmux sessions even after a reboot!</p>
<p>To set it up, first clone the repository into a folder called
[~/.tmux/plugins/tpm] :</p>
<hr>
<p>​[ ]   ​[$ ]​​git​​ ​​clone​​ ​​https://github.com/tmux-plugins/tpm​​ ​​~/.tmux/plugins/tpm​</p>
<hr>
<p>Then add these lines to your [.tmux.conf]  file:</p>
<hr>
<p>​[ ]   set -g @plugin ​*'tmux-plugins/tpm'<em>​
​[ ]   set -g @plugin ​</em>'tmux-plugins/tmux-resurrect'<em>​
​[ ]   run ​</em>'~/.tmux/plugins/tpm/tpm'*​</p>
<hr>
<p>First we list TPM itself, followed by the [tmux-resurrect]
plugin. Then we load TPM so it can load other plugins. Save this file
and reload your configuration. Then press <code>Prefix</code>
<code>I</code>
to install the plugin. You&rsquo;ll see this
output in tmux:</p>
<hr>
<p>​[ ]   Already installed &quot;tpm&quot;
​[ ]<br>
​[ ]   Installing &quot;tmux-resurrect&quot;
​[ ]   &quot;tmux-resurrect&quot; download success
​[ ]<br>
​[ ]   TMUX environment reloaded.
​[ ]<br>
​[ ]   Done, press ENTER to continue.</p>
<hr>
<p>Now test out the [tmux-resurrect] program. Open a couple more
panes, and then press <code>Prefix</code>
<code>Ctrl</code>
-<code>s</code>  to save the state
of the tmux session. Then close all of the panes and exit tmux. Finally,
reload tmux and press <code>Prefix</code>
<code>Ctrl</code>
-<code>r</code>  to restore the
session you saved. All of your panes will come back!</p>
<p>Visit the list of tmux
plugins^ and find one you&rsquo;d like to install. You&rsquo;ll find one for the
batter meter we set up, another for OS-specific clipboards, and even one with sensible configuration options.</p>
<h2 id="whats-next-1">What&rsquo;s Next?</h2>
<p>There&rsquo;s so much more you can do with tmux now that you know the basics
and you&rsquo;ve had some experience playing around with various
configurations. The tmux manual, which you can access from your terminal
with</p>
<hr>
<p>​[ ]   ​[$ ]​​man​​ ​​tmux​</p>
<hr>
<p>has the complete list of configuration options and available commands.</p>
<p>And don&rsquo;t forget that tmux itself is rapidly evolving. The next version
will bring new configuration options, which will give you even more
flexibility.</p>
<p>As you integrate tmux into your workflow, you may discover other
techniques you start to rely on. For example, you can use tmux and a
text-based editor on a remote server to create an incredibly effective
development environment that you can use to collaborate with another
developer. You can even use irssi (a terminal-based IRC client) and
Alpine (a terminal-based email app) within your tmux sessions, either
alongside of your text editor in a pane, or in background windows. Then
you can detach from the session and come back to it later, with your
entire environment ready to go.</p>
<p>Keep working with tmux and before you know it, it&rsquo;ll be an indispensable
part of your workflow.</p>
<h2 id="for-future-reference-1">For Future Reference</h2>
<p>Command                                                                                                        Description</p>
<hr>
<p><code>Prefix</code>  <code>!</code>    Converts the currently selected pane into a new window.
[join-pane -s [session]:[window].[pane]]                                                        Converts the specified session&rsquo;s window or pane into a pane in the current window.
[join-pane -s [session]:[window].[pane] -t [other session]]                                   Converts the specified session&rsquo;s window or pane into a pane in the target session.
<code>Prefix</code>  <code>z</code>                                    Zooms the current pane, making it full screen. Pressing it again restores the pane to its original size.
[tmux new-session &quot;[command]&quot;]                                                                    Launches tmux and executes a command. When the command completes, the tmux session closes.
[split-pane &quot;[command]&quot;]                                                                          Splits the current window and executes the specified command in the new pane. When the command completes, the pane closes.
[split-window -c ][&quot;#{pane_current_path}&quot;]                                                 Splits the pane and sets the working directory of the new pane to the current working directory of the focused pane.
[set-window-option synchronize-panes]                                                                 Toggles pane synchronization, where keystrokes are issued to all panes simultaneously instead of only the current pane.
<code>Prefix</code>  <code>(</code>    Moves to the next tmux session.
<code>Prefix</code>  <code>)</code>    Moves to the previous tmux session.
<code>Prefix</code>  <code>s</code>                                    Shows the session selection list.
[move-window -s [source session]:][[window] -t [target session] ]                      Moves a window from one session to another. Also available with <code>Prefix</code>  <code>.</code> , followed by the target session name.
[set -g default-shell [shell]]                                                                      Sets the default shell that tmux uses when creating new windows.
[set -g default-command [command]]                                                                  Sets the default command that tmux uses when creating new windows. Blank by default.
[if-shell &quot;[condition]&quot; &quot;[command]&quot;]                                                          Performs a given [command]{.emph} if the [condition]{.emph} evaluates to [true].
[ pipe-pane -o &quot;cat &gt;&gt;~/#W.log&quot;]                                                                 Records the current pane to a text file.</p>
<p><a href="https://github.com/christoomey/vim-tmux-navigator" rel="external" target="_blank">https://github.com/christoomey/vim-tmux-navigator</a>
<a href="https://github.com/tmux-plugins/tmux-resurrect" rel="external" target="_blank">https://github.com/tmux-plugins/tmux-resurrect</a>
<a href="https://github.com/tmux-plugins" rel="external" target="_blank">https://github.com/tmux-plugins</a></p>
<h1 id="appendix-1-our-configuration">Appendix 1 Our Configuration</h1>
<p>Throughout the book, we&rsquo;ve built up a somewhat complex [.tmux.conf]
.filename} file. Here&rsquo;s the entire file for your reference.</p>
<p>​[ ]   ​*# Setting the prefix from C-b to C-a<em>​
​[ ]   set -g prefix C-a
​[ ]   ​</em>#<em>​
​[ ]   ​</em># Free the original Ctrl-b prefix keybinding<em>​
​[ ]   unbind C-b
​[ ]   ​</em>#<em>​
​[ ]   ​</em>#setting the delay between prefix and command<em>​
​[ ]   set -s escape-time 1
​[ ]   ​</em>#<em>​
​[ ]   ​</em># Ensure that we can send Ctrl-A to other apps<em>​
​[ ]   bind C-a send-prefix
​[ ]<br>
​[ ]   ​</em># Set the base index for windows to 1 instead of 0<em>​
​[ ]   set -g base-index 1
​[ ]<br>
​[ ]   ​</em># Set the base index for panes to 1 instead of 0<em>​
​[ ]   setw -g pane-base-index 1
​[ ]<br>
​[ ]   ​</em># Reload the file with Prefix r<em>​
​[ ]   bind r source-file ~/.tmux.conf ​</em>\;<em>​ display ​</em>&quot;Reloaded!&quot;<em>​
​[ ]<br>
​[ ]   ​</em># splitting panes with | and -<em>​
​[ ]   bind | split-window -h
​[ ]   bind - split-window -v
​[ ]<br>
​[ ]   ​</em># moving between panes with Prefix h,j,k,l*​
​[ ]   bind h ​select​-pane -L
​[ ]   bind j ​select​-pane -D
​[ ]   bind k ​select​-pane -U
​[ ]   bind l ​select​-pane -R</p>
<hr>
<hr>
<p>​[ ]   ​*# Quick window selection<em>​
​[ ]   bind -r C-h ​select​-window -t :-
​[ ]   bind -r C-l ​select​-window -t :+
​[ ]<br>
​[ ]   ​</em># Pane resizing panes with Prefix H,J,K,L<em>​
​[ ]   bind -r H resize-pane -L 5
​[ ]   bind -r J resize-pane -D 5
​[ ]   bind -r K resize-pane -U 5
​[ ]   bind -r L resize-pane -R 5
​[ ]<br>
​[ ]   ​</em># mouse support - set to on if you want to use the mouse<em>​
​[ ]   set -g mouse off
​[ ]<br>
​[ ]   ​</em># Set the default terminal mode to 256color mode<em>​
​[ ]   set -g default-terminal ​</em>&quot;screen-256color&quot;<em>​
​[ ]<br>
​[ ]   ​</em># set the status line's colors<em>​
​[ ]   set -g status-style fg=white,bg=black
​[ ]<br>
​[ ]   ​</em># set the color of the window list<em>​
​[ ]   setw -g window-status-style fg=cyan,bg=black
​[ ]<br>
​[ ]   ​</em># set colors for the active window<em>​
​[ ]   setw -g window-status-current-style fg=white,bold,bg=red
​[ ]<br>
​[ ]   ​</em># colors for pane borders<em>​
​[ ]   setw -g pane-border-style fg=green,bg=black
​[ ]   setw -g pane-border-active-style fg=white,bg=yellow
​[ ]<br>
​[ ]   ​</em># active pane normal, other shaded out<em>​
​[ ]   setw -g window-style fg=colour240,bg=colour235
​[ ]   setw -g window-active-style fg=white,bg=black
​[ ]<br>
​[ ]   ​</em># Command / message line<em>​
​[ ]   setw -g message-style fg=white,bold,bg=black
​[ ]<br>
​[ ]   ​</em># Status line left side to show Session:window:pane<em>​
​[ ]   set -g status-left-length 40
​[ ]   set -g status-left ​</em>&quot;#[fg=green]Session: #S #[fg=yellow]#I #[fg=cyan]#P&quot;<em>​
​[ ]<br>
​[ ]   ​</em># Status line right side - 50% | 31 Oct 13:37<em>​
​[ ]   set -g status-right ​</em>&quot;#(~/battery Discharging) | #[fg=cyan]%d %b %R&quot;<em>​
​[ ]<br>
​[ ]   ​</em># Update the status line every sixty seconds<em>​
​[ ]   set -g status-interval 60
​[ ]<br>
​[ ]   ​</em># Center the window list in the status line<em>​
​[ ]   set -g status-justify centre
​[ ]<br>
​[ ]   ​</em># enable activity alerts<em>​
​[ ]   setw -g monitor-activity on
​[ ]   set -g visual-activity on
​[ ]<br>
​[ ]   ​</em># enable vi keys.<em>​
​[ ]   setw -g mode-keys vi
​[ ]<br>
​[ ]   ​</em># shortcut for synchronize-panes toggle<em>​
​[ ]   bind C-s set-window-option synchronize-panes
​[ ]<br>
​[ ]   ​</em># split pane and retain the current directory of existing pane<em>​
​[ ]   bind _ split-window -v -c ​</em>&quot;#{pane_current_path}&quot;<em>​
​[ ]   bind ​</em>\* ​split-window -h -c ​*&quot;#{pane_current_path}&quot;<em>​
​[ ]<br>
​[ ]   ​</em># Log output to a text file on demand<em>​
​[ ]   bind P pipe-pane -o ​</em>&quot;cat &gt;&gt;~/#W.log&quot;<em>​ ​</em>\;<em>​ display ​</em>&quot;Toggled logging to ~/#W.log&quot;<em>​
​[ ]   ​</em>#<em>​
​[ ]   ​</em># Load mac-specific settings<em>​
​[ ]   ​if​-shell ​</em>&quot;uname | grep -q Darwin&quot;<em>​ ​</em>&quot;source-file ~/.tmux.mac.conf&quot;<em>​
​[ ]<br>
​[ ]   ​</em># load private settings if they exist<em>​
​[ ]   ​if​-shell ​</em>&quot;[ -f ~/.tmux.private]&quot;<em>​ ​</em>&quot;source ~/.tmux.private&quot;<em>​
​[ ]<br>
​[ ]   is_vim=​</em>&quot;ps -o state= -o comm= -t '#{pane_tty}'* ​​*\<em>​
​[ ]   ​</em>| grep -iqE '^[^TXZ ]+ +(<em>​​</em>\\<em>​​</em>S+<em>​​</em>\\<em>​​</em>/)?g?(view|n?vim?x?)(diff)?<em>​$'​</em>&quot;<em>​
​[ ]   bind-key -n C-h ​if​-shell ​</em>&quot;<em>​$is_vim​</em>&quot;<em>​ ​</em>&quot;send-keys C-h&quot;<em>​ ​</em>&quot;select-pane -L&quot;<em>​
​[ ]   bind-key -n C-j ​if​-shell ​</em>&quot;<em>​$is_vim​</em>&quot;<em>​ ​</em>&quot;send-keys C-j&quot;<em>​ ​</em>&quot;select-pane -D&quot;<em>​
​[ ]   bind-key -n C-k ​if​-shell ​</em>&quot;<em>​$is_vim​</em>&quot;<em>​ ​</em>&quot;send-keys C-k&quot;<em>​ ​</em>&quot;select-pane -U&quot;<em>​
​[ ]   bind-key -n C-l ​if​-shell ​</em>&quot;<em>​$is_vim​</em>&quot;<em>​ ​</em>&quot;send-keys C-l&quot;<em>​ ​</em>&quot;select-pane -R&quot;<em>​
​[ ]   bind-key -n C-​</em>\* ​​if​-shell ​*&quot;<em>​$is_vim​</em>&quot;<em>​ ​</em>&quot;send-keys C-<em>​​</em>\\<em>​​</em>&quot;<em>​ ​</em>&quot;select-pane -l&quot;<em>​
​[ ]<br>
​[ ]   bind C-l send-keys ​</em>'C-l'<em>​
​[ ]<br>
​[ ]   set -g @plugin ​</em>'tmux-plugins/tpm'<em>​
​[ ]   set -g @plugin ​</em>'tmux-plugins/tmux-resurrect'<em>​
​[ ]   run ​</em>'~/.tmux/plugins/tpm/tpm'*​</p>

            <footer class="footline">
            </footer>
          </article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation showVisitedLinks">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
<img src="/images/V.png" alt="perfect dark mode">

        </div>

        <search>
          <div class="searchbox default-animation">
            <i class="fas fa-search" title="Search (CTRL+ALT+f)"></i>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </search>
        <script>
          var contentLangs=['en'];
        </script>
        <script src="/js/auto-complete.js?1718935575" defer></script>
        <script src="/js/lunr/lunr.min.js?1718935575" defer></script>
        <script src="/js/lunr/lunr.stemmer.support.min.js?1718935575" defer></script>
        <script src="/js/lunr/lunr.multi.min.js?1718935575" defer></script>
        <script src="/js/lunr/lunr.en.min.js?1718935575" defer></script>
        <script src="/js/search.js?1718935575" defer></script>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <ul>
          <li><a class="padding" href="/"><i class="fa-fw fas fa-home"></i> Home</a></li>
        </ul>
        <hr class="padding">
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div id="R-topics">
          <ul class="enlarge morespace collapsible-menu">
          <li data-nav-id="/linux/" class=""><a class="padding" href="/linux/">Linux<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/networking/" class=""><a class="padding" href="/networking/">Networking<i class="fa-fw fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/tools/" class="parent "><a class="padding" href="/tools/">Tools<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-cff67d57e00d6d598d882def3568f700" class="morespace collapsible-menu">
          <li data-nav-id="/tools/tmuxbook/" class="active"><a class="padding" href="/tools/tmuxbook/"><i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/writing/" class=""><a class="padding" href="/writing/">Writing<i class="fa-fw fas fa-check read-icon"></i></a></li>
          </ul>
        </div>
        <div id="R-shortcuts">
          <div class="nav-title padding">More</div>
          <ul class="space">
            <li><a class="padding" href="https://github.com/perfectdarkmode1"><i class='fab fa-fw fa-github'></i> GitHub</a></li>
          </ul>
        </div>
        <div class="padding footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter"></div>
        <div id="R-menu-footer">
          <hr class="padding default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter">
          <div id="R-prefooter" class="footerLangSwitch footerVariantSwitch footerVisitedLinks showVisitedLinks">
            <ul>
              <li id="R-select-language-container" class="footerLangSwitch">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-language"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <label class="a11y-only" for="R-select-language">Language</label>
                    <select id="R-select-language" onchange="location = this.querySelector( this.value ).dataset.url;">
                      <option id="R-select-language-en" value="#R-select-language-en" data-url="/tools/tmuxbook/" lang="en-us" selected></option>
                    </select>
                  </div>
                  <div class="clear"></div>
                </div>
              </li>
              <li id="R-select-variant-container" class="footerVariantSwitch">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-paint-brush"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <label class="a11y-only" for="R-select-variant">Theme</label>
                    <select id="R-select-variant" onchange="window.variants && variants.changeVariant( this.value );">
                      <option id="R-select-variant-amoled" value="amoled" selected>Amoled</option>
                    </select>
                  </div>
                  <div class="clear"></div>
                </div>
                <script>window.variants && variants.markSelectedVariant();</script>
              </li>
              <li class="footerVisitedLinks showVisitedLinks">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-history"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <button onclick="clearHistory();">Clear History</button>
                  </div>
                  <div class="clear"></div>
                </div>
              </li>
            </ul>
          </div>
          <div id="R-footer" class="footerFooter showFooter">
	    <p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn" title="love"><i class="fas fa-heart"></i></a> by <a href="https://gohugo.io/">Hugo</a></p>
          </div>
        </div>
      </div>
    </aside>
    <script src="/js/clipboard.min.js?1718935575" defer></script>
    <script src="/js/perfect-scrollbar.min.js?1718935575" defer></script>
    <script>
      function useMathJax( config ){
        window.MathJax = Object.assign( window.MathJax || {}, {
          tex: {
            inlineMath:  [['\\(', '\\)'], ['$',  '$']],  
            displayMath: [['\\[', '\\]'], ['$$', '$$']], 
          },
          options: {
            enableMenu: false 
          }
        }, config );
      }
      useMathJax( JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="/js/d3/d3-color.min.js?1718935575" defer></script>
    <script src="/js/d3/d3-dispatch.min.js?1718935575" defer></script>
    <script src="/js/d3/d3-drag.min.js?1718935575" defer></script>
    <script src="/js/d3/d3-ease.min.js?1718935575" defer></script>
    <script src="/js/d3/d3-interpolate.min.js?1718935575" defer></script>
    <script src="/js/d3/d3-selection.min.js?1718935575" defer></script>
    <script src="/js/d3/d3-timer.min.js?1718935575" defer></script>
    <script src="/js/d3/d3-transition.min.js?1718935575" defer></script>
    <script src="/js/d3/d3-zoom.min.js?1718935575" defer></script>
    <script src="/js/js-yaml.min.js?1718935575" defer></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js" defer></script>
    <script>
      window.themeUseMermaid = JSON.parse("{ \"theme\": \"default\" }");
    </script>
    <script src="/js/theme.js?1718935575" defer></script>
  </body>
</html>
