<!DOCTYPE html>
<html lang="en-us" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.124.1">
    <meta name="generator" content="Relearn 5.26.2+tip">
    <meta name="description" content="Linux, Tech, Open Source Software, Privacy">
    <meta name="author" content="David">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Tools - Perfect Dark Mode">
    <meta name="twitter:description" content="Linux, Tech, Open Source Software, Privacy">
    <meta property="og:title" content="Tools - Perfect Dark Mode">
    <meta property="og:description" content="Linux, Tech, Open Source Software, Privacy">
    <meta property="og:type" content="website">
    <meta property="og:url" content="http://perfectdarkmode.com/tools/">
    <meta property="og:site_name" content="Perfect Dark Mode">
    <title>Tools - Perfect Dark Mode</title>
    <link href="http://perfectdarkmode.com/tools/" rel="canonical" type="text/html" title="Tools - Perfect Dark Mode">
    <link href="/tools/index.xml" rel="alternate" type="application/rss+xml" title="Tools - Perfect Dark Mode">
    <link href="/images/favicon.png?1712315598" rel="icon" type="image/png">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="/css/fontawesome-all.min.css?1712315599" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fontawesome-all.min.css?1712315599" rel="stylesheet"></noscript>
    <link href="/css/nucleus.css?1712315599" rel="stylesheet">
    <link href="/css/auto-complete.css?1712315599" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/auto-complete.css?1712315599" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar.min.css?1712315599" rel="stylesheet">
    <link href="/css/fonts.css?1712315599" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fonts.css?1712315599" rel="stylesheet"></noscript>
    <link href="/css/theme.css?1712315599" rel="stylesheet">
    <link href="/css/theme-git.css?1712315599" rel="stylesheet" id="R-variant-style">
    <link href="/css/chroma-relearn-dark.css?1712315599" rel="stylesheet" id="R-variant-chroma-style">
    <link href="/css/variant.css?1712315599" rel="stylesheet">
    <link href="/css/print.css?1712315599" rel="stylesheet" media="print">
    <link href="/css/format-print.css?1712315599" rel="stylesheet">
    <link href="/css/ie.css?1712315599" rel="stylesheet">
    <script src="/js/url.js?1712315599"></script>
    <script src="/js/variant.js?1712315599"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..';
      window.relearn.relBaseUri='..';
      window.relearn.absBaseUri='http:\/\/perfectdarkmode.com';
      window.index_js_url="/index.search.js";
      // variant stuff
      window.relearn.themeVariantModifier='';
      window.variants && variants.init( [ 'git' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>
  </head>
  <body class="mobile-support print" data-url="/tools/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-back" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="history.back()" type="button" title=""><i class="fa-fw fas fa-chevron-left"></i></button>
            </div>



          </div>
          <span class="topbar-breadcrumbs highlightable">
            Tools
          </span>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-about" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="https://perfectdarkmode.com/about/" target="_blank" title=""><i class="fa-fw fas fa-address-card"></i> <span class="title">About</span></a>
            </div>
            <div class="topbar-button topbar-button-now" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="https://perfectdarkmode.com/now/" target="_blank" title=""><i class="fa-fw fas fa-play"></i> <span class="title">Now</span></a>
            </div>
            <div class="topbar-button topbar-button-recommended" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="https://perfectdarkmode.com/recommended/" target="_blank" title=""><i class="fa-fw fas fa-thumbs-up"></i> <span class="title">Recommended</span></a>
            </div>
            <div class="topbar-button topbar-button-booknotes" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="https://perfectdarkmode.com/booknotes/" target="_blank" title=""><i class="fa-fw fas fa-file"></i> <span class="title">Book Notes</span></a>
            </div>
            <div class="topbar-button topbar-button-contact" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="https://perfectdarkmode.com/contact/" target="_blank" title=""><i class="fa-fw fas fa-envelope"></i> <span class="title">Contact</span></a>
            </div>






          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable chapter narrow" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">Chapter 4</div>
<h1 id="tools">Tools</h1>

<h2 id="upcoming-projects">Upcoming Projects:</h2>
<h3 id="searx">Searx</h3>
<p>Create my own searx search engine</p>
<p>go to <a href="https://searx.space/" target="_blank">https://searx.space/</a></p>
<h3 id="rss">RSS</h3>
<p>Create and RSS feed of my site and subscribe to other feeds.</p>
<p>Follow these sites:</p>
<p><a href="https://denshi.org/" target="_blank">https://denshi.org/</a>
<a href="https://drewdevault.com/" target="_blank">https://drewdevault.com/</a>
<a href="https://opensourcemusings.com/support" target="_blank">https://opensourcemusings.com/support</a>
<a href="https://www.mrmoneymustache.com/" target="_blank">https://www.mrmoneymustache.com/</a></p>
<h3 id="dwm-tile-manager">DWM Tile Manager</h3>
<p><a href="http://thedarnedestthing.com/vim/wiki%20cheatsheet" target="_blank">http://thedarnedestthing.com/vim/wiki%20cheatsheet</a></p>
<p>[[../Security/firefox_hardening]]</p>
<h3 id="browser-sync">Browser Sync</h3>
<p><a href="https://www.xbrowsersync.org/" target="_blank">https://www.xbrowsersync.org/</a></p>
<h3 id="privacy-tools">Privacy tools</h3>
<p><a href="https://www.privacytools.io/" target="_blank">https://www.privacytools.io/</a></p>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Tools</h1>
          <article class="default">
            <header class="headline">
            </header>
<h1 id="calibre-server">Calibre Server</h1>

<p>Install Calibre and Rsync</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>apt install -y calibre rsync</span></span></code></pre></div><p>Make a directory for your library</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>mkdir /opt/calibre</span></span></code></pre></div><p>Either upload your existing library using <code>rsync</code>. For example to <code>/opt/calibre/</code>.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#ff5c57">cd</span> ~/Documents
</span></span><span style="display:flex;"><span>rsync -avuP your-library-dir root@example.org:/opt/calibre/</span></span></code></pre></div><p>Add a new user to protect your server:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>calibre-server --manage-users</span></span></code></pre></div><p>/var/www/nextcloud/data/david/files/Documents/Calibre</p>
<h2 id="creating-a-service">Creating a service</h2>
<p>Create a new file <code>/etc/systemd/system/calibre-server.service</code> and add the following:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-systemd" data-lang="systemd"><span style="display:flex;"><span><span style="color:#ff6ac1">[Unit]</span>
</span></span><span style="display:flex;"><span><span style="color:#57c7ff">Description</span><span style="color:#ff6ac1">=</span><span style="color:#5af78e">Calibre library server</span>
</span></span><span style="display:flex;"><span><span style="color:#57c7ff">After</span><span style="color:#ff6ac1">=</span><span style="color:#5af78e">network.target</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">[Service]</span>
</span></span><span style="display:flex;"><span><span style="color:#57c7ff">Type</span><span style="color:#ff6ac1">=</span><span style="color:#5af78e">simple</span>
</span></span><span style="display:flex;"><span><span style="color:#57c7ff">User</span><span style="color:#ff6ac1">=</span><span style="color:#5af78e">root</span>
</span></span><span style="display:flex;"><span><span style="color:#57c7ff">Group</span><span style="color:#ff6ac1">=</span><span style="color:#5af78e">root</span>
</span></span><span style="display:flex;"><span><span style="color:#57c7ff">ExecStart</span><span style="color:#ff6ac1">=</span><span style="color:#5af78e">/usr/bin/calibre-server --enable-auth --enable-local-write /opt/calibre/your_library --listen-on 127.0.0.1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff6ac1">[Install]</span>
</span></span><span style="display:flex;"><span><span style="color:#57c7ff">WantedBy</span><span style="color:#ff6ac1">=</span><span style="color:#5af78e">multi-user.target</span></span></span></code></pre></div><p>You can change the port with the <code>--port</code> prefix. Additional information <code>man calibre-server</code>.</p>
<p>Issue <code>systemctl daemon-reload</code> to apply the changes.</p>
<p>Enable and start the service.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>systemctl <span style="color:#ff5c57">enable</span> calibre-server
</span></span><span style="display:flex;"><span>systemctl start calibre-server</span></span></code></pre></div><h2 id="a-reverse-proxy-with-nginx">A reverse proxy with Nginx</h2>
<p>Create a new file <code>/etc/nginx/sites-available/calibre</code> and enter the following:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nginx" data-lang="nginx"><span style="display:flex;"><span><span style="color:#ff6ac1">server</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">listen</span> <span style="color:#ff9f43">80</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">client_max_body_size</span> <span style="color:#5af78e">64M</span>; <span style="color:#78787e"># to upload large books
</span></span></span><span style="display:flex;"><span><span style="color:#78787e"></span>    <span style="color:#ff6ac1">server_name</span> <span style="color:#5af78e">calibre.example.org</span> ;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff6ac1">location</span> <span style="color:#5af78e">/</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#ff6ac1">proxy_pass</span> <span style="color:#5af78e">http://127.0.0.1:8080</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Enable the site</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>ln -s /etc/nginx/sites-available/calibre /etc/nginx/sites-enabled
</span></span><span style="display:flex;"><span>systemctl reload nginx</span></span></code></pre></div><p>Issue a Let&rsquo;s Encrypt certificate. <a href="https://landchad.net/certbot" target="_blank">Detailed instructions and additional information</a>.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>certbot --nginx</span></span></code></pre></div><p>Add CNAME record</p>
<p>Now just go to <strong>calibre.example.org</strong>. The server will request an username and a password.</p>
<p><a href="#R-image-0ff01ea846374eaf2e5f6841faae92df" class="lightbox-link"><img alt="calibre" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="https://landchad.net/pix/calibre/calibre-1.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0ff01ea846374eaf2e5f6841faae92df"><img alt="calibre" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="https://landchad.net/pix/calibre/calibre-1.png"></a></p>
<p>After login you will see something like this.</p>
<p><a href="#R-image-84ce040c6d9957f177f684d270a9f5e4" class="lightbox-link"><img alt="calibre" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="https://landchad.net/pix/calibre/calibre-2.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-84ce040c6d9957f177f684d270a9f5e4"><img alt="calibre" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="https://landchad.net/pix/calibre/calibre-2.png"></a></p>
<p>De DRM Books</p>
<p>Download kindle verion 1.26 <a href="https://www.filehorse.com/download-kindle-for-pc/40502/download/" target="_blank">https://www.filehorse.com/download-kindle-for-pc/40502/download/</a></p>
<p>filename: KindleForPC-installer-1.26.55076.exe<br>
SHA-256: c9d104c4aad027a89ab92a521b7d64bdee422136cf562f8879 f0af96abd74511
Found here: <a href="https://www.mobileread.com/forums/showthread.php?t=283371" target="_blank">https://www.mobileread.com/forums/showthread.php?t=283371</a></p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#ff5c57">cd</span> ~/Dowloads
</span></span><span style="display:flex;"><span>shasum -a <span style="color:#ff9f43">256</span> KindleForPC-installer-1.26.55076.exe
</span></span><span style="display:flex;"><span>c9d104c4aad027a89ab92a521b7d64bdee422136cf562f8879f0af96abd74511  KindleForPC-installer-1.26.55076.exe</span></span></code></pre></div><p>Make sure the hash matches the above.</p>
<p>Install it with Wine</p>
<p>Bypass crash on startup</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>mkdir -p <span style="color:#ff5c57">$WINEPREFIX</span>/drive_c/users/<span style="color:#ff5c57">$USER</span>/AppData/Local/Amazon/Kindle/crashdump</span></span></code></pre></div><p>Install</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="distrobox-guide">Distrobox Guide</h1>

<p>Github: <a href="https://github.com/89luca89/distrobox" target="_blank">https://github.com/89luca89/distrobox</a></p>
<p>Run native containers that have access to the host file system
Creates an app launcher icon for the container</p>
<p>Launch gui apps from other distros natively. Even without spinning up the container first</p>
<p>Make separate shortcuts for separate distros in the terminal</p>
<p>Make a profile in the terminal for the container:</p>
<p>`distrobox-enter &ndash;name ubuntu-20</p>
<p>Make sure to check the box &ldquo;run a custom command instead of my shell&rdquo;</p>
<p>Then set a custom shortcut in your OS to that terminal profile
<code>gnome-terminal --profile=ubuntu</code></p>
<h2 id="how-to-install">How to Install</h2>
<p><code>curl -s https://raw.githubusercontent.com/89luca89/distrobox/main/install | sudo sh</code></p>
<p>or</p>
<p><code>sudo dnf -y install distrobox</code></p>
<p>You can find a list of container distros here: <a href="https://github.com/89luca89/distrobox/blob/main/docs/compatibility.md#host-distros" target="_blank">https://github.com/89luca89/distrobox/blob/main/docs/compatibility.md#host-distros</a></p>
<h2 id="commands">Commands</h2>
<h3 id="create-a-container">Create a container</h3>
<p><code>distrobox create --name aur --image archlinux</code> or
<code>distrobox-create --name archlinux --image docker.io/library/archlinux</code> or
<code>distrobox create -n ubuntu -i ubuntu:20.04</code></p>
<h3 id="additional-options">Additional Options</h3>
<p>&ndash;nvidia
- add your host nvidia drivers</p>
<p>&ndash;additional-packages {package-name}
- install additional packages</p>
<h3 id="enter-the-container">Enter the container</h3>
<p><code>distrobox enter aur</code></p>
<h3 id="add-app-from-another-distro-to-your-app-launcher-application-menu">Add app from another distro to your app launcher/ application menu</h3>
<p>`distrobox-export &ndash;app app-name</p>
<h3 id="create-a-gui-app">Create a GUI app</h3>
<p><code>distrobox-export --app {appname}</code></p>
<p>Create a temporary container
distrobox-ephemeral &ndash;image archlinux</p>
<p>Create a container for testing server distros
<code>distrobox create --image almalinux:latest</code></p>
<p>Create an arm container</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>distrobox create -i aarch64/fedora -n fedora-arm64
distrobox enter fedora-arm64</code></pre></div><p>Add distro to your display manager to boot into the distribution</p>
<p><a href="https://cloudyday.tech.blog/2022/05/14/distrobox-is-awesome/" target="_blank">https://cloudyday.tech.blog/2022/05/14/distrobox-is-awesome/</a>
<a href="https://github.com/89luca89/distrobox/blob/main/docs/posts/run_latest_gnome_kde_on_distrobox.md" target="_blank">https://github.com/89luca89/distrobox/blob/main/docs/posts/run_latest_gnome_kde_on_distrobox.md</a></p>
<h2 id="setting-up-a-fedora-distrobox-in-ublue">Setting up a fedora distrobox in ublue</h2>
<p>To create a Fedora 38 Distrobox, run:</p>
<p><code>distrobox create --image registry.fedoraproject.org/fedora-toolbox:38 --name fedora</code></p>
<p>Enter the box:
<code>distrobox enter fedora</code></p>
<p>To create an Ubuntu 22.04 Distrobox, run:</p>
<p><code>distrobox create --image docker.io/library/ubuntu:22.04 --name ubuntu</code></p>
<p>To create an Arch Linux Distrobox, run:</p>
<p><code>distrobox create --image docker.io/library/archlinux:latest --name arch</code></p>
<p>To create an Debian Linux Distrobox, run:</p>
<p><code>distrobox create --image docker.io/library/debian:latest --name debian</code></p>
<p><a href="https://distrobox.privatedns.org/compatibility/#containers-distros" target="_blank">List of tested container images</a>.</p>
<p>When choosing an image for your container, consider which package manager and repos you want to use (e.g. <code>apt</code> vs. <code>pacman</code>), and pick one that you’re most comfortable with!</p>
<h2 id="exporting-programs-from-distrobox">Exporting programs from Distrobox</h2>
<p>You can export a GUI program (for example, <code>mpv</code>) by running the following from <strong>inside the Distrobox</strong>:</p>
<p><code>distrobox-export --app mpv</code></p>
<p>You can also export a binary or CLI program (for example, <code>vim</code>) by running the following from <strong>inside the Distrobox</strong>. You need to provide an export path and know where the original binary exists in the Distrobox’s filesystem. An easy way to find out is running <code>which vim</code> (replace <code>vim</code> with the name of the binary you want to export). The export command will create a shell script that runs the specified binary from inside the Distrobox.</p>
<p><code>distrobox-export --bin /usr/bin/vim --export-path ~/.local/bin</code></p>
<p><a href="https://distrobox.privatedns.org/usage/distrobox-export/" target="_blank">Read more in the Distrobox documentation about <code>distrobox-export</code></a></p>
<h2 id="integrating-vscode-with-distrobox">Integrating VSCode with Distrobox</h2>
<p>There are two ways to integrate VSCode with a Distrobox.<br>
The easiest way is to just install it inside your Distrobox and <code>distrobox-export</code> it. The integrated terminal and all addons will then be run inside that single Distrobox. The other way is with <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers" target="_blank">the Dev Containers extension</a>.<br>
Both ways are detailed inside <a href="https://distrobox.privatedns.org/posts/integrate_vscode_distrobox/" target="_blank">the official Distrobox tutorial for integrating with VSCode</a></p>
<h2 id="using-the-hostsxdg-openinside-distrobox">Using the host’s <code>xdg-open</code> inside Distrobox</h2>
<p>Some GUI programs use <code>xdg-open</code> to open URLs, but it doesn’t work when running your browser on the host.<br>
You can fix this by adding the following shell script to your <code>~/.local/bin/</code> and giving it executable permissions.</p>
<p><code>#!/bin/bash if [ ! -e /run/.containerenv ] &amp;&amp; [ ! -e /.dockerenv ]; then # if not inside a container     /usr/bin/xdg-open &quot;$@&quot; # run xdg-open normally else     distrobox-host-exec /usr/bin/xdg-open &quot;$@&quot; # run xdg-open on the host fi</code></p>
<p>If you have <code>xdg-open</code> installed inside the Distrobox, you need to make sure that <code>~/.local/bin/</code> is in your <code>$PATH</code> before <code>/usr/bin/</code>.</p>
<h2 id="immutable-distros">Immutable distros</h2>
<p>Apps do not get root access to your o not get root access to your system.</p>
<h2 id="cloud-native-client">Cloud native client</h2>
<p>/usr is read only parts of the disk
Able to roll back after updates</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="fedora-silverblue">Fedora Silverblue</h1>

<p>Automated setup <a href="https://universal-blue.org/" target="_blank">https://universal-blue.org/</a></p>
<p>You get all the benefits of using containers
Separates system level packages from applications.</p>
<p>System Level</p>
<ul>
<li>Desktop, kernel?</li>
<li>Layering
<ul>
<li>Apps at system level because containers aren&rsquo;t as developed yet</li>
<li>Locks to the fedora version you are on</li>
</ul>
</li>
</ul>
<h2 id="layered-package-examples">Layered package examples</h2>
<pre><code>- gnome shell extensions
- distrobox
</code></pre>
<p><a href="#R-image-6d4dc99e78bda36620848e6668689294" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="/tools/silverblue/tech/tools/Obsidian/Archive/Attachments/Pasted%20image%2020230718045403.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6d4dc99e78bda36620848e6668689294"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="/tools/silverblue/tech/tools/Obsidian/Archive/Attachments/Pasted%20image%2020230718045403.png"></a></p>
<p>Uses rpm-ostree? <a href="https://coreos.github.io/rpm-ostree/administrator-handbook/" target="_blank">https://coreos.github.io/rpm-ostree/administrator-handbook/</a></p>
<p>Flatpacks</p>
<p>Remove fedora flatpack stuff and use flathub repos instead <a href="https://flatpak.org/setup/Fedora" target="_blank">https://flatpak.org/setup/Fedora</a></p>
<p>Systemd unit for automatic flatpack updates</p>
<p><a href="#R-image-490c9b36b0861d05309924d3ee6681ee" class="lightbox-link"><img class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="/tools/silverblue/tech/tools/Obsidian/Archive/Attachments/Pasted%20image%2020230718045927.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-490c9b36b0861d05309924d3ee6681ee"><img class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="/tools/silverblue/tech/tools/Obsidian/Archive/Attachments/Pasted%20image%2020230718045927.png"></a></p>
<p>Update every 4 hours to mirror ubuntu</p>
<p>flatseal
adjust permissions of flatpacks</p>
<p>check out apps.gnome.org</p>
<h2 id="rebase-into-universal-blue">Rebase into Universal Blue</h2>
<p>Rebase onto the &ldquo;unsigned&rdquo; image then reboot:
<code>rpm-ostree rebase ostree-unverified-registry:ghcr.io/ublue-os/silverblue-main:39</code> and</p>
<p>Then the signed image and reboot:
<code>rpm-ostree rebase ostree-image-signed:docker://ghcr.io/ublue-os/silverblue-main:39</code></p>
<p>Then do we you do after install, open the app store and install stuff via GUI or we</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="github-pages-with-hugo">Github Pages with Hugo</h1>

<p>Go through quick setup here: <a href="https://pages.github.com/" target="_blank">https://pages.github.com/</a></p>
<p>Hugo Setup: <a href="https://gohugo.io/hosting-and-deployment/hosting-on-github/" target="_blank">https://gohugo.io/hosting-and-deployment/hosting-on-github/</a></p>
<p>Here&rsquo;s how to set up a free website using Github pages and Hugo. You can add a custom domain name using <a href="https://www.cloudflare.com/" target="_blank">Cloudflare</a> for about $10 per year.</p>
<p>The general steps include:</p>
<ol>
<li>Create a Github repository for your site.</li>
<li>Change your pages settings.</li>
<li>Build the repo into a Hugo site.</li>
<li>Add DNS records for a custom domain.</li>
<li></li>
</ol>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="migrating-away-from-iphone">Migrating Away from Iphone</h1>

<h2 id="convert-mov-to-mp4">Convert .MOV to MP4</h2>
<p>All .MOV files in  a folder</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>for f in *.MOV; do ffmpeg -i $f $f.mp4; done</code></pre></div><p>More info at Techwalla <a href="https://www.techwalla.com/articles/how-to-convert-mov-to-mp4-with-ffmpeg-on-linux" target="_blank">https://www.techwalla.com/articles/how-to-convert-mov-to-mp4-with-ffmpeg-on-linux</a></p>
<h2 id="convert-heic-to-jpg">Convert .HEIC to .jpg</h2>
<p>Fedora Install</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>sudo dnf install -y https://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm
sudo dnf install libheif
sudo dnf install libheif-tools</code></pre></div><p>Convert all .HEIC files</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>for f in *.HEIC; do heif-convert -q 100 $f $f.jpg; done</code></pre></div><p>See <a href="https://linuxnightly.com/convert-heif-images-to-jpg-or-png-on-linux/" target="_blank">https://linuxnightly.com/convert-heif-images-to-jpg-or-png-on-linux/</a> for more options.</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="nextcloud-guide">Nextcloud Guide</h1>

<p>This is a step-by-step guide to setting up Nextcloud on a Debian server. You will need a server hosted by a VPS like Vultr. And a Domain hosted by a DNS provider such as Cloudflare</p>
<h3 id="what-is-nextcloud">What is Nextcloud?</h3>
<p>Nextcloud is so many things. It offers so many features and options, it deserves a bulleted list:</p>
<ul>
<li>Free and open source</li>
<li>Cloud storage and syncing</li>
<li>Email client</li>
<li>Custom browser dashboard with widgets</li>
<li>Office suite</li>
<li>RSS newsfeed</li>
<li>Project organization (deck)</li>
<li>Notebook</li>
<li>Calender</li>
<li>Task manager</li>
<li>Connect to decentralized social media (like Mastodon)</li>
<li>Replacement for all of google&rsquo;s services</li>
<li>Create web forms or surveys</li>
</ul>
<p>It is also free and open source. This mean the source code is available to all. And hosting yourself means you can guarantee that your data isn&rsquo;t being shared.</p>
<p>As you can see. Nextcloud is feature packed and offers an all in one solution for many needs. The set up is fairly simple!</p>
<h3 id="install-dependencies">Install Dependencies</h3>
<div class="highlight wrap-code"><pre tabindex="0"><code>sudo apt update </code></pre></div><h4 id="sury-dependencies">Sury Dependencies</h4>
<div class="highlight wrap-code"><pre tabindex="0"><code>sudo apt install software-properties-common ca-certificates lsb-release apt-transport-https </code></pre></div><h4 id="enable-sury-repository">Enable Sury Repository</h4>
<div class="highlight wrap-code"><pre tabindex="0"><code>sudo sh -c &#39;echo &#34;deb https://packages.sury.org/php/ $(lsb_release -sc) main&#34; &gt; /etc/apt/sources.list.d/php.list&#39; </code></pre></div><h4 id="import-the-gpg-key-for-the-repository">Import the GPG key for the repository</h4>
<div class="highlight wrap-code"><pre tabindex="0"><code>wget -qO - https://packages.sury.org/php/apt.gpg | sudo apt-key add - </code></pre></div><h4 id="install-php-82">Install PHP 8.2</h4>
<p><a href="https://computingforgeeks.com/how-to-install-php-8-2-on-debian/?expand_article=1" target="_blank">https://computingforgeeks.com/how-to-install-php-8-2-on-debian/?expand_article=1</a>
(This is also part of the other dependencies install command below)</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>sudo apt install php8.2 </code></pre></div><h4 id="install-other-dependencies">Install other dependencies:</h4>
<div class="highlight wrap-code"><pre tabindex="0"><code>apt install -y nginx python3-certbot-nginx mariadb-server php8.2 php8.2-{fpm,bcmath,bz2,intl,gd,mbstring,mysql,zip,xml,curl}</code></pre></div><h3 id="improving-nextcloud-server-performance">Improving Nextcloud server performance</h3>
<p>Adding more child processes for PHP to use:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>vim /etc/php/8.2/fpm/pool.d/www.conf

# update the following parameters in the file
pm = dynamic
pm.max_children = 120
pm.start_servers = 12
pm.min_spare_servers = 6
pm.max_spare_servers = 18</code></pre></div><h3 id="start-your-mariadb-server">Start your MariaDB server:</h3>
<div class="highlight wrap-code"><pre tabindex="0"><code>systemctl enable mariadb --now</code></pre></div><h3 id="set-up-a-sql-database">Set up a SQL Database</h3>
<p>Nextcloud needs some tables setup in order to store information in a database. First set up a secure sql database:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>mysql_secure_installation</code></pre></div><p>Say “Yes” to the prompts and enter root password:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>Switch to unix_socket authentication [Y/n]: Y
Change the root password? [Y/n]: Y	# enter password.
Remove anonymous users? [Y/n]: Y
Disallow root login remotely? [Y/n]: Y
Remove test database and access to it? [Y/n]: Y
Reload privilege tables now? [Y/n]: Y</code></pre></div><p>Sign in to your SQL database with the password you just chose:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>mysql -u root -p</code></pre></div><h3 id="creating-a-database-for-nextcloud">Creating a database for NextCloud</h3>
<p>While signed in with the mysql command, enter the commands below one at a time. Make sure to replace the username and password. But leave localhost as is:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>CREATE DATABASE nextcloud;
GRANT ALL ON nextcloud.* TO &#39;username&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;password&#39;;
FLUSH PRIVILEGES;
EXIT;</code></pre></div><h3 id="install-ssl-with-certbot">Install SSL with Certbot</h3>
<p>Obtain an SSL certificate. See my <a href="https://perfectdarkmode.com/posts/2023/03/building-a-minimalist-website-with-hugo/" target="_blank">website setup</a> post for information about Certbot and nginx setup.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>certbot certonly --nginx -d nextcloud.example.com</code></pre></div><h3 id="create-a-cname-record-for-dns">Create a CNAME record for DNS.</h3>
<p>You will need to have a domain name set up for your server. I use Cloudflare to manage my DNS records. You will want to make a CNAME record for your nextcloud subdomain.</p>
<p>Just add &ldquo;nextcloud&rdquo; as the name and &ldquo;yourwebsite.com&rdquo; as the content. This will make it so &ldquo;nextcloud.yourwebsite.com&rdquo;. Make sure to select &ldquo;DNS Only&rdquo; under proxy status.</p>
<h3 id="nginx-setup">Nginx Setup</h3>
<p>Edit your sites-available config at /etc/nginx/sites-available/nextcloud. See comments in the following text box:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>vim /etc/nginx/sites-available/nextcloud

# Add this to the file:
# replace example.org with your domain name
# use the following vim command to make this easier
# :%s/example.org/perfectdarkmode.com/g
# ^ this will replace all instances of example.org with perfectdarkmode.com. Replace with yur domain

upstream php-handler {
    server unix:/var/run/php/php8.2-fpm.sock;
    server 127.0.0.1:9000;
}
map $arg_v $asset_immutable {
    &#34;&#34; &#34;&#34;;
    default &#34;immutable&#34;;
}
server {
    listen 80;
    listen [::]:80;
    server_name nextcloud.example.org ;
    return 301 https://$server_name$request_uri;
}
server {
    listen 443      ssl http2;
    listen [::]:443 ssl http2;
    server_name nextcloud.example.org ;
    root /var/www/nextcloud;
    ssl_certificate     /etc/letsencrypt/live/nextcloud.example.org/fullchain.pem ;
    ssl_certificate_key /etc/letsencrypt/live/nextcloud.example.org/privkey.pem ;
    client_max_body_size 512M;
    client_body_timeout 300s;
    fastcgi_buffers 64 4K;
    gzip on;
    gzip_vary on;
    gzip_comp_level 4;
    gzip_min_length 256;
    gzip_proxied expired no-cache no-store private no_last_modified no_etag auth;
    gzip_types application/atom+xml application/javascript application/json application/ld+json application/manifest+json application/rss+xml application/vnd.geo+json application/vnd.ms-fontobject application/wasm application/x-font-ttf application/x-web-app-manifest+json application/xhtml+xml application/xml font/opentype image/bmp image/svg+xml image/x-icon text/cache-manifest text/css text/plain text/vcard text/vnd.rim.location.xloc text/vtt text/x-component text/x-cross-domain-policy;
    client_body_buffer_size 512k;
    add_header Referrer-Policy                      &#34;no-referrer&#34;   always;
    add_header X-Content-Type-Options               &#34;nosniff&#34;       always;
    add_header X-Download-Options                   &#34;noopen&#34;        always;
    add_header X-Frame-Options                      &#34;SAMEORIGIN&#34;    always;
    add_header X-Permitted-Cross-Domain-Policies    &#34;none&#34;          always;
    add_header X-Robots-Tag                         &#34;none&#34;          always;
    add_header X-XSS-Protection                     &#34;1; mode=block&#34; always;
    fastcgi_hide_header X-Powered-By;
    index index.php index.html /index.php$request_uri;
    location = / {
        if ( $http_user_agent ~ ^DavClnt ) {
            return 302 /remote.php/webdav/$is_args$args;
        }
    }
    location = /robots.txt {
        allow all;
        log_not_found off;
        access_log off;
    }
    location ^~ /.well-known {
        location = /.well-known/carddav { return 301 /remote.php/dav/; }
        location = /.well-known/caldav  { return 301 /remote.php/dav/; }
        location /.well-known/acme-challenge    { try_files $uri $uri/ =404; }
        location /.well-known/pki-validation    { try_files $uri $uri/ =404; }
        return 301 /index.php$request_uri;
    }
    location ~ ^/(?:build|tests|config|lib|3rdparty|templates|data)(?:$|/)  { return 404; }
    location ~ ^/(?:\.|autotest|occ|issue|indie|db_|console)                { return 404; }
    location ~ \.php(?:$|/) {
        # Required for legacy support
        rewrite ^/(?!index|remote|public|cron|core\/ajax\/update|status|ocs\/v[12]|updater\/.+|oc[ms]-provider\/.+|.+\/richdocumentscode\/proxy) /index.php$request_uri;
        fastcgi_split_path_info ^(.+?\.php)(/.*)$;
        set $path_info $fastcgi_path_info;
        try_files $fastcgi_script_name =404;
        include fastcgi_params;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        fastcgi_param PATH_INFO $path_info;
        fastcgi_param HTTPS on;
        fastcgi_param modHeadersAvailable true;
        fastcgi_param front_controller_active true;
        fastcgi_pass php-handler;
        fastcgi_intercept_errors on;
        fastcgi_request_buffering off;
        fastcgi_max_temp_file_size 0;
    }
    location ~ \.(?:css|js|svg|gif|png|jpg|ico|wasm|tflite|map)$ {
        try_files $uri /index.php$request_uri;
        add_header Cache-Control &#34;public, max-age=15778463, $asset_immutable&#34;;
        access_log off;     # Optional: Don&#39;t log access to assets
        location ~ \.wasm$ {
            default_type application/wasm;
        }
    }
    location ~ \.woff2?$ {
        try_files $uri /index.php$request_uri;
        expires 7d;
        access_log off;
    }
    location /remote {
        return 301 /remote.php$request_uri;
    }
    location / {
        try_files $uri $uri/ /index.php$request_uri;
    }
}</code></pre></div><h3 id="enable-the-site">Enable the site</h3>
<p>Create a link between the file you just made and /etc/nginx/sites-enabled</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>ln -s /etc/nginx/sites-available/nextcloud /etc/nginx/sites-enabled/</code></pre></div><h3 id="install-nextcloud">Install Nextcloud</h3>
<p>Download the latest Nextcloud version. Then extract into /var/www/. Also, update the file&rsquo;s permissions to give nginx access:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>wget https://download.nextcloud.com/server/releases/latest.tar.bz2
tar -xjf latest.tar.bz2 -C /var/www
chown -R www-data:www-data /var/www/nextcloud
chmod -R 755 /var/www/nextcloud</code></pre></div><h3 id="start-and-enable-php-fpm-on-startup">Start and enable php-fpm on startup</h3>
<div class="highlight wrap-code"><pre tabindex="0"><code>&lt;systemctl enable php8.2fpm --now](&gt;&lt;--may not need this.
# Do need this-&gt;
sudo systemctl enable php8.2-fpm.service --now</code></pre></div><h3 id="reload-nginx">Reload nginx</h3>
<div class="highlight wrap-code"><pre tabindex="0"><code>systemctl reload nginx</code></pre></div><h3 id="nextcloud-occ-tool">Nextcloud occ tool</h3>
<p>Here is a built in Nextcloud tool just in case things break. Here is a <a href="https://docs.nextcloud.com/server/latest/admin_manual/configuration_server/occ_command.html" target="_blank">guide</a> on troubleshooting with occ. The basic command is as follows:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>sudo -u www-data php /var/www/nextcloud/occ</code></pre></div><p>Add this as an alias in ~/.bashrc for ease of use.</p>
<h3 id="you-are-ready-to-log-in-to-nextcloud">You are ready to log in to Nextcloud!</h3>
<p>Go to your nextcloud domain in a browser. In my case, I head to nextcloud.perfectdarkmode.com. Fill out the form to create your first Nextcloud user:</p>
<ul>
<li>Choose an admin username and secure password.</li>
<li>Leave Data folder as the default value.</li>
<li>For Database user, enter the user you set for the SQL database.</li>
<li>For Database password, enter the password you chose for the new user in MariaDB.</li>
<li>For Database name, enter: nextcloud</li>
<li>Leave &ldquo;localhost&rdquo; as &ldquo;localhost&rdquo;.</li>
<li>Click Finish.</li>
</ul>
<p>Now that you are signed in. Here are a few things you can do to start you off:</p>
<ul>
<li>Download the desktop and mobile app and sync all of your data. (covered below)</li>
<li>Look at different apps to consolodate your programs all in one place.</li>
<li>Put the Nextcloud dashboard as your default browser homepage and customize themes.</li>
<li>Set up email integration.</li>
</ul>
<h3 id="nextcloud-desktop-synchronization">NextCloud desktop synchronization</h3>
<p>Install the desktop client (Fedora)</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>Sudo dnf install nextcloudclient</code></pre></div><p>Install on other distros: <a href="https://help.nextcloud.com/t/install-nextcloud-client-for-opensuse-arch-linux-fedora-ubuntu-based-android-ios/13657" target="_blank">https://help.nextcloud.com/t/install-nextcloud-client-for-opensuse-arch-linux-fedora-ubuntu-based-android-ios/13657</a></p>
<ol>
<li>Run the nextcloud desktop app and sign in.</li>
<li>Choose folders to sync.</li>
<li>Folder will be ~/Nextcloud.</li>
<li>Move everything into your nextcloud folder.</li>
</ol>
<p>This may break things with filepaths so beware. Now you are ready to use and explore nextcloud. Here is a <a href="https://www.youtube.com/watch?v=j0APTeBFfSU" target="_blank">video</a> from TechHut to get you started down the NextCloud rabbit hole.</p>
<h4 id="change-max-upload-size-default-is-500mg">Change max upload size (default is 500mg)</h4>
<p>/var/www/nextcloud/.user.ini
php_value upload_max_filesize = 16G
php_value post_max_size = 16G</p>
<h3 id="remove-file-locks">Remove file locks</h3>
<p>Put Nextcloud in maintenance mode: Edit <code>config/config.php</code> and change this line:<br>
<code>'maintenance' =&gt; true,</code></p>
<p>Empty table <code>oc_file_locks</code>: Use tools such as phpmyadmin or connect directly to your database and run (the default table prefix is <code>oc_</code>, this prefix can be different or even empty):<br>
<code>DELETE FROM oc_file_locks WHERE 1</code></p>
<ul>
<li>disable maintenance mode (undo first step).</li>
<li>Make sure your cron-jobs run properly (you admin page tells you when cron ran the last time): <a href="https://docs.nextcloud.org/server/13/admin_manual/configuration_server/background_jobs_configuration.html" target="_blank">https://docs.nextcloud.org/server/13/admin_manual/configuration_server/background_jobs_configuration.html 2.7k</a></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0"><code>mysql -u root -p
MariaDB [(none)]&gt; use nextcloud;
MariaDB [nextcloud]&gt; DELETE FROM oc_file_locks WHERE 1;

*figure out redis install if this happens regularly* [https://docs.nextcloud.org/server/13/admin_manual/configuration_server/caching_configuration.html#id4 9.1k](https://docs.nextcloud.org/server/13/admin_manual/configuration_server/caching_configuration.html#id4)</code></pre></div>
            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="scss--sass-in-hugo">SCSS &amp; SASS in Hugo</h1>

<p>Create assets/scss/</p>
<p>Files that begin with _ are not meant to be imported into the SASS compiler. They are meant to be used by other scss files.</p>
<p>main.scss file Import other _ files that are in assets/scss:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>@import &#34;grid&#34;;
@import &#34;demo&#34;;</code></pre></div><h2 id="import-scss-or-sass">Import SCSS or SASS</h2>
<p>Add to /layouts/partials/head.html</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>&lt;title&gt;{{ .Title }}&lt;/title&gt;
{{ $css := resources.Get &#34;scss/main.scss&#34; }}
{{ $css = $css | toCSS }}

&lt;link rel=&#34;stylesheet&#34; href=&#34;{{ $css.RelPermalink}}&#34;&gt;</code></pre></div>
            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="pandoc-guide">Pandoc Guide</h1>

<h1 id="pandoc">Pandoc</h1>
<p>Used for converting file formats</p>
<p><a href="https://ins3cure.com/pandoc-on-rhel-8/" target="_blank">https://ins3cure.com/pandoc-on-rhel-8/</a></p>
<p>Go to <a href="https://github.com/jgm/pandoc/releases/latest" target="_blank">https://github.com/jgm/pandoc/releases/latest</a>, download the latest tarball (currently pandoc-2.17.0.1-linux-64.tar.gz) and run:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>sudo tar xvzf pandoc-2.17.0.1-linux-64.tar.gz --strip-components 1 -C /usr/local/</code></pre></div><p>install TeX to be able to generate PDF output:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>sudo yum -y install texlive</code></pre></div><h2 id="basic-useage">Basic useage</h2>
<div class="highlight wrap-code"><pre tabindex="0"><code>pandoc inputfile -f inputfiletype -t outputfiletype -o outputfile</code></pre></div><h2 id="convert-full-folder">Convert full folder</h2>
<div class="highlight wrap-code"><pre tabindex="0"><code>for f in *; do pandoc &#34;$f&#34; -s -o &#34;../bloghtml/${f%}.html&#34;; done</code></pre></div><h2 id="convert-epub-to-markdown-and-migrate-to-obsidian">Convert epub to markdown and migrate to Obsidian</h2>
<p>Run <code>pandoc bookname.epub -o bookname.md --extract-media=images</code></p>
<p>This will create the file and an image folder. Place the image folder in your Obsidian attachments folder. Also, place the markdown file in your Obsidian vault and Obsidian will see all of the image references.</p>
<p>Then, you can run Obsidian&rsquo;s <a href="/tools/pandoc/image_to_text.md">Text Extractor</a> to pull the text from the image to your clipboard.</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="rsync-guide">Rsync Guide</h1>

<h1 id="using-rsync-to-sync-a-folder-between-two-hosts">Using Rsync to sync a folder between two hosts</h1>
<p>I was using github to sync my notebook with my website. But that introduces some extra steps that rsync can easily eliminate.</p>
<h2 id="install-rsync">Install rsync</h2>
<div class="highlight wrap-code"><pre tabindex="0"><code>apt install rsync</code></pre></div><h2 id="to-upload-files-from-your-local-computer-to-your-server">To upload files from your local computer to your server</h2>
<div class="highlight wrap-code"><pre tabindex="0"><code>rsync -rtvzP /path/to/file root@example.org:/path/on/the/server</code></pre></div><h2 id="turn-the-above-script-into-an-alias">Turn the above script into an alias</h2>
<p>We will be adding an alias so you do not have to type the entire command above every time. Add the following to ~/.bashrc</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>alias rsyncp=&#39;rsync -rtvzP ~/Documents/PerfectDarkMode_html/ root@perfectdarkmode.com:/var/www/PerfectDarkMode_html&#39;</code></pre></div><p>Update the source for the new alias to take effect:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>$ source ~/.bashrc</code></pre></div><p>Now simply type &ldquo;rsyncp&rdquo; to run the command.</p>
<h2 id="options">Options</h2>
<ul>
<li>-r - Recursive</li>
<li>-t - tranfer modification times (lets you skip files that have not been modified)</li>
<li>-v - visual</li>
<li>-z - with file compression</li>
<li>-p - pick up where you left off if a file fails during transfer</li>
</ul>
<h2 id="download-files-from-another-host">Download files from another host</h2>
<div class="highlight wrap-code"><pre tabindex="0"><code>rsync -rtvzP root@example.org:/path/to/file /path/to/file</code></pre></div>
            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="beginners-guide-to-git">Beginners Guide to Git</h1>

<h1 id="commands">Commands</h1>
<h2 id="version">Version</h2>
<p>$ git &ndash;version</p>
<ul>
<li>Show version of git installed</li>
</ul>
<h2 id="config">Config</h2>
<p>$ git config &ndash;global user.name &ldquo;username&rdquo;
$ git config &ndash;global user.email &ldquo;<a href="mailto:email@email.com" target="_blank">email@email.com</a>&rdquo;</p>
<ul>
<li>Let&rsquo;s git know who you are</li>
</ul>
<h2 id="inizialize">Inizialize</h2>
<p>$ git init</p>
<ul>
<li>initialize git on the current working directory</li>
</ul>
<h2 id="status">Status</h2>
<p>$ git status</p>
<ul>
<li>check the status of your git repo from your current working directory</li>
<li>&ndash;short flag will show a more compact version
<ul>
<li>
<p>Short status flags are:</p>
<p>?? - Untracked files
A - Files added to stage
M - Modified files
D - Deleted files</p>
</li>
</ul>
</li>
</ul>
<h2 id="staging">Staging</h2>
<p>$ git add filename.txt</p>
<ul>
<li>stages the file</li>
</ul>
<p>$ git add &ndash;all</p>
<ul>
<li>stages all files in the directory</li>
</ul>
<h2 id="clone-from-a-remote-repo">clone from a remote repo</h2>
<p>git clone enter_repo_url_here</p>
<h2 id="pull">Pull</h2>
<p>Use this to update current folder with new repo changes</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>git pull origin main</code></pre></div><h2 id="log">Log</h2>
<p>$ git log</p>
<ul>
<li>View history of commits for a repository.</li>
</ul>
<h2 id="help">Help</h2>
<p>$ git <em>command</em> -help (or &ndash;help)</p>
<ul>
<li>options for a specific command</li>
</ul>
<p>$ git help &ndash;all</p>
<ul>
<li>See all possible commands</li>
</ul>
<h2 id="link-to-github">Link to Github</h2>
<p>Add the repository and push. You need an access toekn as the password to log in.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>[davidthomas@fedora PerfectDarkMode]$ git remote add origin https://github.com/tdavetech/perfectdarkmode.git
[davidthomas@fedora PerfectDarkMode]$ git branch -M main
[davidthomas@fedora PerfectDarkMode]$ git push -u origin main</code></pre></div><p>Create a personal access Token; <a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token" target="_blank">https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token</a></p>
<h3 id="make-sure-you-are-linking-to-https">Make sure you are linking to HTTPS</h3>
<p><a href="https://docs.github.com/en/get-started/getting-started-with-git/managing-remote-repositories#switching-remote-urls-from-ssh-to-https" target="_blank">https://docs.github.com/en/get-started/getting-started-with-git/managing-remote-repositories#switching-remote-urls-from-ssh-to-https</a></p>
<h1 id="summary">Summary</h1>
<ul>
<li>Version control system</li>
<li>Tracking code changes</li>
<li>Tracking who made changes</li>
<li>Coding collaboration</li>
<li>Manage projects with Repositories</li>
<li>Clone a project to work on a local copy</li>
<li>Staging and Committing</li>
<li>Branch and Merge to allow for work on different parts and versions of a project</li>
<li>Push local updates to the main project</li>
</ul>
<h2 id="how-to-use">How to Use</h2>
<ul>
<li>Initialize Git on a folder, making it a Repository</li>
<li>Git now creates a hidden folder to keep track of changes in that folder</li>
<li>When a file is changed, added or deleted, it is considered modified</li>
<li>You select the modified files you want to Stage</li>
<li>The Staged files are Committed, which prompts Git to store a permanent snapshot of the files</li>
<li>Git allows you to see the full history of every commit.</li>
<li>You can revert back to any previous commit.</li>
<li>Git does not store a separate copy of every file in every commit, but keeps track of changes made in each commit!</li>
</ul>
<h2 id="files-in-your-git-repository-folder-can-be-in-one-of-2-states">Files in your Git repository folder can be in one of 2 states:</h2>
<p>Tracked - files that Git knows about and are added to the repository
Untracked - files that are in your working directory, but not added to the repository
When you first add files to an empty repository, they are all untracked. To get Git to track them, you need to stage them, or add them to the staging environment.</p>
<h2 id="git-staging-environment">Git Staging Environment</h2>
<p>Staged files are files that are ready to be committed to the repository you are working on.</p>
<h2 id="git-commit">Git Commit</h2>
<p>Adding commits keep track of changes. Each commit is a  change point or &ldquo;save point&rdquo;.
You can (and should) include a message with each commit.</p>
<p><code>$ git commit</code></p>
<p><code>$ git commit -m &quot;add comment here&quot;</code>
* commit and add a comment
* -m flag adds a message</p>
<p><code>$ git commit -a -m &quot;add message here&quot;</code>
* -a flag automatically stage every changed, already tracked file</p>
<h2 id="commit-without-stage">Commit without stage</h2>
<ul>
<li>-a option will automatically stage every changed, already tracked file.</li>
<li>Can make you commit unwanted changes</li>
</ul>
<h2 id="git-branch">Git Branch</h2>
<ul>
<li>Branch = A new/separate version of the main repository.</li>
<li>allow you to work on different parts of a project without impacting the main branch.</li>
<li>a branch can be merged with the main project.</li>
<li>switch between branches and work on different projects without them interfering with each other.</li>
<li>Low storage/overhead</li>
</ul>
<p><code>$ git branch branch-name-here</code>
* create branch with name</p>
<h2 id="checkout">Checkout</h2>
<ul>
<li>Need to check out a branch before committing or the branch will not be included.</li>
</ul>
<p><code>$ git checkout newImage; git commit</code></p>
<p>create a new branch AND check it out at the same time
<code>$ git checkout -b [yourbranchname]</code></p>
<h2 id="what-is-github">What is GitHub?</h2>
<ul>
<li>Git is not the same as GitHub.</li>
<li>GitHub makes tools that use Git.</li>
<li>GitHub is the largest host of source code in the world, and has been owned by Microsoft since 2018.</li>
</ul>
<h2 id="git-merge">Git Merge</h2>
<ul>
<li>Combine work from two different branches.</li>
<li>Creates a special commit with two parents</li>
</ul>
<p><code>$ git merge branch-name</code>
- makes a new commit with two parent (Main and the chosen branch)
- Doesn&rsquo;t merge the branch unless you check out the branch first.</p>
<p><code>$ git checkout branch-name; git merge main</code>
- checkout branch and merge with main</p>
<h2 id="git-rebase">Git Rebase</h2>
<ul>
<li>Another way of combining work between branches</li>
<li>Takes a set of commits and copies them to somewhere else</li>
<li>can be used to make a nice linear sequence of commits.</li>
<li>commit log / history of the repository will be a lot cleaner if only rebasing is allowed.</li>
<li>moves th</li>
</ul>
<p><code>$ git rebase main</code>
- adds selected branch as a commit over main
<code>$ git rebase branch-name</code>
- You will also need to checkout main and rebase it to the last commit</p>
<h2 id="head">HEAD</h2>
<ul>
<li>the symbolic name for the currently checked out commit</li>
<li>always points to the most recent commit
Detaching head</li>
<li>attaching head to a commit instead of a branch</li>
</ul>
<p><code>$ git checkout commit-name</code>
- checks out the commit and attaches the head</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="how-to-set-up-hugo-relearn-theme">How to Set up Hugo Relearn Theme</h1>

<h1 id="hugo-setup">Hugo Setup</h1>
<h2 id="adding-a-module-as-a-theme">Adding a module as a theme</h2>
<p>Make sure Go is installed</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>go version</code></pre></div><p>Create a new site</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>hugo new site sitename
cd sitename</code></pre></div><p>Initialize your site as a module</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>hugo mod init sitename</code></pre></div><p>Confirm</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>cat go.mod</code></pre></div><p>Add the module as a dependency using it&rsquo;s git link</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>hugo mod get github.com/McShelby/hugo-theme-relearn</code></pre></div><p>Confirm</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>cat go.mod</code></pre></div><p>add the theme to config.toml</p>
<div class="highlight wrap-code"><pre tabindex="0"><code># add this line to config.toml and save
theme = [&#34;github.com/McShelby/hugo-theme-relearn&#34;]</code></pre></div><p>Confirm by viewing site</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>hugo serve
# visit browser at http://localhost:1313/ to view site</code></pre></div><p>Adding a new &ldquo;chapter&rdquo; page</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>hugo new --kind chapter Chapter/_index.md</code></pre></div><p>Add a home page</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>hugo new --kind home _index.md</span></span></code></pre></div><p>Add a default page</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>hugo new &lt;chapter&gt;/&lt;name&gt;/_index.md</span></span></code></pre></div><p>or</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>hugo new &lt;chapter&gt;/&lt;name&gt;.md</span></span></code></pre></div><p>You will need to change some options in _index.md</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>+++
# is this a &#34;chaper&#34;?
chapter=true
archetype = &#34;chapter&#34;
# page title name
title = &#34;Linux&#34;
# The &#34;chapter&#34; number
weight = 1
+++</code></pre></div><p>Adding a &ldquo;content page&rdquo; under a category</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>hugo new basics/first-content.md</span></span></code></pre></div><p>Create a sub directory:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>hugo new basics/second-content/_index.md</code></pre></div><ul>
<li>change draft = true to draft = false in the content page to make a page render.</li>
</ul>
<h2 id="global-site-parameters">Global site parameters</h2>
<p>Add these to your config.toml file and edit as you please</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>[params]
  # This controls whether submenus will be expanded (true), or collapsed (false) in the
  # menu; if no setting is given, the first menu level is set to false, all others to true;
  # this can be overridden in the pages frontmatter
  alwaysopen = true
  # Prefix URL to edit current page. Will display an &#34;Edit&#34; button on top right hand corner of every page.
  # Useful to give opportunity to people to create merge request for your doc.
  # See the config.toml file from this documentation site to have an example.
  editURL = &#34;&#34;
  # Author of the site, will be used in meta information
  author = &#34;&#34;
  # Description of the site, will be used in meta information
  description = &#34;&#34;
  # Shows a checkmark for visited pages on the menu
  showVisitedLinks = false
  # Disable search function. It will hide search bar
  disableSearch = false
  # Disable search in hidden pages, otherwise they will be shown in search box
  disableSearchHiddenPages = false
  # Disables hidden pages from showing up in the sitemap and on Google (et all), otherwise they may be indexed by search engines
  disableSeoHiddenPages = false
  # Disables hidden pages from showing up on the tags page although the tag term will be displayed even if all pages are hidden
  disableTagHiddenPages = false
  # Javascript and CSS cache are automatically busted when new version of site is generated.
  # Set this to true to disable this behavior (some proxies don&#39;t handle well this optimization)
  disableAssetsBusting = false
  # Set this to true if you want to disable generation for generator version meta tags of hugo and the theme;
  # don&#39;t forget to also set Hugo&#39;s disableHugoGeneratorInject=true, otherwise it will generate a meta tag into your home page
  disableGeneratorVersion = false
  # Set this to true to disable copy-to-clipboard button for inline code.
  disableInlineCopyToClipBoard = false
  # A title for shortcuts in menu is set by default. Set this to true to disable it.
  disableShortcutsTitle = false
  # If set to false, a Home button will appear below the search bar on the menu.
  # It is redirecting to the landing page of the current language if specified. (Default is &#34;/&#34;)
  disableLandingPageButton = true
  # When using mulitlingual website, disable the switch language button.
  disableLanguageSwitchingButton = false
  # Hide breadcrumbs in the header and only show the current page title
  disableBreadcrumb = true
  # If set to true, hide table of contents menu in the header of all pages
  disableToc = false
  # If set to false, load the MathJax module on every page regardless if a MathJax shortcode is present
  disableMathJax = false
  # Specifies the remote location of the MathJax js
  customMathJaxURL = &#34;https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js&#34;
  # Initialization parameter for MathJax, see MathJax documentation
  mathJaxInitialize = &#34;{}&#34;
  # If set to false, load the Mermaid module on every page regardless if a Mermaid shortcode or Mermaid codefence is present
  disableMermaid = false
  # Specifies the remote location of the Mermaid js
  customMermaidURL = &#34;https://unpkg.com/mermaid/dist/mermaid.min.js&#34;
  # Initialization parameter for Mermaid, see Mermaid documentation
  mermaidInitialize = &#34;{ \&#34;theme\&#34;: \&#34;default\&#34; }&#34;
  # If set to false, load the Swagger module on every page regardless if a Swagger shortcode is present
  disableSwagger = false
  # Specifies the remote location of the RapiDoc js
  customSwaggerURL = &#34;https://unpkg.com/rapidoc/dist/rapidoc-min.js&#34;
  # Initialization parameter for Swagger, see RapiDoc documentation
  swaggerInitialize = &#34;{ \&#34;theme\&#34;: \&#34;light\&#34; }&#34;
  # Hide Next and Previous page buttons normally displayed full height beside content
  disableNextPrev = true
  # Order sections in menu by &#34;weight&#34; or &#34;title&#34;. Default to &#34;weight&#34;;
  # this can be overridden in the pages frontmatter
  ordersectionsby = &#34;weight&#34;
  # Change default color scheme with a variant one. Eg. can be &#34;auto&#34;, &#34;red&#34;, &#34;blue&#34;, &#34;green&#34; or an array like [ &#34;blue&#34;, &#34;green&#34; ].
  themeVariant = &#34;auto&#34;
  # Change the title separator. Default to &#34;::&#34;.
  titleSeparator = &#34;-&#34;
  # If set to true, the menu in the sidebar will be displayed in a collapsible tree view. Although the functionality works with old browsers (IE11), the display of the expander icons is limited to modern browsers
  collapsibleMenu = false
  # If a single page can contain content in multiple languages, add those here
  additionalContentLanguage = [ &#34;en&#34; ]
  # If set to true, no index.html will be appended to prettyURLs; this will cause pages not
  # to be servable from the file system
  disableExplicitIndexURLs = false
  # For external links you can define how they are opened in your browser; this setting will only be applied to the content area but not the shortcut menu
  externalLinkTarget = &#34;_blank&#34;</code></pre></div><h2 id="syntax-highlighting">Syntax highlighting</h2>
<p>Supports a variety of [Code Syntaxes]
To select the syntax, wrap the code in backticks and place the syntax by the first set of backticks.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>```bash
echo hello
\```</code></pre></div><h2 id="adding-tags">Adding tags</h2>
<p>Tags are displayed in order at the top of the page. They will also display using the menu shortcut made further down.</p>
<p>Add tags to a page:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span><span style="color:#ff5c57">+++</span>
</span></span><span style="display:flex;"><span>tags = [<span style="color:#5af78e">&#34;tutorial&#34;</span>, <span style="color:#5af78e">&#34;theme&#34;</span>]
</span></span><span style="display:flex;"><span>title = <span style="color:#5af78e">&#34;Theme tutorial&#34;</span>
</span></span><span style="display:flex;"><span>weight = <span style="color:#ff9f43">15</span>
</span></span><span style="display:flex;"><span><span style="color:#ff5c57">+++</span></span></span></code></pre></div><h2 id="choose-a-default-color-themehttpsxyprotogithubiosplashdocsallhtml">Choose a default color <a href="https://xyproto.github.io/splash/docs/all.html" target="_blank">theme</a></h2>
<p>Add to config.toml with the chosen theme for the &ldquo;style&rdquo; option:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[markup]
</span></span><span style="display:flex;"><span>  [markup.highlight]
</span></span><span style="display:flex;"><span>    <span style="color:#78787e"># if `guessSyntax = true`, there will be no unstyled code even if no language</span>
</span></span><span style="display:flex;"><span>    <span style="color:#78787e"># was given BUT Mermaid and Math codefences will not work anymore! So this is a</span>
</span></span><span style="display:flex;"><span>    <span style="color:#78787e"># mandatory setting for your site if you want to use Mermaid or Math codefences</span>
</span></span><span style="display:flex;"><span>    guessSyntax = <span style="color:#ff6ac1">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#78787e"># choose a color theme or create your own</span>
</span></span><span style="display:flex;"><span>    style = <span style="color:#5af78e">&#34;base16-snazzy&#34;</span></span></span></code></pre></div><h2 id="add-print-option-and-search-output-page">Add Print option and search output page.</h2>
<p>add the following to config.toml</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>[outputs]
  home = [&#34;HTML&#34;, &#34;RSS&#34;, &#34;PRINT&#34;, &#34;SEARCH&#34;]
  section = [&#34;HTML&#34;, &#34;RSS&#34;, &#34;PRINT&#34;]
  page = [&#34;HTML&#34;, &#34;RSS&#34;, &#34;PRINT&#34;]</code></pre></div><h2 id="customization">Customization</h2>
<p>This theme has a bunch of editable customizations called partials. You can overwrite the default partials by putting new ones in /layouts/partials/.</p>
<p>to customize &ldquo;partials&rdquo;, create a  &ldquo;partials&rdquo; directory under site/layouts/</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>cd layouts
mkdir partials
cd partials</code></pre></div><p>You can find all of the partials available for this theme <a href="https://mcshelby.github.io/hugo-theme-relearn/basics/customization/index.html" target="_blank">here</a></p>
<h3 id="change-the-site-logo-using-the-logohtml-partial">Change the site logo using the logo.html partial</h3>
<p>Create logo.html in /layouts/partials</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>vim logo.html</code></pre></div><p>Add the content you want in html. This can be an img html tag referencing an image in the static folder. Or even basic text. Here is the basic syntax of an html page, adding &ldquo;Perfect Dark Mode&rdquo; as the text to display:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;h3&gt;Perfect Dark Mode&lt;/h3&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre></div><h3 id="add-a-favicon-to-your-site">Add a favicon to your site</h3>
<ul>
<li>This is pasted from the relearn site. Add Favicon and edit *
If your favicon is a SVG, PNG or ICO, just drop off your image in your local <code>static/images/</code> folder and name it <code>favicon.svg</code>, <code>favicon.png</code> or <code>favicon.ico</code> respectively.</li>
</ul>
<p>If no favicon file is found, the theme will lookup the alternative filename <code>logo</code> in the same location and will repeat the search for the list of supported file types.</p>
<p>If you need to change this default behavior, create a new file in <code>layouts/partials/</code> named <code>favicon.html</code>. Then write something like this:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#ff6ac1">link</span> <span style="color:#57c7ff">rel</span><span style="color:#ff6ac1">=</span><span style="color:#5af78e">&#34;icon&#34;</span> <span style="color:#57c7ff">href</span><span style="color:#ff6ac1">=</span><span style="color:#5af78e">&#34;/images/favicon.bmp&#34;</span> <span style="color:#57c7ff">type</span><span style="color:#ff6ac1">=</span><span style="color:#5af78e">&#34;image/bmp&#34;</span>&gt;</span></span></code></pre></div><h1 id="changing-theme-colors">Changing theme colors</h1>
<p>In your config.toml file edit the themeVariant option under [params]</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>  themeVariant = <span style="color:#5af78e">&#34;relearn-dark&#34;</span></span></span></code></pre></div><p>There are some options to choose from or you can custom make your theme colors by using this <a href="https://mcshelby.github.io/hugo-theme-relearn/basics/generator/index.html" target="_blank">stylesheet generator</a></p>
<p>Menu Shortcuts
Add a [[menu.shortcuts]] entry for each link</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[[menu.shortcuts]]
</span></span><span style="display:flex;"><span>name = <span style="color:#5af78e">&#34;&lt;i class=&#39;fab fa-fw fa-github&#39;&gt;&lt;/i&gt; GitHub repo&#34;</span>
</span></span><span style="display:flex;"><span>identifier = <span style="color:#5af78e">&#34;ds&#34;</span>
</span></span><span style="display:flex;"><span>url = <span style="color:#5af78e">&#34;https://github.com/McShelby/hugo-theme-relearn&#34;</span>
</span></span><span style="display:flex;"><span>weight = <span style="color:#ff9f43">10</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[[menu.shortcuts]]
</span></span><span style="display:flex;"><span>name = <span style="color:#5af78e">&#34;&lt;i class=&#39;fas fa-fw fa-camera&#39;&gt;&lt;/i&gt; Showcases&#34;</span>
</span></span><span style="display:flex;"><span>url = <span style="color:#5af78e">&#34;more/showcase/&#34;</span>
</span></span><span style="display:flex;"><span>weight = <span style="color:#ff9f43">11</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[[menu.shortcuts]]
</span></span><span style="display:flex;"><span>name = <span style="color:#5af78e">&#34;&lt;i class=&#39;fas fa-fw fa-bookmark&#39;&gt;&lt;/i&gt; Hugo Documentation&#34;</span>
</span></span><span style="display:flex;"><span>identifier = <span style="color:#5af78e">&#34;hugodoc&#34;</span>
</span></span><span style="display:flex;"><span>url = <span style="color:#5af78e">&#34;https://gohugo.io/&#34;</span>
</span></span><span style="display:flex;"><span>weight = <span style="color:#ff9f43">20</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[[menu.shortcuts]]
</span></span><span style="display:flex;"><span>name = <span style="color:#5af78e">&#34;&lt;i class=&#39;fas fa-fw fa-bullhorn&#39;&gt;&lt;/i&gt; Credits&#34;</span>
</span></span><span style="display:flex;"><span>url = <span style="color:#5af78e">&#34;more/credits/&#34;</span>
</span></span><span style="display:flex;"><span>weight = <span style="color:#ff9f43">30</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[[menu.shortcuts]]
</span></span><span style="display:flex;"><span>name = <span style="color:#5af78e">&#34;&lt;i class=&#39;fas fa-fw fa-tags&#39;&gt;&lt;/i&gt; Tags&#34;</span>
</span></span><span style="display:flex;"><span>url = <span style="color:#5af78e">&#34;tags/&#34;</span>
</span></span><span style="display:flex;"><span>weight = <span style="color:#ff9f43">40</span></span></span></code></pre></div>
            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="/tags/http/">Http</a></li>
    <li><a class="term-link" href="/tags/hugo/">Hugo</a></li>
    <li><a class="term-link" href="/tags/nginx/">Nginx</a></li>
    <li><a class="term-link" href="/tags/ssl/">Ssl</a></li>
    <li><a class="term-link" href="/tags/vultr/">Vultr</a></li>
  </ul>
</div>
            </header>
<h1 id="building-a-minimalist-website-with-hugo">Building a Minimalist Website with Hugo</h1>

<p>Word Press is great, but it is probably a lot more bloated then you need for a personal website. Enter Hugo, it has less server capacity and storage needs than Word Press. Hugo is a static site generator than takes markdown files and converts them to html.</p>
<p>Hosting your own website is also a lot cheaper than having a provider like Bluehost do it for you. Instead of $15 per month, I am currently paying $10 per year.</p>
<p>This guide will walk through building a website step-by-step.</p>
<ol>
<li>Setting up a Virtual Private Server (VPS)</li>
<li>Registering a domain name</li>
<li>Pointing the domain to your server</li>
<li>Setting up hugo on your local PC</li>
<li>Syncing your Hugo generate site with your server</li>
<li>Using nginx to serve your site</li>
<li>Enable http over SSL</li>
</ol>
<h2 id="setting-up-a-virtual-private-server-vps">Setting up a Virtual Private Server (VPS)</h2>
<p>I use Vultr as my VPS. When I signed up they had a $250 credit towards a new account. If you select the cheapest server (you shouldn&rsquo;t need anything else for a basic site) that comes out to about $6 a month. Of course the $250 credit goes towards that which equates to around 41 months free.</p>
<p>Head to vultr.com. Create and account and  Select the Cloud Compute option.</p>
<p>Under CPU &amp; Storage Technology, select &ldquo;Regular Performance&rdquo;. Then under &ldquo;Server Location, select the server closest to you. Or closest to where you think your main audience will be.</p>
<p>Under Server image, select the OS you are most comfortable with. This guide uses Debian.</p>
<p>Under Server Size, slect the 10GB SSD. Do not select the &ldquo;IPv6 ONLY&rdquo; option. Leave the other options as default and enter your server hostname.</p>
<p>On the products page, click your new server. You can find your server credentials and IPv4 address here. You will need these to log in to your server.</p>
<p>Log into your sever via ssh to test. From a Linux terminal run:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>ssh username@serveripaddress</code></pre></div><p>Then, enter your password when prompted.</p>
<h2 id="registering-a-domain-name">Registering a Domain Name</h2>
<p>I got my domain perfectdarkmode.com from Cloudflare.com for about $10 per year. You can check to see available domains there. You can also check <a href="https://www.namecheckr.com/" target="_blank">https://www.namecheckr.com/</a> to see iof that name is available on various social media sites.</p>
<p>In CloudFlare, just click &ldquo;add a site&rdquo; and pick a domain that works for you. Next, you will need your server address from earlier.</p>
<p>Under domain Registration, click &ldquo;Manage Domains&rdquo;, click &ldquo;manage&rdquo; on your domain. One the sidebar to the right, there is a qucik actions menu. Click &ldquo;update DNS configuration&rdquo;.</p>
<p>Click &ldquo;Add record&rdquo;. Type is an &ldquo;A&rdquo; record. Enter the name and the ip address that you used earlier for your server. Uncheck &ldquo;Proxy Status&rdquo; and save.</p>
<p>You can check to see if your DNS has updated on various DNS severs at <a href="https://dnschecker.org/" target="_blank">https://dnschecker.org/</a>. Once those are up to date (after a couple minutes) you should be able to ping your new domain.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>[davidthomas@fedora posts]$ ping perfectdarkmode.com
PING perfectdarkmode.com (104.238.140.131) 56(84) bytes of data.
64 bytes from 104.238.140.131.vultrusercontent.com (104.238.140.131): icmp_seq=1 ttl=53 time=33.2 ms
64 bytes from 104.238.140.131.vultrusercontent.com (104.238.140.131): icmp_seq=2 ttl=53 time=28.2 ms
64 bytes from 104.238.140.131.vultrusercontent.com (104.238.140.131): icmp_seq=3 ttl=53 time=31.0 ms</code></pre></div><p>Now, you can use the same ssh command to ssh into your vultr serverusing your domain name.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>ssh username@domain.com</code></pre></div><h2 id="setting-up-hugo-on-your-local-pc">Setting up hugo on your local PC</h2>
<p>Hugo is a popular open-source static site generator. It allows you to take markdown files, and builds them into and html website. To start go to <a href="https://gohugo.io/installation/" target="_blank">https://gohugo.io/installation/</a> and download Hugo on your local computer. (I will show you how to upload the site to your server later.)</p>
<p>Pick a theme
The theme I use is here <a href="https://themes.gohugo.io/themes/hugo-theme-hello-friend-ng/" target="_blank">https://themes.gohugo.io/themes/hugo-theme-hello-friend-ng/</a></p>
<p>You can browse your own themes as well. Just make sure to follow the installation instructions. Let&rsquo;s create a new Hugo site. Change into the directory where you want your site to be located in. Mine rests in ~/Documents/.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>cd ~/Documents/</code></pre></div><p>Create your new Hugo site.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>hugo new site site-name</code></pre></div><p>This will make a new folder with your site name in the ~/Documents directory. This folder will have a few directories and a config file in it.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>archetypes  config.toml  content  data  layouts  public  resources  static  themes</code></pre></div><p>For this tutorial, we will be working with the config.toml file and the  content, public, static, and themes. Next, load the theme into your site directory. For the Hello Friend NG theme:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>git clone https://github.com/rhazdon/hugo-theme-hello-friend-ng.git themes/hello-friend-ng</code></pre></div><p>Now we will load the example site into our working site. Say yes to overwrite.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>cp -a themes/hello-friend-ng/exampleSite/* .</code></pre></div><p>The top of your new config.toml site now contains:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>baseURL = &#34;https://example.com&#34;
title   = &#34;Hello Friend NG&#34;
languageCode = &#34;en-us&#34;
theme = &#34;hello-friend-ng&#34;</code></pre></div><p>Replace your baseURL with your site name and give your site a title. Set the enableGlobalLanguageMenu option to false if you want to remove the language swithcer option at the top. I also set enableThemeToggle to true so users could set the theme to dark or light.</p>
<p>You can also fill in the links to your social handles. Comment out any lines you don&rsquo;t want with a &ldquo;#&rdquo; like so:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>[params.social](params.social)
    name = &#34;twitter&#34;
    url  = &#34;https://twitter.com/&#34;

  [params.social](params.social)
    name = &#34;email&#34;
    url  = &#34;mailto:nobody@example.com&#34;

  [params.social](params.social)
    name = &#34;github&#34;
    url  = &#34;https://github.com/&#34;

  [params.social](params.social)
    name = &#34;linkedin&#34;
    url  = &#34;https://www.linkedin.com/&#34;

 # [params.social](params.social)
   # name = &#34;stackoverflow&#34;
   # url  = &#34;https://www.stackoverflow.com/&#34;</code></pre></div><p>You may also want to edit the footer text to your liking. I commented out the second line that comes with the example site:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>[params.footer]
    trademark = true
    rss = true
    copyright = true
    author = true

    topText = []
    bottomText = [
     # &#34;Powered by &lt;a href=\&#34;http://gohugo.io\&#34;&gt;Hugo&lt;/a&gt;&#34;,
     #  &#34;Made with &amp;#10084; by &lt;a href=\&#34;https://github.com/rhazdon\&#34;&gt;Djordje Atlialp&lt;/a&gt;&#34;
    ]</code></pre></div><p>Now, move the contents of the example contents folder over to your site&rsquo;s contents folder (giggidy):</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>cp -r ~/Documents/hugo/themes/hello-friend-ng/exampleSite/content/* ~/Documents/hugo/content/</code></pre></div><p>Let&rsquo;s clean up a little bit. Cd into ~/Documents/hugo/content/posts. Rename the file to the name of your first post. Also, delete all of the other files here:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>cd ~/Documents/hugo/contents/posts
mv goisforlovers.md newpostnamehere.md
find . ! -name &#39;newpostnamehere.md&#39; -type f -exec rm -f {} +</code></pre></div><p>Open the new post file and delete everything after this:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>+++
title = &#34;Building a Minimalist Website with Hugo&#34;
description = &#34;&#34;
type = [&#34;posts&#34;,&#34;post&#34;]
tags = [
    &#34;hugo&#34;,
    &#34;nginx&#34;,
    &#34;ssl&#34;,
    &#34;http&#34;,
    &#34;vultr&#34;,
]
date = &#34;2023-03-26&#34;
categories = [
    &#34;tools&#34;,
    &#34;linux&#34;,
]
series = [&#34;tools&#34;]
[ author ]
  name = &#34;David Thomas&#34;
+++</code></pre></div><p>You will need to fill out this header information for each new post you make. This will allow you to give your site a title, tags, date, categories, etc. This is what is called a TOML header. TOML stands for Tom&rsquo;s Obvious Minimal Language. Which is a minimal language used for parsing data. Hugo uses TOML to fill out your site.</p>
<p>Save your doc and exit. Next, there should be an about.md page now in your ~/Documents/hugo/Contents folder. Edit this to edit your about page for your site. You can use this Markdown Guide if you need help learning markdown language. <a href="https://www.markdownguide.org/" target="_blank">https://www.markdownguide.org/</a></p>
<p>Note: To insert an image into your post. Add the image to your ~/Documents/hugo/static directory. Then reference the image in your post like this:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code></code></pre></div><h3 id="serve-your-website-locally">Serve your website locally</h3>
<p>Let&rsquo;s test the website by serving it locally and accessing it at localhost:1313 in your web browser. Enter the command:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>hugo serve</code></pre></div><p>Hugo will now be generating your website. You can view it by entering localhost:1313 in your webbrowser.</p>
<p><a href="#R-image-9234e48f2c70ffdf55a1e1ef1cb858a8" class="lightbox-link"><img alt="hugo1" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="/hugo1.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9234e48f2c70ffdf55a1e1ef1cb858a8"><img alt="hugo1" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="/hugo1.png"></a></p>
<p>You can use this to test new changes before uploading them to your server. When you svae a post or page file such as your about page, hugo will automatically update the changes to this local page if the local server is running.</p>
<p>Press &ldquo;Ctrl + c&rdquo; to stop this local server. This is only for testing and does not need to be running to make your site work.</p>
<h3 id="build-out-your-public-directory">Build out your public directory</h3>
<p>Okay, your website is working locally, how do we get it to your server to host it online? We are almost there. First, we will use the hugo command to build opur website in the public folder. Then, we will make a copy of our public folder on our server using rsync. I will also show you how to create an alias so you do not have to remember the rsync command every time.</p>
<p>From your hugo site folder run:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>[davidthomas@fedora hugo]$ hugo
Start building sites … 
hugo v0.98.0+extended linux/amd64 BuildDate=unknown


                   | EN  
-------------------+-----
  Pages            | 30  
  Paginator pages  |  0  
  Non-page files   |  0  
  Static files     | 16  
  Processed images |  0  
  Aliases          | 15  
  Sitemaps         |  1  
  Cleaned          |  0  

Total in 65 ms</code></pre></div><p>Next, we will put your public hugo folder into /var/www/ on your server. Here is how to do that with an alias. Open ~/.bashrc.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>vim ~/.bashrc</code></pre></div><p>Add the following line to the end of the file, making sure to replace the username and server name:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code># My custom aliases
alias rsyncp=&#39;rsync -rtvzP ~/Documents/hugo/public/ username@myserver.com:/var/www/public&#39;</code></pre></div><p>Save and exit the file. Then tell bash to update it&rsquo;s source config file.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>source ~/.bashrc</code></pre></div><p>Now your can run the command by just using the new alias any time. Your will need to do this every time you update your site locally.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>rsyncp</code></pre></div><h2 id="set-up-nginx-on-your-server">Set up nginx on your server</h2>
<p>Install nginx</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>apt update
apt upgrade
apt install nginx</code></pre></div><p>create an nginx config file in /etc/nginx/sites-available/</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>vim /etc/nginx/sites-available/public</code></pre></div><p>You will need to add the following to the file, update the options, then save and exit:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>server {
        listen 80 ;
        listen [::]:80 ;
        server_name example.org ;
        root /var/www/mysite ;
        index index.html index.htm index.nginx-debian.html ;
        location / {
                try_files $uri $uri/ =404 ;
        }
}</code></pre></div><p>Enter your domain in &ldquo;server_name&rdquo; line in place of &ldquo;example.org&rdquo;. Also, point &ldquo;root&rdquo; to your new site file from earlier. (/var/www/public). Then save and exit.</p>
<p>Link this site-available config file to sites-enabled to enable it. Then restart nginx:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>ln -s /etc/nginx/sites-available/public /etc/nginx/sites-enabled
systemctl reload nginx</code></pre></div><h3 id="access-permissions">Access Permissions</h3>
<p>We will need to make sure nginx has permissions to your site folder so that it can access them to serve your site. Run:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>chmod 777 /var/www/public</code></pre></div><h3 id="firewall-permissions">Firewall Permissions</h3>
<p>You will need to make sure your firewall allows port 80 and 443. Vultr installs the ufw program by default. But your can install it if you used a different provider. Beware, enabling a firewalll could block you from accessing your vm, so do your research before tinkering outside of these instructions.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>ufw allow 80
ufw allow 443</code></pre></div><h3 id="nginx-security">Nginx Security</h3>
<p>We will want to hide your nginx version number on error pages. This will make your site a bit harder for hackers to find exploits. Open your Nginx config file at /etc/nginx/nginx.conf and remove the &ldquo;#&rdquo; before &ldquo;server_tokens off;&rdquo;</p>
<p>Enter your domain into your browser. Congrats! You now have a running website!</p>
<h2 id="use-certbot-to-enable-https">Use Certbot to enable HTTPS</h2>
<p>Right now, our site uses the unencrypted http. We want it to use the encrypted version HTTPS (HTTP over SSL). This will increase user privacy, hide usernames and passwords used on your site, and you get the lock symbol by your URL name instead of &ldquo;!not secure&rdquo;.</p>
<h3 id="install-certbot-and-its-nginx-module">Install Certbot and It&rsquo;s Nginx Module</h3>
<div class="highlight wrap-code"><pre tabindex="0"><code>apt install python3-certbot-nginx</code></pre></div><h3 id="run-certbot">Run certbot</h3>
<div class="highlight wrap-code"><pre tabindex="0"><code>certbot --nginx</code></pre></div><p>Fill out the information, certbot asks for your emaill so it can send you a reminder when the certs need to be renewed every 3 months. You do not need to consent to giving your email to the EFF. Press 1 to select your domain. And 2 too redirect all connections to HTTPS.</p>
<p>Certbot will build out some information in your site&rsquo;s config file. Refresh your site. You should see your new fancy lock icon.</p>
<h3 id="set-up-a-cronjob-to-automatically-renew-certbot-certs">Set Up a Cronjob to automatically Renew certbot certs</h3>
<div class="highlight wrap-code"><pre tabindex="0"><code>crontab -e</code></pre></div><p>Select a text editor and add this line to the end of the file. Then save and exit the file:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>0 0 1 * * certbot --nginx renew</code></pre></div><p>You now have a running website. Just make new posts locally, the run &ldquo;hugo&rdquo; to rebuild the site. And use the rsync alias to update the folder on your server. I will soon be making tutorials on making an email address for your domain, such as <a href="mailto:david@perfectdarkmode.com" target="_blank">david@perfectdarkmode.com</a> on my site. I will also be adding a comments section, RSS feed, email subscription, sidebar, and more.</p>
<p>Feel free to reach out with any questions if you get stuck. This is meant to be an all encompassing guide. So I want it to work.</p>
<h2 id="extras">Extras</h2>
<h3 id="optimizing-images">Optimizing images</h3>
<p>Create assets folder in main directory.</p>
<p>Create images folder in /assets</p>
<p>Access image using hugo pipes</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>{{ $image := resources.Get &#34;images/test-image.jpg&#34; }}
&lt;img src=&#34;{{ ( $image.Resize &#34;500x&#34; ).RelPermalink }}&#34; /&gt;</code></pre></div><p><a href="https://gohugo.io/content-management/image-processing/" target="_blank">https://gohugo.io/content-management/image-processing/</a></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="/categories/linux/">Linux</a></li>
    <li><a class="term-link" href="/categories/tools/">Tools</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="building-a-dashboard-in-obsidian">Building a Dashboard in Obsidian</h1>

<p><a href="https://www.youtube.com/watch?v=AatZl1Z_n-g&list=PL7oLu8NfQd84_gsyqBVSVgUmCCgcvSZMx&index=22" target="_blank">https://www.youtube.com/watch?v=AatZl1Z_n-g&list=PL7oLu8NfQd84_gsyqBVSVgUmCCgcvSZMx&index=22</a>
Settings &gt; appearance &gt; CSS Snippets &gt; folder icon
<a href="https://github.com/TfTHacker/DashboardPlusPlus" target="_blank">https://github.com/TfTHacker/DashboardPlusPlus</a>
<a href="https://github.com/TfTHacker/DashboardPlusPlus/blob/master/.obsidian/snippets/dashboard.css" target="_blank">https://github.com/TfTHacker/DashboardPlusPlus/blob/master/.obsidian/snippets/dashboard.css</a></p>
<div class="highlight wrap-code"><pre tabindex="0"><code>/* Updated 2022-02-28 */

.dashboard {

padding-left: 25px !important;

padding-right: 25px !important;

padding-top: 20px !important;

}

.dashboard .markdown-preview-section {

max-width: 100%;

}

/* Title at top of the document */

.dashboard .markdown-preview-section .title {

top: 60px;

position: absolute;

font-size: 26pt !important;

font-weight: bolder;

letter-spacing: 8px;

}

.dashboard h1 {

border-bottom-style: dotted !important;

border-width: 1px !important;

padding-bottom: 3px !important;

}

.dashboard div &gt; ul {

list-style: none;

display: flex;

column-gap: 50px;

flex-flow: row wrap;

}

.dashboard div &gt; ul &gt; li {

min-width: 250px;

width: 15%;

}</code></pre></div><p>Paste into notepad &gt; save as dashboard.css &gt; add to snippets folder in .obsidian
enable the snippet.</p>
<p>Create a new page called home</p>
<p>add cssclass: dashboard to the [[YAML In Obsidian]] header.</p>
<p>Grab the dashboard++ markdown file from the repo</p>
<p>See video at 3:32 to turn readable line length on for only this page (if needed)</p>
<ul>
<li>Each list expands to the right</li>
</ul>
<h3 id="add-a-banner">Add a Banner</h3>
<p>add banners plugin &gt; create page called banners &gt; drag and drop image file into their &gt; open commands on page and type &ldquo;banner&rdquo; &gt; select add from local image</p>
<p>can change banner height from the plugin</p>
<p>install homepage plugin
Opens obsidiann in homepage
set homepage &gt; set homepage view to &ldquo;reading view&rdquo; &gt; turn on &ldquo;refresh dataview&rdquo;
set up homepage hotkey to ctrl+h</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="calibre-web-with-docker">Calibre Web With Docker</h1>

<p>I couldn’t find a guide on how to set up Calibre web step-by-step as a Docker container. Especially not one that used Nginx as a reverse proxy.</p>
<p>The good news is that it is really fast and simple. You’ll need a few tools to get this done:</p>
<ul>
<li>A server with a public IP address</li>
<li>A DNS Provider (I use CloudFlare)</li>
<li>Docker</li>
<li>Nginx</li>
<li>A Calibre Library</li>
<li>Certbot</li>
<li>Rsync</li>
</ul>
<p>First, sync your local Calibre library to a folder on your server:</p>
<p>rsync -avuP your-library-dir <a href="mailto:root@example.org" target="_blank">root@example.org</a>:/opt/calibre/</p>
<h1 id="install-docker">Install Docker</h1>
<p>sudo apt update<br>
sudo apt install docker.io</p>
<p>Create a Docker network</p>
<p>sudo docker network create calibre_network</p>
<p>Create a Docker volume to store Calibre Web data</p>
<p>sudo docker volume create calibre_data</p>
<p>Pull the Calibre Web Docker image</p>
<p>sudo docker pull linuxserver/calibre-web</p>
<p>Start the Calibre Web Docker container</p>
<p>sudo docker run -d \<br>
&ndash;name=calibre-web \<br>
&ndash;restart=unless-stopped \<br>
-p 8083:8083 \<br>
-e PUID=$(id -u) \<br>
-e PGID=$(id -g) \<br>
-v calibre_data:/config \<br>
-v /opt/calibre/Calibre:/books \<br>
&ndash;network calibre_network \<br>
linuxserver/calibre-web</p>
<h1 id="configure-nginx-to-act-as-a-reverse-proxy-for-calibre-web">Configure Nginx to act as a reverse proxy for Calibre Web</h1>
<p>Create the site file</p>
<p>sudo vim /etc/nginx/sites-available/calibre-web</p>
<p>Add the following to the file</p>
<p>server { listen 80;<br>
server_name example.com; # Replace with your domain or server IP location /<br>
{<br>
proxy_pass http://localhost:8083;<br>
proxy_set_header Host $host;<br>
proxy_set_header X-Real-IP $remote_addr;<br>
proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;<br>
proxy_set_header X-Forwarded-Proto $scheme;<br>
} }</p>
<p>Enable the site</p>
<p>sudo ln -s /etc/nginx/sites-available/calibre-web /etc/nginx/sites-enabled/</p>
<p>Restart Nginx</p>
<p>sudo service nginx restart</p>
<h1 id="dns-cname-record">DNS CNAME Record</h1>
<p>Make sure to set up a cname record for your site with your DNS provider such as: calibre.example.com</p>
<h1 id="ssl-certificate">SSL Certificate</h1>
<p>Install ssl cert using certbot</p>
<p>certbot &ndash;nginx</p>
<h1 id="site-setup">Site Setup</h1>
<p>Head to the site at <a href="https://calibre.example.com/" target="_blank">https://calibre.example.com</a> and log in with default credentials:</p>
<p>username: admin<br>
password: admin123</p>
<p>Select /books as the library directory. Go into admin settings and change your password.</p>
<h1 id="adding-new-books">Adding new books</h1>
<p>Whenever you add new books to your server via the rsync command from earlier, you will need to restart the Calibre Web Docker container. Then restart Nginx.</p>
<p>sudo docker restart calibre-web<br>
systemctl restart nginx</p>
<p>That’s all there is to it. Feel free to reach out if you have issues.</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="hosting-your-own-email-server">Hosting Your Own Email Server</h1>

<p>Make sure your VSP unblocks port 25</p>
<p>Allow ports using your firewall</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ufw allow 25/tcp
</span></span><span style="display:flex;"><span>ufw allow 587/tcp</span></span></code></pre></div><p>Install mailutils</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>apt install -y mailutils postfix</span></span></code></pre></div><p>Select &ldquo;internet site&rdquo; in the gui.</p>
<p>Then enter your domain name &ldquo;example.com&rdquo;</p>
<p>(Screenshot)</p>
<h2 id="reverse-dns-rdns">Reverse DNS (rDNS)</h2>
<p>Email servers may require a PTR record to prevent spam</p>
<p>In vultr (VPS) make sure your reverse DNS is set to your domain name. Do this for both ipv4 and ipv6 under settings.</p>
<h2 id="dkim-domain-keys-identified-mail">DKIM (Domain Keys Identified Mail)</h2>
<p>Used to prevent people from changing their from address.</p>
<p>Open DKIM is a tool that creates cryptographic public and private keys for your server. This way yopu emails can be trusted. Other servers can check your public key to make sure you are really you.</p>
<p>You will also need server-side authorization settings to verify which account the email came from.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>apt install opendkim opendkim-tools</span></span></code></pre></div><p>Generate DKIM Key, create directory, and edit permissions.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>mkdir -p /etc/postfix/dkim
</span></span><span style="display:flex;"><span>opendkim-genkey -D /etc/postfix/dkim/ -d example.org -s mail
</span></span><span style="display:flex;"><span>chgrp opendkim /etc/postfix/dkim/*
</span></span><span style="display:flex;"><span>chmod g+r /etc/postfix/dkim/*</span></span></code></pre></div><p>Create the key table</p>
<p>tell OpenDKIM where the keys are</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#ff5c57">echo</span> <span style="color:#5af78e">&#34;mail._domainkey.example.org example.org:mail:/etc/postfix/dkim/mail.private&#34;</span> &gt; /etc/postfix/dkim/keytable</span></span></code></pre></div><p>Create signing table</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#ff5c57">echo</span> <span style="color:#5af78e">&#34;*@example.org mail._domainkey.example.org&#34;</span> &gt; /etc/postfix/dkim/signingtable</span></span></code></pre></div><p>Add trusted hosts</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#ff5c57">echo</span> <span style="color:#5af78e">&#34;127.0.0.1
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">10.1.0.0/16
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">1.2.3.4/24&#34;</span> &gt; /etc/postfix/dkim/trustedhosts</span></span></code></pre></div><p>OpenDKIM configuration file</p>
<p>open up <code>/etc/opendkim.conf</code>
add these lines to source the files created above</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>KeyTable file:/etc/postfix/dkim/keytable
</span></span><span style="display:flex;"><span>SigningTable refile:/etc/postfix/dkim/signingtable
</span></span><span style="display:flex;"><span>InternalHosts refile:/etc/postfix/dkim/trustedhosts
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Canonicalization        relaxed/simple
</span></span><span style="display:flex;"><span>Socket                  inet:12301@localhost</span></span></code></pre></div><p>the socket option will already be set in the configuration file. COmment it out or overwrite this.</p>
<h2 id="allowing-postfix-to-interface-with-opendkim">Allowing postfix to interface with OPenDKIM</h2>
<p>set our OpenDKIM server, which will be running on port <code>12301</code>, as a milter (mail filter).</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>postconf -e <span style="color:#5af78e">&#34;myhostname = </span><span style="color:#ff6ac1">$(</span>cat /etc/mailname<span style="color:#ff6ac1">)</span><span style="color:#5af78e">&#34;</span>
</span></span><span style="display:flex;"><span>postconf -e <span style="color:#5af78e">&#34;milter_default_action = accept&#34;</span>
</span></span><span style="display:flex;"><span>postconf -e <span style="color:#5af78e">&#34;milter_protocol = 6&#34;</span>
</span></span><span style="display:flex;"><span>postconf -e <span style="color:#5af78e">&#34;smtpd_milters = inet:localhost:12301&#34;</span>
</span></span><span style="display:flex;"><span>postconf -e <span style="color:#5af78e">&#34;non_smtpd_milters = inet:localhost:12301&#34;</span></span></span></code></pre></div><p>Restart and reload the services</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>systemctl restart opendkim
</span></span><span style="display:flex;"><span>systemctl <span style="color:#ff5c57">enable</span> opendkim
</span></span><span style="display:flex;"><span>systemctl reload postfix</span></span></code></pre></div><h2 id="add-key-as-txt-record-in-your-registrar">Add key as TXT record in your registrar</h2>
<p>Grab the key</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#ff5c57">echo</span> -e <span style="color:#5af78e">&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">v=DKIM1; k=rsa; </span><span style="color:#ff6ac1">$(</span>tr -d <span style="color:#5af78e">&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">&#34;</span> &lt;/etc/postfix/dkim/mail.txt | sed <span style="color:#5af78e">&#34;s/k=rsa.* \&#34;p=/k=rsa; p=/;s/\&#34;\s*\&#34;//;s/\&#34;\s*).*//&#34;</span> | grep -o <span style="color:#5af78e">&#34;p=.*&#34;</span><span style="color:#ff6ac1">)</span><span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">&#34;</span></span></span></code></pre></div><p>Grab the key that starts with v=DKIM1 and enter it as the TXT Value for the record.</p>
<p>enter the host name:
mail._domainkey</p>
<p>Test</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#ff5c57">echo</span> <span style="color:#5af78e">&#34;Hi there.
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e">This is the text.&#34;</span> | mail -s <span style="color:#5af78e">&#34;Email from the server&#34;</span> your@emailaddress.com</span></span></code></pre></div><p>For more help <a href="https://appmaildev.com/en/dkim" target="_blank">https://appmaildev.com/en/dkim</a></p>
<h2 id="dmarc-domain-based-message-authentication-protocol">DMARC (Domain-based Message Authentication Protocol)</h2>
<p>Give email domain owners the ability to protect your domain from unauthorized use.</p>
<p>Add the dmarc user:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>useradd -m -G mail dmarc</code></pre></div><p>make a new TXT record like we did with DKIM, except now use the output from the following command:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>echo &#34;_dmarc.$(cat /etc/mailname)&#34;
echo &#34;v=DMARC1; p=reject; rua=mailto:dmarc@$(cat /etc/mailname); fo=1&#34;</code></pre></div><p>The first line is the Host field. The latter is the TXT value.</p>
<h3 id="sender-policy-framework">Sender Policy Framework</h3>
<p>Saving the easiest for last, we should add a TXT record for SPF, an email-authentication standard used to prevent spammers from sending messages that appear to come from a spoofed domain.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>cat /etc/mailname
echo &#34;v=spf1 mx a:mail.$(cat /etc/mailname) -all&#34;</code></pre></div><p>The output of <code>cat /etc/mailname</code> is the Host field. The output of the second command is the TXT value.</p>
<p>Again, you can check <a href="https://appmaildev.com/en/spf" target="_blank">that site</a> to make sure your DKIM, DMARC, and SPF entries are valid. That’s it!</p>
<h1 id="setting-up-an-e-mail-inbox">Setting up an E-mail Inbox</h1>
<p>In the article on <a href="https://landchad.net/mail/smtp" target="_blank">SMTP and Postfix</a>, we set up a simple Postfix server that we could use to programatically send mail with the <code>mail</code> command. In order to have a true and fully-functional mail server, users should be able to login to a mail client where they can read their inbox and send mail remotely. In order to achieve this we need Dovecot, which can store mails received by the server, authenticate user accounts and interact with mail.</p>
<p>If we’re setting up an inbox we will also want spam detection software, such as spam assassin.</p>
<h2 id="dovecot-and-spamassassin">Dovecot and Spamassassin</h2>
<div class="highlight wrap-code"><pre tabindex="0"><code>apt install dovecot-imapd dovecot-sieve spamassassin spamc</code></pre></div><p>Unblock the imap port:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>ufw allow 993</code></pre></div><h2 id="certificate">Certificate</h2>
<p>We will want a SSL certificate for the <code>mail.</code> subdomain. We can get this with <a href="https://landchad.net/basic/certbot/" target="_blank">Certbot</a>. Assuming we are using Nginx for our server otherwise, run:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>certbot --nginx certonly -d mail.example.org</code></pre></div><h2 id="dns">DNS</h2>
<p>We also need two little DNS records set on your domain registrar’s site/DNS server:</p>
<ol>
<li>An MX record. Just put your domain, <strong>example.org</strong>, in the “Points to” field.</li>
<li>A CNAME record. Host field: <strong>mail.example.org</strong>. “Points to” field: <strong>example.org.</strong></li>
</ol>
<h2 id="configuring-dovecot">Configuring Dovecot</h2>
<p>Dovecot&rsquo;s configuration file is in <code>/etc/dovecot/docevot.conf</code>. If you open that file, you will see this line: <code>!include conf.d/*.conf</code> which adds all the <code>.conf</code> files in <code>/etc/dovecot/conf.d/</code> to the Dovecot configuration.</p>
<p>One can edit each of these files individually to get the needed configuration, but to make things easy here, delete or backup the main configuration file and we will replace it with one single config file with all important settings in it. Make sure you change <code>ssl_cert</code> and <code>ssl_key</code> accordingly.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code class="language-wide" data-lang="wide"># Note that in the dovecot conf, you can use:
# %u for username
# %n for the name in name@domain.tld
# %d for the domain
# %h the user&#39;s home directory

# Connections between the mail client and Dovecot needs to be encrypted
ssl = required
ssl_cert = &lt;/etc/letsencrypt/live/mail.example.org/fullchain.pem
ssl_key = &lt;/etc/letsencrypt/live/mail.example.org/privkey.pem
ssl_min_protocol = TLSv1.2
ssl_cipher_list = EECDH+ECDSA+AESGCM:EECDH+aRSA+AESGCM:EECDH+ECDSA+SHA256:EECDH+aRSA+SHA256:EECDH+ECDSA+SHA384:EECDH+ECDSA+SHA256:EECDH+aRSA+SHA384:EDH+aRSA+AESGCM:EDH+aRSA+SHA256:EDH+aRSA:EECDH:!aNULL:!eNULL:!MEDIUM:!LOW:!3DES:!MD5:!EXP:!PSK:!SRP:!DSS:!RC4:!SEED
ssl_prefer_server_ciphers = yes
ssl_dh = &lt;/usr/share/dovecot/dh.pem
auth_mechanisms = plain login
auth_username_format = %n

protocols = $protocols imap

# Search for valid users in /etc/passwd
userdb {
    driver = passwd
}
#Fallback: Use plain old PAM to find user passwords
passdb {
    driver = pam
}

# Our mail for each user will be in ~/Mail, and the inbox will be ~/Mail/Inbox
mail_location = maildir:~/Mail:INBOX=~/Mail/Inbox:LAYOUT=fs
namespace inbox {
    inbox = yes
    mailbox Drafts {
    special_use = \Drafts
    auto = subscribe
}
    mailbox Junk {
    special_use = \Junk
    auto = subscribe
    autoexpunge = 30d
}
    mailbox Sent {
    special_use = \Sent
    auto = subscribe
}
    mailbox Trash {
    special_use = \Trash
}
    mailbox Archive {
    special_use = \Archive
}
}

# Here we let Postfix use Dovecot&#39;s authetication system.
service auth {
  unix_listener /var/spool/postfix/private/auth {
    mode = 0660
    user = postfix
    group = postfix
}
}

protocol lda {
  mail_plugins = \$mail_plugins sieve
}
protocol lmtp {
  mail_plugins = \$mail_plugins sieve
}
plugin {
	sieve = ~/.dovecot.sieve
	sieve_default = /var/lib/dovecot/sieve/default.sieve
	sieve_dir = ~/.sieve
	sieve_global_dir = /var/lib/dovecot/sieve/
}</code></pre></div><h3 id="settings-explained">Settings Explained</h3>
<p>Take a good look at the above settings to understand what&rsquo;s going on. Some of the settings include:</p>
<ol>
<li>SSL settings to allow encrypted connections.</li>
<li>The mail server will authenticate users against PAM/passwd, which means users you create on the server (so long as they are part of the <code>mail</code> group) will be able to receive and send mail.</li>
<li>Default directories for a mail account: Inbox, Sent, Drafts, Junk, Trash and Archive.</li>
<li>Create a <code>unix_listener</code> that will allow Postfix to authenticate users via Dovecot.</li>
<li>Setup the Dovecot sieve plugin, which provides mail filtering facilities at time of final message delivery. Sieve scripts can be used to customize how messages are delivered, whether they’re forwarded or stored in special folders.</li>
</ol>
<p>Next, we can tell sieve to automatically move mail flagged as spam to the junk folder:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>echo &#34;require [\&#34;fileinto\&#34;, \&#34;mailbox\&#34;];
if header :contains \&#34;X-Spam-Flag\&#34; \&#34;YES\&#34;
        {
                fileinto \&#34;Junk\&#34;;
        }&#34; &gt; /var/lib/dovecot/sieve/default.sieve</code></pre></div><p>After that, we should create the <code>vmail</code> user and group, which will access the mails, and then update the sieve configuration:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>grep -q &#39;^vmail:&#39; /etc/passwd || useradd vmail
chown -R vmail:vmail /var/lib/dovecot
sievec /var/lib/dovecot/sieve/default.sieve</code></pre></div><p>Then, enable pam authentication for Dovecot:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>echo &#34;auth    required        pam_unix.so nullok
account required        pam_unix.so&#34; &gt;&gt; /etc/pam.d/dovecot</code></pre></div><h2 id="connecting-postfix-and-dovecot">Connecting Postfix and Dovecot</h2>
<p>We need to tell Postfix to look to Dovecot for authenticating users/passwords. Dovecot will be putting an authentication socket in <code>/var/spool/postfix/private/auth</code>.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>postconf -e &#39;smtpd_sasl_auth_enable = yes&#39;
postconf -e &#39;smtpd_sasl_type = dovecot&#39;
postconf -e &#39;smtpd_sasl_path = private/auth&#39;
postconf -e &#39;mailbox_command = /usr/lib/dovecot/deliver&#39;</code></pre></div><h2 id="connecting-postfix-and-spamassassin">Connecting Postfix and Spamassassin</h2>
<p>We will change <code>/etc/postifx/master.cf</code> so postfix can route mail through spamassassin. First we can cleanup the default configuration. Feel free to make a backup.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>sed -i &#39;/^\s*-o/d;/^\s*submission/d;/^\s*smtp/d&#39; /etc/postfix/master.cf</code></pre></div><p>Finally, run this command to finish the configuration for spamassassin.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>echo &#34;smtp unix - - n - - smtp
smtp inet n - y - - smtpd
  -o content_filter=spamassassin
submission inet n       -       y       -       -       smtpd
  -o syslog_name=postfix/submission
  -o smtpd_tls_security_level=encrypt
  -o smtpd_sasl_auth_enable=yes
  -o smtpd_tls_auth_only=yes
smtps     inet  n       -       y       -       -       smtpd
  -o syslog_name=postfix/smtps
  -o smtpd_tls_wrappermode=yes
  -o smtpd_sasl_auth_enable=yes
spamassassin unix -     n       n       -       -       pipe
  user=debian-spamd argv=/usr/bin/spamc -f -e /usr/sbin/sendmail -oi -f \${sender} \${recipient}&#34; &gt;&gt; /etc/postfix/master.cf</code></pre></div><h2 id="make-new-mail-accounts">Make new mail accounts</h2>
<p>This is the easy part. Let’s say we want to add a user Billy and let him receive mail, run this:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>useradd -m -G mail billy
passwd billy</code></pre></div><p>Any user added to the <code>mail</code> group will be able to receive mail. Suppose a user Cassie already exists and we want to let her receive mail too. Just run:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>usermod -a -G mail cassie</code></pre></div><h1 id="harden-your-e-mail-server">Harden your E-mail Server</h1>
<h2 id="hardening-postfix">Hardening Postfix</h2>
<p>Put restrictions on servers sending mail to you.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>postconf -e &#39;smtpd_recipient_restrictions = permit_sasl_authenticated, permit_mynetworks, reject_unauth_destination, reject_unknown_recipient_domain&#39;</code></pre></div><h2 id="anonymize-headers">Anonymize Headers</h2>
<p>Use some regular expressions to prevent some meta data like a client’s ip address from being leaked.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>echo &#34;/^Received:.*/     IGNORE
/^X-Originating-IP:/    IGNORE
/^User-Agent:/        IGNORE
/^X-Mailer:/        IGNORE&#34; &gt;&gt; /etc/postfix/header_checks</code></pre></div><p>Add this file to the postfix configuration:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>postconf -e &#34;header_checks = regexp:/etc/postfix/header_checks&#34;</code></pre></div><h2 id="fail2ban">Fail2Ban</h2>
<p>If you’re not familiar with fail2Ban, it’s essentially a program which blocks bot’s and hacker’s login requests after a few invalid attempts.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>apt-get install fail2ban</code></pre></div><p>Make a local copy of the configuration file:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local</code></pre></div><p>Go down to the <code># Mail servers</code> line and paste this:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>[postfix]

enabled  = true
port     = smtp,ssmtp,submission
filter   = postfix
logpath  = /var/log/mail.log


[sasl]

enabled  = true
port     = smtp,ssmtp,submission,imap2,imap3,imaps,pop3,pop3s
filter   = postfix-sasl
# You might consider monitoring /var/log/mail.warn instead if you are
# running postfix since it would provide the same log lines at the
# &#34;warn&#34; level but overall at the smaller filesize.
logpath  = /var/log/mail.warn
maxretry = 1
bantime  = 21600

[dovecot]

enabled = true
port    = smtp,ssmtp,submission,imap2,imap3,imaps,pop3,pop3s
filter  = dovecot
logpath = /var/log/mail.log</code></pre></div><p>This will only grant 2 login attempts and then block the requester for 6 hours. Now restart <code>fail2ban</code>:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>systemctl restart fail2ban</code></pre></div>
            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="my-obsidian-setup">My Obsidian Setup</h1>

<h2 id="obsidian-todo">Obsidian todo</h2>
<ul>
<li>to do list
<ul>
<li>checklist plugin</li>
</ul>
</li>
<li>importing notes</li>
<li>FInish dashboard</li>
<li>Book Library</li>
<li>finance tracker</li>
<li>Kanban board?</li>
<li>learn to use kindle highlights plugin</li>
<li>look up todoist plugin</li>
<li>set up spaced repetition studying</li>
<li>use vim in obsidian?</li>
</ul>
<h2 id="settings">Settings</h2>
<ul>
<li>Made new daily notes go into journal folder</li>
<li>Made attachments go into attachment folder</li>
<li>Disable &ldquo;add dates as link&rdquo;</li>
<li>Type &ldquo;@&rdquo; to choose today&rsquo;s date.</li>
<li>edit &gt; turn readable line length off</li>
</ul>
<h2 id="installed">Installed</h2>
<ul>
<li>templater</li>
<li>cmenu</li>
<li>editing toolbar</li>
<li>homepage</li>
<li>banners</li>
<li>book search</li>
<li>tracker</li>
<li>periodic notes
<ul>
<li>add week to calendar view</li>
</ul>
</li>
<li>dataview</li>
<li>rollover daily todos</li>
<li>Natural language dates</li>
<li>recent files</li>
<li>paste url into selection</li>
<li>better word count</li>
<li>kindle highlights</li>
<li>spaced repetition</li>
<li>plugin update tracker</li>
<li>note refractor</li>
<li>table of contents</li>
<li>minimal theme settings</li>
<li>emoji toolbar</li>
<li>Editor syntax highlight</li>
<li>calendar</li>
</ul>
<h3 id="must-have-plugins">(Must have) Plugins</h3>
<p>Settings search</p>
<ul>
<li>search settings through settings menu
Commander</li>
<li>customize spacing on ribbon and every other menu and bar in obsidian and add/remove different commands</li>
<li>set up macros
Recent Files
creates tab of recent filesi
Paste URL into selection
highlight text and paste URL into it
better word count
shows words and characters
Kindle Highlights
import and sync kindle highlights
spaced repetition
plugin update tracker
icon in status bar when there are updates
customize how much time to wait before a plugin prompts to update
set to three to avoid bugs from fresh releases
note refractor
break one note into multiple notes
split by not headings
attach selection to existing note
create new note with preset perameters
split selection using first line as filename
Table of Contents
janitor
scan vault based on parameters for cleanup
Minimal theme settings
Emoji Shortcode
Editor syntax highlight</li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="obsidian-dataview-plugin">Obsidian Dataview Plugin</h1>

<p>Dataview Documentation <a href="https://blacksmithgu.github.io/obsidian-dataview/annotation/add-metadata/" target="_blank">https://blacksmithgu.github.io/obsidian-dataview/annotation/add-metadata/</a>
Blog post <a href="https://dannyhatcher.com/obsidian-dataview-for-beginners/" target="_blank">https://dannyhatcher.com/obsidian-dataview-for-beginners/</a></p>
<p>Install plugin &gt; enable top 3 Js settings &gt; turn on task settings</p>
<p>three &ldquo;`&rdquo; with &ldquo;dataview&rdquo; next to them.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code class="language-dataview" data-lang="dataview"></code></pre></div><p>add table, list, task, or calendar</p>
<ul>
<li>Parameters are case sensitive</li>
</ul>
<h3 id="table">Table</h3>
<h4 id="from">From</h4>
<p>from &ldquo;PerfectDarkMode/Books/Reading List&rdquo;</p>
<ul>
<li>Us full filepath to grab file</li>
<li>can use folder or file
AND
from PerfectDarkMode/Books/Reading List and perfectdarkmode
OR
add or for either or
from PerfectDarkMode/Books/Reading List and perfectdarkmode
&ldquo;-&rdquo;
Add dash to exclude the specified results
- from PerfectDarkMode/Books/Reading
Stacking
from PerfectDarkMode/Books/Reading List and perfectdarkmode or personal</li>
</ul>
<h4 id="where">Where</h4>
<p>where file.name = &ldquo;Reading List&rdquo;</p>
<ul>
<li>Works in all 3 querys</li>
<li>Pick specific file without changing the source</li>
<li>Not equal
<ul>
<li>where file.name!= &ldquo;Reading List&rdquo;</li>
<li></li>
</ul>
</li>
</ul>
<p>file.size
- add file size column</p>
<p>sort file.ctime (asc or desc)</p>
<p>Change names of table columns</p>
<ul>
<li>append with
<ul>
<li>as &ldquo;namehere&rdquo;</li>
<li>table file.ctime as &ldquo;Date Created&rdquo;
Remove ID
table without id file.link, file.ctime as &ldquo;creation time&rdquo;</li>
</ul>
</li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0"><code class="language-dataview" data-lang="dataview">table Evergreen_Notes</code></pre></div><div class="highlight wrap-code"><pre tabindex="0"><code class="language-dataview" data-lang="dataview">table file.ctime as &#34;Date Created&#34;
from &#34;PerfectDarkMode/Books&#34;
sort file.ctime desc</code></pre></div><h3 id="list">List</h3>
<div class="highlight wrap-code"><pre tabindex="0"><code class="language-dataview" data-lang="dataview">list file.ctime</code></pre></div><h3 id="task">Task</h3>
<p>file.ctime does not work here
tasks ask for different information than tables or lists</p>
<p>Group tasks
- group by status</p>
<div class="highlight wrap-code"><pre tabindex="0"><code class="language-dataview" data-lang="dataview">task
group by status</code></pre></div><p>[  ] makes a task (with a - before it)</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> Example task ✅ 2023-01-10</li>
<li><input disabled="" type="checkbox"> Task 2</li>
<li><input disabled="" type="checkbox"> Task 3</li>
<li><input disabled="" type="checkbox"> </li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="obsidian-image-to-text-extractor">Obsidian Image to Text Extractor</h1>

<p>Use the Obsidian text extractor plugin to pull text from images to the clipboard.</p>
<p><a href="https://github.com/scambier/obsidian-text-extractor" target="_blank">https://github.com/scambier/obsidian-text-extractor</a></p>
<p>Install and enable. Then right click an image, press &ldquo;Text Extractor&rdquo; Then &ldquo;Extract text to clipboard&rdquo;.</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="obsidian-tracker-plugin">Obsidian Tracker Plugin</h1>

<p>#three backtiks + tracker to create a tracker</p>
<p><a href="https://github.com/pyrochlore/obsidian-tracker/blob/master/examples/HabitTracker.md" target="_blank">https://github.com/pyrochlore/obsidian-tracker/blob/master/examples/HabitTracker.md</a></p>
<div class="highlight wrap-code"><pre tabindex="0"><code class="language-tracker" data-lang="tracker">searchType: frontmatter
searchTarget: noalcohol
folder: Personal/Journal/Daily
datasetName: nonoalcohol
fixedScale: 0.7
month:
	startWeekOn: &#39;Mon&#39;
	color: steelblue</code></pre></div><div class="highlight wrap-code"><pre tabindex="0"><code class="language-tracker" data-lang="tracker">searchType: frontmatter
searchTarget: nofap
folder: Personal/Journal/Daily
datasetName: nofap
summary:
	template: &#34;Longest Streak: {{maxStreak()}} day(s)\nLongest Breaks: {{maxBreaks()}} day(s)\nLast streak: {{currentStreak()}} day(s)&#34;</code></pre></div><p>Which type of search to perform
searchType: frontmatter
frontmatter = YAML stuff</p>
<p>searchTarget: kegels
What to search for</p>
<p>folder: Personal/Journal/Daily Notes
where to search</p>
<p>datasetName: kegels
add name to the chart</p>
<p>startDate: 2023-01-01
endDate: 2023-01-31
set a range of dates to show</p>
<p>month:
What to do with the data
startWeekOn: &lsquo;Mon&rsquo;
start each week on monday
color: steelblue
change tracker color
supports hex code
mode: annotation
annotation: 🕴</p>
<p>fixedScale: 1.5
change size of the tracker</p>
<p>summary:
template: &ldquo;Longest Streak: {{maxStreak()}} day(s)\nLongest Breaks: {{maxBreaks()}} day(s)\nLast streak: {{currentStreak()}} day(s)&rdquo;
create a summary of tracker as a separate tracker code block. Needs top 4 parameters from tracker</p>
<h2 id="weight-tracker">Weight tracker</h2>
<div class="highlight wrap-code"><pre tabindex="0"><code class="language-tracker" data-lang="tracker">searchType: frontmatter
searchTarget: weight
folder: Personal/Journal/Daily
line:</code></pre></div><h2 id="caffeine-tracker-line">Caffeine Tracker (line)</h2>
<div class="highlight wrap-code"><pre tabindex="0"><code class="language-tracker" data-lang="tracker">searchType: frontmatter
searchTarget: caffeine
folder: Personal/Journal/Daily
startDate: 2023-01-01
endDate: 2023-01-31
line:
	lineColor: blue
	title: Caffeine Tracker
	yAxisLabel: caffeine
	yAxisUnit: mgs
	xAxisLabel: Date</code></pre></div><h2 id="caffeine-tracker-bar">Caffeine Tracker (bar)</h2>
<pre><code>- with title
</code></pre>
<div class="highlight wrap-code"><pre tabindex="0"><code class="language-tracker" data-lang="tracker">searchType: frontmatter
searchTarget: caffeine
folder: Personal/Journal/Daily
startDate: 2023-01-01
endDate: 2023-01-31
bar:
	title: Caffeine Tracker
	yAxisLabel: caffeine
	yAxisUnit: mgs
	xAxisLabel: Date
	</code></pre></div><div class="highlight wrap-code"><pre tabindex="0"><code class="language-tracker" data-lang="tracker">searchType: frontmatter
searchTarget: caffeine
folder: Personal/Journal/Daily
summary:
	template: &#34;Minimum: {{min()}}mgs\nMaximum: {{max()}}mgs\nMedian: {{median()}}mgs\nAverage: {{average()}}mgs&#34;</code></pre></div><pre><code>yAxisLabel: 
xAxisLabel:
	Label the x and y axi

yAxisUnit: mgs
	Add unit in () by the label

lineColor: yellow (not working)
	changes line color
</code></pre>
<p>Doc for weight tracker summary
<a href="https://github.com/pyrochlore/obsidian-tracker/blob/master/examples/WeightTracker.md" target="_blank">https://github.com/pyrochlore/obsidian-tracker/blob/master/examples/WeightTracker.md</a></p>
<h2 id="pomodoro-tracker">Pomodoro Tracker</h2>
<div class="highlight wrap-code"><pre tabindex="0"><code class="language-tracker" data-lang="tracker">searchType: frontmatter
searchTarget: pomodoros
folder: Personal/Journal/Daily
bar:
	title: Pomodoro Tracker
	yAxisLabel: Pomodoros
	yAxisUnit: 
	xAxisLabel: Date</code></pre></div><div class="highlight wrap-code"><pre tabindex="0"><code class="language-tracker" data-lang="tracker">searchType: frontmatter
searchTarget: pomodoros
folder: Personal/Journal/Daily
summary:
    template: &#34;Longest Streak: {{maxStreak()}} day(s)\nLongest Breaks: {{maxBreaks()}} day(s)\nLast streak: {{currentStreak()}} day(s)&#34;</code></pre></div><h2 id="word-tracker">Word Tracker</h2>
<div class="highlight wrap-code"><pre tabindex="0"><code class="language-tracker" data-lang="tracker">searchType: fileMeta
searchTarget: numWords
folder: Personal/Journal
line:
	title: Word Counter
	yAxisLabel: Words
	lineColor: red</code></pre></div><div class="highlight wrap-code"><pre tabindex="0"><code class="language-tracker" data-lang="tracker">searchType: fileMeta
searchTarget: numWords
folder: Personal/Journal
summary: 
	template: &#39;Total number of words: {{sum()}}&#39;</code></pre></div><h2 id="mood-tracker">Mood Tracker</h2>
<div class="highlight wrap-code"><pre tabindex="0"><code class="language-tracker" data-lang="tracker">searchType: frontmatter
searchTarget: mood
folder: Personal/Journal/Daily
startDate: 2023-01-01
endDate: 2023-01-31
line:
	title: &#34;Mood&#34;
	yAxisLabel: Mood
	lineColor: &#34;#d65d0e&#34;</code></pre></div><h2 id="pomodoros-and-mood">Pomodoros and Mood</h2>
<div class="highlight wrap-code"><pre tabindex="0"><code class="language-tracker" data-lang="tracker">searchType: frontmatter
searchTarget: pomodoros, mood
folder: Personal/Journal/Daily
datasetName: pomodoros, mood
startDate: 2023-01-01
endDate: 2023-01-31
line:
	title: Pomodoros &amp; Mood
	yAxisLabel: Pomodoros, Mood
	lineColor: yellow, red
	yAxisLocation: left, right
	showLegend: True</code></pre></div><p>yAxisLocation: left, right
puts second parameter on the right</p>
<p>datasetName: pomodoros, mood
give name for legend to label</p>
<p>showLegend: True
- add legend</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="proxmox-setup">Proxmox Setup</h1>

<p>Add the following to the end of /etc/apt/sources.list</p>
<div class="highlight wrap-code"><pre tabindex="0"><code># not for production use
deb http://download.proxmox.com/debian/pve bullseye pve-no-subscription</code></pre></div><p>You may need to replace this for your current version. See <a href="https://pve.proxmox.com/wiki/Package_Repositories" target="_blank">https://pve.proxmox.com/wiki/Package_Repositories</a></p>
<p>This will download &ldquo;unstable&rdquo; updates for proxmox.</p>
<p>Next, open pve-enterprise.list if you do not have a subscription. This lets you avoid subscription errors.</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>vim /etc/apt/sources.list.d/pve-enterprise.list</code></pre></div><p>Then add a &ldquo;#&rdquo; to comment out this line:
# deb <a href="https://enterprise.proxmox.com/debian/pve" target="_blank">https://enterprise.proxmox.com/debian/pve</a> bullseye pve-enterprise</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>Then, update the lists:</code></pre></div><p>apt-get update</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>Next, Run a distribution upgrade and reboot:</code></pre></div><p>apt dist-upgrade
reboot
``</p>
<h2 id="make-the-network-bridge-vlan-aware">Make the network bridge vlan aware</h2>
<p>network &gt; select bridge &gt; edit &gt; check &ldquo;vlan aware&rdquo;</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="serial-in-on-linux">Serial In on Linux</h1>

<p>Using GTKterm app</p>
<p>Find out what port your serial cable is plugged into:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>dthomas@lgfedora:~$ dmesg | grep tty
[    0.119494] printk: console [tty0] enabled
[    1.591268] serial8250: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
[    7.707751] systemd[1]: Created slice system-getty.slice - Slice /system/getty.
[    7.708786] systemd[1]: Reached target getty.target - Login Prompts.
[  424.829380] usb 3-6: FTDI USB Serial Device converter now attached to ttyUSB0
[  498.255356] ftdi_sio ttyUSB0: FTDI USB Serial Device converter now disconnected from ttyUSB0
[  499.952411] usb 3-4: FTDI USB Serial Device converter now attached to ttyUSB0
[ 1020.298236] ftdi_sio ttyUSB0: FTDI USB Serial Device converter now disconnected from ttyUSB0
[ 1022.774544] usb 3-6: FTDI USB Serial Device converter now attached to ttyUSB0
[ 1115.380773] ftdi_sio ttyUSB0: FTDI USB Serial Device converter now disconnected from ttyUSB0
[ 1117.430371] usb 3-4: FTDI USB Serial Device converter now attached to ttyUSB0</code></pre></div><p>See last line that says &ldquo;now attached&rdquo;</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="using-templates-in-obsidian">Using Templates in Obsidian</h1>

<p>Insert date or time</p>
<p>{{date}}
{{time}}</p>
<p>How to use templates <a href="https://help.obsidian.md/Plugins/Templates" target="_blank">https://help.obsidian.md/Plugins/Templates</a></p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="yaml-in-obsidian">YAML in Obsidian</h1>

<p>three dashes at the first line of the note to enter metadata</p>
<p>tags: Evergreen_notes</p>
<ul>
<li>Add a tag</li>
<li>Space must be after colon</li>
</ul>
<p>Alias: alias here</p>
<ul>
<li>another word or phrase you can use to find this page</li>
</ul>
<p>type: Youtube</p>
<ul>
<li>can add extra types with a comma
<ul>
<li>type: Youtube, Recording</li>
</ul>
</li>
<li>Can alos use square brackets
<ul>
<li>type: [Youtube. Recording]
-Can also put in the format of a list
type:
Youtube
Recording
- Make sure there is 1 space before each</li>
</ul>
</li>
</ul>
<p>Settings &gt; editor &gt; turn frontmatter on</p>

            <footer class="footline">
            </footer>
          </article>

          </section>
        </div>
      </main>
    </div>
    <script src="/js/clipboard.min.js?1712315600" defer></script>
    <script src="/js/perfect-scrollbar.min.js?1712315600" defer></script>
    <script>
      function useMathJax( config ){
        if( !Object.assign ){
          
          return;
        }
        window.MathJax = Object.assign( window.MathJax || {}, {
          loader: {
            load: ['[tex]/mhchem']
          },
          startup: {
            elements: [
              '.math'
            ]
          },
          tex: {
            inlineMath: [
              ['$', '$'], 
              ['\\(', '\\)']
            ]
          },
          options: {
            enableMenu: false 
          }
        }, config );
      }
      useMathJax( JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="/js/d3/d3-color.min.js?1712315600" defer></script>
    <script src="/js/d3/d3-dispatch.min.js?1712315600" defer></script>
    <script src="/js/d3/d3-drag.min.js?1712315600" defer></script>
    <script src="/js/d3/d3-ease.min.js?1712315600" defer></script>
    <script src="/js/d3/d3-interpolate.min.js?1712315600" defer></script>
    <script src="/js/d3/d3-selection.min.js?1712315600" defer></script>
    <script src="/js/d3/d3-timer.min.js?1712315600" defer></script>
    <script src="/js/d3/d3-transition.min.js?1712315600" defer></script>
    <script src="/js/d3/d3-zoom.min.js?1712315600" defer></script>
    <script src="/js/js-yaml.min.js?1712315600" defer></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js" defer></script>
    <script>
      window.themeUseMermaid = JSON.parse("{ \"theme\": \"default\" }");
    </script>
    <script src="/js/theme.js?1712315600" defer></script>
  </body>
</html>
